/**
    * @x-viewer/plugins v0.8.0 build Mon Nov 24 2025
    * undefined
    * Copyright 2025 x-viewer
    * @license MIT
    */
import { THREE, THREEAddons, Plugin, ViewerEvent, IconfontClass2, ViewerName, CommonUtils, CameraProjection, forEach, setIcon, VERSION, IconfontClass, i18next, Viewer3d, BimTilesViewer, ObjectUtils, log, DefaultOpacity, Event, DeviceUtils, MouseButton, Drawable, ColorUtils, getUnitStr, CanvasRender, showPrecisionValue, MathUtils, PolygonUtils, OSnapType, Command, DrawableList, OSnapHelper, DefaultLanguage, MobileTouchHelperDrawable, map as map$1, LayerForSelectableObjects, PathDrawable, CoordinateUtils, PickMarkupHelper, BoxSelectHelper, Viewer2d, ViewDirection, LayerForSnapableObjects, CSS2DObjectUtils, MatrixAutoUpdate, MergeUtils, LayerForHitableObjects, Model2d, GeometryUtils, get as get$1, forIn, assign, keys, concat, take, takeRight, BimTilesModel, merge, TextTexture, InputManager, PickManager, BaseViewer, ControlsMode, GroundPlaneRenderOrder, Model } from '@x-viewer/core';
import { Tooltip, BasePanel, PopPanel } from '@x-viewer/ui';

function styleInject(_0x519762,_0x2c3b10){if(_0x2c3b10===void 0x0)_0x2c3b10={};var _0x462327=_0x2c3b10['insertAt'];if(!_0x519762||typeof document==='undefined')return;var _0x33aa5d=document['head']||document['getElementsByTagName']('head')[0x0],_0x54ae06=document['createElement']('style');_0x54ae06['type']='text/css',_0x462327==='top'?_0x33aa5d['firstChild']?_0x33aa5d['insertBefore'](_0x54ae06,_0x33aa5d['firstChild']):_0x33aa5d['appendChild'](_0x54ae06):_0x33aa5d['appendChild'](_0x54ae06),_0x54ae06['styleSheet']?_0x54ae06['styleSheet']['cssText']=_0x519762:_0x54ae06['appendChild'](document['createTextNode'](_0x519762));}

var css_248z$d = "#axisGizmo{background:hsla(0,0%,100%,0);bottom:1px;display:block;height:100px;left:10px;position:absolute;width:100px}";
styleInject(css_248z$d);

class CoordinateAxes extends THREE['Object3D']{constructor(_0x5d9310=!![],_0x4c48cf=![]){super(),this['name']='COORDINATE_AXES',this['AXIS_LENGTH']=0x1,this['AXIS_COLOR_X']=0xff0000,this['AXIS_COLOR_Y']=0xff00,this['AXIS_COLOR_Z']=0xff;const _0x1b0e4d=new THREE['Vector3'](0x0,0x0,0x0),_0x1d9677=new THREE['Vector3'](0x1,0x0,0x0),_0x359dea=new THREE['Vector3'](0x0,0x1,0x0),_0x50a9ec=0x0,_0x553397=0x0,_0x17aa0a=new THREE['ArrowHelper'](_0x1d9677,_0x1b0e4d,this['AXIS_LENGTH'],this['AXIS_COLOR_X'],_0x50a9ec,_0x553397),_0x59abe8=new THREE['ArrowHelper'](_0x359dea,_0x1b0e4d,this['AXIS_LENGTH'],this['AXIS_COLOR_Y'],_0x50a9ec,_0x553397);this['add'](_0x17aa0a,_0x59abe8);if(!_0x4c48cf){const _0x1308e4=new THREE['Vector3'](0x0,0x0,0x1),_0x4e8d3e=new THREE['ArrowHelper'](_0x1308e4,_0x1b0e4d,this['AXIS_LENGTH'],this['AXIS_COLOR_Z'],_0x50a9ec,_0x553397);this['add'](_0x4e8d3e);}_0x5d9310&&this['addTexts'](_0x4c48cf);}['addTexts'](_0x261b21=![]){const _0x27772a=this['createText']('X','#ff0000'),_0x4102a3=this['createText']('Y','#00ff00');_0x27772a['position']['set'](this['AXIS_LENGTH']+0.1,0x0,0x0),_0x4102a3['position']['set'](0.1,this['AXIS_LENGTH'],0.1),this['add'](_0x27772a,_0x4102a3);if(!_0x261b21){const _0x5e3426=this['createText']('Z','#0000ff');_0x5e3426['position']['set'](0x0,0x0,this['AXIS_LENGTH']+0.1),this['add'](_0x5e3426);}}['createText'](_0x23a612,_0x290ac0,_0x1a700f=0xe){const _0x5ec14e=document['createElement']('div');_0x5ec14e['innerHTML']=_0x23a612;const _0x3634fe=_0x5ec14e['style'];return _0x3634fe['color']=_0x290ac0,_0x3634fe['width']=_0x1a700f+'px',_0x3634fe['height']=_0x1a700f+'px',_0x3634fe['textAlign']='center',_0x3634fe['top']='0px',_0x3634fe['left']='0px',new THREEAddons['CSS2DObject'](_0x5ec14e);}}

class AxisGizmoPlugin extends Plugin{constructor(_0x32c5ea,_0x4892ca){const _0x9b0c0=(_0x4892ca===null||_0x4892ca===void 0x0?void 0x0:_0x4892ca['id'])||AxisGizmoPlugin['DEFAULT_ID'];super(_0x32c5ea,{'id':_0x9b0c0}),this['ignoreZAxis']=![],this['cfg']=_0x4892ca||{},this['ignoreZAxis']=!!(_0x4892ca===null||_0x4892ca===void 0x0?void 0x0:_0x4892ca['ignoreZAxis']),this['hostCamera']=_0x32c5ea['camera'],this['init']();}['init'](){this['initRenderer'](),this['initScene'](),this['animate'](),this['viewer']['addEventListener'](ViewerEvent['CameraChange'],()=>{this['hostCamera']=this['viewer']['camera'];});}['initRenderer'](){var _0x16c9c9;let _0x223e61=0x64,_0x559eb5=0x64,_0x1145a6;this['cfg']['containerId']&&(_0x1145a6=document['getElementById'](this['cfg']['containerId']),_0x1145a6&&(_0x223e61=_0x1145a6['clientWidth'],_0x559eb5=_0x1145a6['clientHeight']));if(!_0x1145a6){const _0x3f21de='axisGizmo';_0x1145a6=document['createElement']('div'),_0x1145a6['id']=_0x3f21de,(_0x16c9c9=this['viewer']['widgetContainer'])===null||_0x16c9c9===void 0x0?void 0x0:_0x16c9c9['appendChild'](_0x1145a6);}this['renderer']=new THREE['WebGLRenderer']({'antialias':!![],'alpha':!![]}),this['renderer']['setSize'](_0x223e61,_0x559eb5),_0x1145a6['appendChild'](this['renderer']['domElement']),this['css2dRenderer']=new THREEAddons['CSS2DRenderer'](),this['css2dRenderer']['setSize'](_0x223e61,_0x559eb5),this['css2dRenderer']['domElement']['style']['height']='0',this['css2dRenderer']['domElement']['style']['width']='0',_0x1145a6['appendChild'](this['css2dRenderer']['domElement']),this['container']=_0x1145a6;}['initScene'](){this['scene']=new THREE['Scene'](),this['camera']=new THREE['OrthographicCamera'](-0x1,0x1,0x1,-0x1,0.1,0x64),this['scene']['add'](this['camera']),this['coordinateAxes']=new CoordinateAxes(!![],this['ignoreZAxis']),this['scene']['add'](this['coordinateAxes']);}['setHostCamera'](_0x409b28){this['hostCamera']=_0x409b28;}['setVisible'](_0x334b70){this['container']&&(this['container']['style']['display']=_0x334b70?'block':'none');}['isVisible'](){if(this['container'])return this['container']['style']['display']!=='none';return ![];}['render'](){var _0x2e733e;if(!this['scene']||!this['camera'])return;this['renderer']&&(this['update'](),this['renderer']['render'](this['scene'],this['camera'])),(_0x2e733e=this['css2dRenderer'])===null||_0x2e733e===void 0x0?void 0x0:_0x2e733e['render'](this['scene'],this['camera']);}['animate'](){requestAnimationFrame(this['animate']['bind'](this)),this['render']();}['update'](){if(!this['hostCamera'])return;const _0x1abd67=this['hostCamera'];if(_0x1abd67){const _0x5d1ba5=new THREE['Vector3']();_0x1abd67['getWorldDirection'](_0x5d1ba5);const _0x554f90=_0x1abd67['up'];this['updateCameraDirection'](_0x5d1ba5,_0x554f90);}}['updateCameraDirection'](_0x165325,_0x37d0be){if(!this['camera']||!_0x165325)return;_0x165325['normalize']();const _0x5bf635=0x2,_0x567bd6=0.3;this['camera']['position']['set'](-_0x165325['x']*_0x5bf635+_0x567bd6,-_0x165325['y']*_0x5bf635+_0x567bd6,-_0x165325['z']*_0x5bf635+_0x567bd6),this['camera']['lookAt'](_0x567bd6,_0x567bd6,_0x567bd6),this['camera']['up']=_0x37d0be;}['destroy'](){var _0x3561bd,_0x483e9d;super['destroy']();if(!this['scene']||!this['camera']||!this['coordinateAxes'])return;this['scene']['clear'](),this['scene']=undefined,this['css2dRenderer']&&((_0x3561bd=this['container'])===null||_0x3561bd===void 0x0?void 0x0:_0x3561bd['removeChild'](this['css2dRenderer']['domElement']),this['css2dRenderer']=undefined),this['renderer']&&((_0x483e9d=this['container'])===null||_0x483e9d===void 0x0?void 0x0:_0x483e9d['removeChild'](this['renderer']['domElement']),this['renderer']['dispose'](),this['renderer']['forceContextLoss'](),this['renderer']=undefined),this['hostCamera']=undefined,this['camera']=undefined,this['coordinateAxes']=undefined;}}AxisGizmoPlugin['DEFAULT_ID']='AxisGizmoPlugin';

var css_248z$c = ".bottom-bar{bottom:0;color:#666;display:flex;overflow:hidden;position:absolute;right:0;user-select:none;z-index:3}.bottom-bar i{align-self:center;cursor:pointer;font-size:18px;line-height:1;opacity:.4;padding:3px}.bottom-bar i.active,.bottom-bar i:hover{color:#2c7be5;opacity:1}.bottom-bar .fps{width:4rem}.bottom-bar span{align-self:center;font-size:14px;padding:4px}#x-viewer-threejs-cameraCfg-tooltip,#x-viewer-threejs-statistics-tooltip,#x-viewer-threejs-tips-tooltip{background:#666;border-radius:4px;bottom:30px;color:#fff;font-size:.8rem;opacity:.9;padding:8px 8px 5px;position:absolute;right:5px;user-select:none;z-index:3}#x-viewer-threejs-cameraCfg-tooltip p,#x-viewer-threejs-statistics-tooltip p,#x-viewer-threejs-tips-tooltip p{margin:3px;padding-bottom:3px}#x-viewer-threejs-cameraCfg-tooltip p span,#x-viewer-threejs-statistics-tooltip p span,#x-viewer-threejs-tips-tooltip p span{float:left;margin-right:10px}";
styleInject(css_248z$c);

function _0x518506(n){return {all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e]);},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]));},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e);}),(i=n.get("*"))&&i.slice().map(function(n){n(t,e);});}}}

const BOTTOM_BAR_ID='bottomBar';var BottomBarItemId;(function(_0x389c22){_0x389c22['statistics']='x-viewer-threejs-statistics',_0x389c22['cameraCfg']='x-viewer-threejs-cameraCfg',_0x389c22['tips']='x-viewer-threejs-tips';}(BottomBarItemId||(BottomBarItemId={})));const getRenderInfoSpan=_0x5d56b5=>{const _0x440007=document['createElement']('span'),_0x478dc1=_0x1dc42b=>{var _0x18738f;const _0x39376c=(_0x18738f=_0x1dc42b['renderer'])===null||_0x18738f===void 0x0?void 0x0:_0x18738f['domElement'];return _0x39376c===null||_0x39376c===void 0x0?void 0x0:_0x39376c['dataset']['engine'];},_0x501745=_0x5d56b5['viewer']['getRenderInfo'](),_0x130727=(_0x4a8e00,_0x3556fa)=>{_0x440007['innerHTML']+='<p><span>'+_0x4a8e00+':</span>'+_0x3556fa+'</p>';};_0x440007['innerHTML']='<p>--\x20Renderer\x20Info\x20--</p>';const _0x183a0e='\x20('+_0x478dc1(_0x5d56b5['viewer'])+')';_0x130727('Version',''+VERSION+_0x183a0e),_0x130727('DrawCalls',_0x501745['drawCalls']),_0x130727('Points',_0x501745['points']),_0x130727('Lines',_0x501745['lines']),_0x130727('Triangles',_0x501745['triangles']),_0x130727('Materials',_0x501745['materials']),_0x130727('Textures',_0x501745['textures']),_0x130727('Geometries',_0x501745['geometries']);if(_0x5d56b5['viewer']['name']===ViewerName['BimTilesViewer']){_0x440007['innerHTML']+='<p>--\x20Tileset\x20Info\x20--</p>';const _0x44a85c=_0x5d56b5['viewer'];let _0xc31370=0x0,_0x458550=0x0,_0x24d5e9=0x0,_0x102b7f=0x0,_0x432c68=0x0,_0x457bb9=0x0,_0x342eb5=0x0;_0x44a85c['loadedModels']['forEach'](_0x1dd65e=>{_0xc31370+=_0x1dd65e['metadata']['modelSize'],_0x458550+=_0x1dd65e['statistics']['tileCount'],_0x24d5e9+=_0x1dd65e['statistics']['elementCount'],_0x102b7f+=_0x1dd65e['statistics']['materialCount'],_0x432c68+=_0x1dd65e['statistics']['textureCount'],_0x457bb9+=_0x1dd65e['statistics']['meshVertexCount'],_0x342eb5+=_0x1dd65e['statistics']['meshFaceCount'];}),_0x130727('Tileset\x20count',_0x44a85c['loadedModels']['length']),_0x130727('Tile\x20count',_0x458550),_0x130727('Model\x20size',CommonUtils['byteCountToString'](_0xc31370)),_0x130727('Element\x20count',_0x24d5e9),_0x130727('Material\x20count',_0x102b7f),_0x130727('Texture\x20count',_0x432c68),_0x130727('Vertex\x20count',_0x457bb9),_0x130727('Face\x20count',_0x342eb5);}else {if(_0x5d56b5['viewer']['name']===ViewerName['Viewer2d']){const _0xfb8886=_0x5d56b5['viewer']['getEntityCount']();_0x130727('Entities',_0xfb8886);}}return _0x440007;},getCameraCfgSpan=_0x33115f=>{const _0x2536c2=document['createElement']('span'),_0x381509=_0x33115f['viewer']['getCameraInfo'](),_0x387db3=(_0x2f2156,_0x518c35)=>{_0x2536c2['innerHTML']+='<p><span>'+_0x2f2156+':</span>'+_0x518c35+'</p>';};_0x2536c2['innerHTML']='';const _0x5b81d3=_0xfafdbf=>CommonUtils['numberToString'](_0xfafdbf),_0x38ff33=_0x5f2de5=>CommonUtils['vectorToString'](_0x5f2de5);_0x387db3('Camera\x20type',_0x381509['projection']),_0x387db3('Camera\x20position',_0x38ff33(_0x381509['position'])),_0x387db3('Camera\x20target',_0x38ff33(_0x381509['target'])),_0x387db3('Camera\x20up',_0x38ff33(_0x381509['up'])),_0x387db3('Camera\x20near',_0x5b81d3(_0x381509['near']||0x0)),_0x387db3('Camera\x20far',_0x5b81d3(_0x381509['far']||0x0));if(_0x381509['projection']===CameraProjection['Perspective'])_0x387db3('Fov',_0x5b81d3(_0x381509['fov']||0x0)),_0x387db3('Aspect',_0x5b81d3(_0x381509['aspect']||0x0));else _0x381509['projection']===CameraProjection['Orthographic']&&(_0x387db3('Zoom',_0x5b81d3(_0x381509['zoom']||0x0)),_0x387db3('Left',_0x5b81d3(_0x381509['left']||0x0)),_0x387db3('Right',_0x5b81d3(_0x381509['right']||0x0)),_0x387db3('Bottom',_0x5b81d3(_0x381509['bottom']||0x0)),_0x387db3('Top',_0x5b81d3(_0x381509['top']||0x0)));return _0x2536c2;},bottomBarItems={[BottomBarItemId['statistics']]:{'icon':{'default':'icon-info','active':'icon-info-filled','iconFont':IconfontClass2},'mutexIds':[BottomBarItemId['cameraCfg'],BottomBarItemId['tips']],'onActive':_0x2053cc=>{const _0x51143b=getRenderInfoSpan(_0x2053cc);_0x2053cc['tooltip']['setContent'](_0x51143b),_0x2053cc['tooltip']['show']();},'onDeactive':_0x76c0a9=>{_0x76c0a9['tooltip']['hide']();},'onUpdate':_0x51e1c8=>{const _0x4ececd=getRenderInfoSpan(_0x51e1c8);_0x51e1c8['tooltip']['setContent'](_0x4ececd);}},[BottomBarItemId['cameraCfg']]:{'icon':{'default':'icon-view','active':'icon-view-filled','iconFont':IconfontClass2},'mutexIds':[BottomBarItemId['statistics'],BottomBarItemId['tips']],'onActive':_0x511ab8=>{const _0xa8be99=getCameraCfgSpan(_0x511ab8);_0x511ab8['tooltip']['setContent'](_0xa8be99),_0x511ab8['tooltip']['show']();},'onDeactive':_0x2ab766=>{_0x2ab766['tooltip']['hide']();},'onUpdate':_0x5e1432=>{const _0x28f5ba=getCameraCfgSpan(_0x5e1432);_0x5e1432['tooltip']['setContent'](_0x28f5ba);}},[BottomBarItemId['tips']]:{'icon':{'default':'icon-more','iconFont':IconfontClass2},'mutexIds':[BottomBarItemId['cameraCfg'],BottomBarItemId['cameraCfg']],'onActive':_0x5ebb5a=>{const _0xf522fc=document['createElement']('span'),_0x2e352c=_0x5ebb5a['viewer']['name']===ViewerName['Viewer3d']||_0x5ebb5a['viewer']['name']===ViewerName['BimTilesViewer'];if(_0x2e352c)_0xf522fc['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><span>W:\x20</span>Move\x20forward</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><span>A:\x20</span>Move\x20backward</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><span>S:\x20</span>Move\x20left</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><span>D:\x20</span>Move\x20right</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><span>Q:\x20</span>Rise\x20up</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><span>E:\x20</span>Lower\x20down</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><span>↑:\x20</span>Rotate\x20up</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><span>↓:\x20</span>Rotate\x20down</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><span>←:\x20</span>Rotate\x20to\x20left</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><span>→:\x20</span>Rotate\x20to\x20right</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';else _0x5ebb5a['viewer']['name']===ViewerName['Viewer2d']?_0xf522fc['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><span>↑:\x20</span>Move\x20up</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><span>↓:\x20</span>Move\x20down</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><span>←:\x20</span>Move\x20to\x20left</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><span>→:\x20</span>Move\x20to\x20right</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0xf522fc['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Nothing\x20to\x20show</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x5ebb5a['tooltip']['setContent'](_0xf522fc),_0x5ebb5a['tooltip']['show']();},'onDeactive':_0x1c12d2=>{_0x1c12d2['tooltip']['hide']();}}};class BottomBarPlugin extends Plugin{constructor(_0x555b3c){const _0x167840='BottomBarPlugin';super(_0x555b3c,{'id':_0x167840}),this['itemList']=new Map(),this['init']();}['update'](){this['itemList']['forEach'](_0x3d6ac4=>{_0x3d6ac4['update']();});}['init'](){var _0x153a3f;const _0x447df6=document['createElement']('div');_0x447df6['id']=BOTTOM_BAR_ID,_0x447df6['classList']['add']('bottom-bar'),forEach(bottomBarItems,(_0x57a6f1,_0x4a1de6)=>{const _0x464ccd=this['createItem'](this['viewer'],_0x4a1de6,_0x57a6f1);_0x447df6['appendChild'](_0x464ccd['element']);}),this['element']=_0x447df6,(_0x153a3f=this['viewer']['widgetContainer'])===null||_0x153a3f===void 0x0?void 0x0:_0x153a3f['appendChild'](this['element']),this['viewer']['addEventListener'](ViewerEvent['AfterRender'],()=>{this['update']();});}['createItem'](_0xb90ac1,_0x19e0d8,_0x441180){const _0x10b834=new BottomBarItem(_0xb90ac1,this,_0x19e0d8,_0x441180);return this['itemList']['set'](_0x19e0d8,_0x10b834),_0x10b834;}}class BottomBarItem{constructor(_0x5dd9fc,_0x1b2c65,_0xa277de,_0x29141e){this['viewer']=_0x5dd9fc,this['bottomBar']=_0x1b2c65,this['menuId']=_0xa277de,this['cfg']=_0x29141e,this['eventBus']=_0x518506(),this['active']=![],this['itemconfig']=_0x29141e,this['element']=this['createButton'](this['menuId'],_0x29141e),this['tooltip']=new Tooltip(_0xa277de+'-tooltip',null,{'parentNode':_0x5dd9fc['widgetContainer']}),this['eventBus']['on']('activitychange',_0xae608e=>{_0xae608e?(this['element']['classList']['add']('active'),forEach(_0x29141e['mutexIds'],_0x72255f=>{var _0x3a2efc;const _0x8841dc=(_0x3a2efc=this['bottomBar'])===null||_0x3a2efc===void 0x0?void 0x0:_0x3a2efc['itemList']['get'](_0x72255f);_0x8841dc&&_0x8841dc['active']&&_0x8841dc['setActive'](![]);}),_0x29141e['onActive']&&_0x29141e['onActive'](this)):(this['element']['classList']['remove']('active'),_0x29141e['onDeactive']&&_0x29141e['onDeactive'](this)),this['element']instanceof HTMLElement&&setIcon(this['element']['classList'],_0x29141e['icon'],this['active']);});}['createButton'](_0x1e2008,_0x321757){const _0x9081f5=document['createElement']('i');_0x9081f5['id']=_0x1e2008;const {default:_0x365eea='icon-new',iconFont:iconFont=IconfontClass}=_0x321757['icon'];return _0x9081f5['classList']['add']('icon'),_0x9081f5['classList']['add'](iconFont),_0x9081f5['classList']['add'](_0x365eea),_0x9081f5['onclick']=()=>{this['active']=!this['active'],_0x321757['onClick']&&_0x321757['onClick'](this),this['eventBus']['emit']('activitychange',this['active']);},_0x9081f5;}['setActive'](_0xffbc49){this['active']=_0xffbc49,this['eventBus']['emit']('activitychange',this['active']);}['update'](){this['active']&&(this['itemconfig']['onUpdate']&&this['itemconfig']['onUpdate'](this));}}

var css_248z$b = ".context-menu{background-color:#fff;border-radius:2px;box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19);box-sizing:border-box;cursor:pointer;padding:2px;position:absolute;width:200px;z-index:2}.context-menu ul{list-style:none;padding:0}.context-menu ul:last-child li{border-bottom:0}.context-menu li{box-sizing:border-box;height:2rem;padding:.5rem}.context-menu li:hover{background-color:#d3d3d3}.context-menu li.disabled{color:#ccc;cursor:not-allowed}.context-menu li:last-child{border-bottom:1px solid #000}";
styleInject(css_248z$b);

const en$9={'viewFitAll':'View\x20Fit\x20All','hideAll':'Hide\x20All','showAll':'Show\x20All','xRayAll':'X-Ray','xRayNone':'X-Ray\x20None','selectNone':'Select\x20None','resetView':'Reset\x20View','viewFitEntity':'View\x20Fit','hideEntity':'Hide','hideOthers':'Hide\x20Others','xRayEntity':'X-Ray','xRayOthers':'X-Ray\x20Others','select':'Select','deselect':'Undo\x20Select','showSectionPlane':'Show\x20Section\x20Plane','showSectionBox':'Show\x20Section\x20Box','showAxisSection':'Show\x20Axis\x20Section','hideSectionPlane':'Hide\x20Section\x20Plane','hideSectionBox':'Hide\x20Section\x20Box','hideAxisSection':'Hide\x20Axis\x20Section','undoSection':'Undo\x20Section'};const cn$9={'viewFitAll':'缩放视口到所有模型','hideAll':'全部隐藏','showAll':'全部显示','xRayAll':'全部应用\x20X\x20光模式','xRayNone':'清除\x20X\x20光模式','selectNone':'清空选择','resetView':'重置视图','viewFitEntity':'缩放视口到实体','hideEntity':'隐藏','hideOthers':'隐藏其他\x20(隔离)','xRayEntity':'应用\x20X\x20光模式','xRayOthers':'对其他实体应用\x20X\x20光模式','select':'选择','deselect':'取消选择','showSectionPlane':'显示剖切面','showSectionBox':'显示剖切盒','showAxisSection':'显示轴向剖切','hideSectionPlane':'隐藏剖切面','hideSectionBox':'隐藏剖切盒','hideAxisSection':'隐藏轴向剖切','undoSection':'取消剖切'};const i18n$9=i18next['createInstance']();const lng$9='en';i18n$9['init']({'lng':lng$9,'debug':![],'resources':{'en':{'translation':en$9},'cn':{'translation':cn$9}}});

const translate=_0x59d271=>()=>{return i18n$9['t'](''+_0x59d271);},hasVisibleObject=_0x58bc73=>{return _0x58bc73['hasVisibleObject']();},hasInvisibleObject=_0x2cccca=>{return _0x2cccca['hasInvisibleObject']();},isObjectSelected=(_0x478c1c,_0x3d6eea,_0x1af54e,_0x568158)=>{const _0x2d2680=_0x3d6eea;return !!(_0x2d2680&&_0x3d6eea&&_0x2d2680['id']===_0x3d6eea['id']);},isObjectSelectedInBimTilesViewer=(_0x2b2306,_0x2aeebc)=>{const _0x152e27=_0x2b2306['selectedObject'];return !!(_0x152e27&&_0x2aeebc&&_0x152e27['tilesetId']===_0x2aeebc['tilesetId']&&_0x152e27['userId']===_0x2aeebc['userId']);},viewFitEntity={'getTitle':translate('viewFitEntity'),'getShown':({hit:_0x39d1f9})=>_0x39d1f9,'doAction':({viewer:_0x432b26,hit:_0x210e90})=>{if(_0x432b26 instanceof Viewer3d)_0x432b26['flyToObject'](_0x210e90);else _0x432b26 instanceof BimTilesViewer&&_0x432b26['flyToUserId'](_0x210e90['tilesetId'],_0x210e90['userId']);}},viewFitAll={'getTitle':translate('viewFitAll'),'getEnabled':({viewer:_0x2c21df})=>hasVisibleObject(_0x2c21df),'doAction':({viewer:_0x2868f7})=>_0x2868f7['viewFitAll']()},hideEntity={'getTitle':translate('hideEntity'),'getShown':({hit:_0x17248e})=>_0x17248e,'doAction':({viewer:_0x1e97c4,hit:_0xa6574e})=>{if(_0x1e97c4 instanceof Viewer3d)_0x1e97c4['clearSelection'](),_0x1e97c4['setObjectVisible'](_0xa6574e,![]);else _0x1e97c4 instanceof BimTilesViewer&&(_0x1e97c4['clearSelection'](),_0x1e97c4['setObjectVisibleByUserIds'](_0xa6574e['tilesetId'],[_0xa6574e['userId']],![]));_0x1e97c4['enableRender']();}},hideOthers={'getTitle':translate('hideOthers'),'getShown':({hit:_0x30efbe})=>_0x30efbe,'doAction':({viewer:_0x43739e,hit:_0x28b9b})=>{if(_0x43739e instanceof Viewer3d)_0x43739e['clearSelection'](),_0x43739e['hideOtherObjects'](_0x28b9b);else _0x43739e instanceof BimTilesViewer&&(_0x43739e['clearSelection'](),_0x43739e['setOtherObjectVisibleByUserIds'](_0x28b9b['tilesetId'],[_0x28b9b['userId']],![]));_0x43739e['enableRender']();}},hideAll={'getTitle':translate('hideAll'),'getEnabled':({viewer:_0xf3c899})=>hasVisibleObject(_0xf3c899),'doAction':({viewer:_0x30f5ed})=>{const _0x237cec=_0x30f5ed;_0x237cec['clearSelection'](),_0x237cec['setModelsVisible'](![]),_0x237cec['enableRender']();}},showAll={'getTitle':translate('showAll'),'getEnabled':({viewer:_0x13f462})=>hasInvisibleObject(_0x13f462),'doAction':({viewer:_0x187215})=>{const _0x56b902=_0x187215;_0x56b902['setModelsVisible'](!![]),_0x56b902['enableRender']();}},selectEntity={'getTitle':({hit:_0x5dcfc7,viewer:_0x2b0e63,instanceId:_0x201246,batchId:_0x11a1ee})=>{const _0x5d17c7=_0x2b0e63;return isObjectSelected(_0x5d17c7,_0x5dcfc7)?translate('deselect')():translate('select')();},'getShown':({hit:_0x348f96,viewer:_0x40767f})=>_0x40767f['enableSelection']&&_0x348f96,'doAction':({hit:_0x7fd75a,viewer:_0xad48eb,instanceId:_0x119ffd,batchId:_0x5705c2})=>{if(_0xad48eb instanceof Viewer3d){if(!ObjectUtils['isObjectSelectable'](_0x7fd75a)){log['debug']('[ContextMenu]\x20object(type:\x20'+_0x7fd75a['type']+',\x20name:\x20'+_0x7fd75a['name']+')\x20not\x20selectable!');return;}isObjectSelected(_0xad48eb,_0x7fd75a)?_0xad48eb['clearSelection']():_0xad48eb['setObjectHighlight'](_0x7fd75a);}else _0xad48eb instanceof BimTilesViewer&&(isObjectSelectedInBimTilesViewer(_0xad48eb,_0x7fd75a)?_0xad48eb['clearSelection']():_0xad48eb['setObjectHighlightedByUserIds'](_0x7fd75a['tilesetId'],[_0x7fd75a['userId']],!![]));}},selectNone={'getTitle':translate('selectNone'),'getShown':({viewer:_0x15cde2})=>_0x15cde2['enableSelection'],'getEnabled':({hit:_0x456526})=>!!_0x456526,'doAction':({viewer:_0x3a545d})=>_0x3a545d['clearSelection']()};let enableXRayAll=![];const xRayAll={'getTitle':translate('xRayAll'),'getShown':({viewer:_0x1f7904})=>!enableXRayAll,'doAction':({viewer:_0x213067})=>{const _0x3fc9c1=_0x213067;_0x3fc9c1['clearSelection'](),_0x3fc9c1['setModelsOpacity'](DefaultOpacity),_0x3fc9c1['enableRender'](),enableXRayAll=!![];}},xRayNone={'getTitle':translate('xRayNone'),'getEnabled':({viewer:_0xbce852})=>enableXRayAll,'doAction':({viewer:_0x4aa98f})=>{const _0x2a9583=_0x4aa98f;_0x2a9583['clearSelection'](),_0x2a9583['clearModelsOpacity'](),_0x2a9583['enableRender'](),enableXRayAll=![];}},xRayEntity={'getTitle':translate('xRayEntity'),'getShown':({hit:_0x311b87})=>_0x311b87,'doAction':({viewer:_0x43b60e,hit:_0x202b78})=>{if(_0x43b60e instanceof Viewer3d)_0x43b60e['clearSelection'](),_0x43b60e['setObjectOpacity'](_0x202b78,DefaultOpacity);else _0x43b60e instanceof BimTilesViewer&&(_0x43b60e['clearSelection'](),_0x43b60e['setObjectOpacityByUserIds'](_0x202b78['tilesetId'],[_0x202b78['userId']],DefaultOpacity));enableXRayAll=!![];}},xRayOthers={'getTitle':translate('xRayOthers'),'getShown':({hit:_0x57c1ff})=>_0x57c1ff,'doAction':({viewer:_0x4dc875,hit:_0x349050})=>{if(_0x4dc875 instanceof Viewer3d)_0x4dc875['clearSelection'](),_0x4dc875['setOtherObjectsOpacity'](_0x349050,DefaultOpacity);else _0x4dc875 instanceof BimTilesViewer&&(_0x4dc875['clearSelection'](),_0x4dc875['setOtherObjectOpacityByUserIds'](_0x349050['tilesetId'],[_0x349050['userId']],DefaultOpacity));enableXRayAll=!![];}};const ContextMenuItems=[[viewFitEntity,viewFitAll],[hideEntity,hideOthers,hideAll,showAll],[xRayEntity,xRayOthers,xRayAll,xRayNone],[selectEntity,selectNone]];

const en$8={'measure':'Pick\x20a\x20point\x20to\x20continue,\x20pressing\x20ESC\x20to\x20exit','areaMeasurement':'Pick\x20a\x20point\x20to\x20continue,\x20pressing\x20ESC\x20to\x20exit,\x20click\x20start\x20point\x20to\x20finish'};const cn$8={'measure':'点击继续测量,\x20ESC\x20取消测量','areaMeasurement':'点击继续测量,\x20ESC\x20取消测量，点击起点完成测量'};const i18n$8=i18next['createInstance']();const lng$8='en';i18n$8['init']({'lng':lng$8,'debug':![],'resources':{'en':{'translation':en$8},'cn':{'translation':cn$8}}});

var MeasurementType;(function(_0x1f720a){_0x1f720a['Distance']='Distance',_0x1f720a['Area']='Area',_0x1f720a['Angle']='Angle',_0x1f720a['Coordinate']='Coordinate';}(MeasurementType||(MeasurementType={})));class BaseMeasurement extends Event{constructor(_0x5492f1,_0x159dc4,_0x5da289,_0x17d40a,_0x1e86df){super(),this['actived']=![],this['mouseMoved']=![],this['mouseDowned']=![],this['touchDowned']=![],this['mouseDownPositionX']=-0x1,this['mouseDownPositionY']=-0x1,this['snapPoint']=undefined,this['touchstart']=_0x222e36=>{this['mobileTouchHelper']&&this['mobileTouchHelper']['isIntersect'](_0x222e36)&&!this['touchDowned']&&(this['clearClickedDrawable'](),this['viewer']['getCameraManager']()['enableControl'](![]),this['touchDowned']=!![],this['mouseDownPositionX']=_0x222e36['x'],this['mouseDownPositionY']=_0x222e36['y']);},this['touchmove']=_0x4f773d=>{if(_0x4f773d['pointers']&&_0x4f773d['pointers']['length']>0x1)return;const {width:_0x2ce845,height:_0x5c5281}=this['viewer']['viewerContainer']['getBoundingClientRect']();if(_0x4f773d['x']>_0x2ce845-0xf||_0x4f773d['x']<0x23||_0x4f773d['y']<0xf||_0x4f773d['y']>_0x5c5281-0x23)return;if(this['touchDowned']&&this['mobileTouchHelper']){const _0x58219d=_0x4f773d['x']-this['mouseDownPositionX'],_0x3b0e87=_0x4f773d['y']-this['mouseDownPositionY'];this['mobileTouchHelper']['translate'](_0x58219d,_0x3b0e87),this['mouseDownPositionX']=_0x4f773d['x'],this['mouseDownPositionY']=_0x4f773d['y'];const _0x123c26=this['mobileTouchHelper']['getTouchPoint'](),_0x3121cf=this['getIntersections'](_0x123c26);if(!_0x3121cf['length']){this['osnapHelper']['deactivate']();return;}const _0x163ff6=Date['now']();this['snapPoint']=this['osnapHelper']['handleSnap'](_0x3121cf,this['viewer']['is3d'](),this['lastMouseDownPosition']),log['debug']('[Measure]\x20handleSnap\x20took\x20'+(Date['now']()-_0x163ff6)/0x3e8+'s');if(!this['snapPoint']){console['warn']('[Measure]\x20Failed\x20to\x20find\x20a\x20snap\x20point!');return;}this['onMouseMove'](this['snapPoint']);}},this['touchend']=_0x2217da=>{var _0x2c4075;this['viewer']['getCameraManager']()['enableControl'](!![]);if(_0x2217da['pointers']&&_0x2217da['pointers']['length']>0x1)return;if(this['touchDowned']){this['touchDowned']=![];const _0x53bc1d=(_0x2c4075=this['mobileTouchHelper'])===null||_0x2c4075===void 0x0?void 0x0:_0x2c4075['getTouchPoint']();this['onMouseClick'](_0x53bc1d);}else this['selectMeasurementByEvent'](_0x2217da);DeviceUtils['isMobile']&&(this['osnapHelper']['deactivate'](),this['dispatchEvent']('update'));},this['mousedown']=_0x56afca=>{this['mouseMoved']=![],this['mouseDowned']=!![],this['mouseDownPositionX']=_0x56afca['x'],this['mouseDownPositionY']=_0x56afca['y'];},this['mousemove']=_0x1a4b20=>{this['lastMoveEvent']=_0x1a4b20;if(this['mouseDownPositionX']>=0x0&&this['mouseDownPositionY']>=0x0){const _0x6a4762=0x5;(Math['abs'](_0x1a4b20['x']-this['mouseDownPositionX'])>_0x6a4762||Math['abs'](_0x1a4b20['y']-this['mouseDownPositionY'])>_0x6a4762)&&(this['mouseMoved']=!![]);}if(this['mouseDowned'])return;const _0x3eb4ee=Date['now'](),_0x39f3dd=this['getIntersections'](_0x1a4b20);log['debug']('[Measure]\x20getIntersections\x20took\x20'+(Date['now']()-_0x3eb4ee)/0x3e8+'s');if(!_0x39f3dd['length']){this['osnapHelper']['deactivate']();return;}const _0x38f8c2=Date['now']();this['snapPoint']=this['osnapHelper']['handleSnap'](_0x39f3dd,this['viewer']['is3d'](),this['lastMouseDownPosition']),log['debug']('[Measure]\x20OSnapHelper.handleSnap\x20took\x20'+(Date['now']()-_0x38f8c2)/0x3e8+'s');if(!this['snapPoint']){console['warn']('[Measure]\x20Failed\x20to\x20find\x20a\x20snap\x20point!');return;}this['onMouseMove'](this['snapPoint']);},this['mouseup']=_0x1832c5=>{this['mouseDowned']=![],!this['mouseMoved']&&this['onMouseClick'](_0x1832c5);},this['dblclick']=()=>{log['info']('[Measure]\x20Double\x20clicked');},this['keydown']=_0x2e7403=>{if(_0x2e7403['code']==='Enter'){const _0x3a90b4={'x':0x0,'y':0x0,'pageX':0x0,'pageY':0x0,'clientX':0x0,'clientY':0x0,'deltaX':0x0,'deltaY':0x0,'button':MouseButton['Right'],'movementX':0x0,'movementY':0x0,'deltaMode':0x0,'pointerId':0x0,'timestamp':0x0,'buttons':0x0,'pointerType':'mouse','altKey':![],'ctrlKey':![],'shiftKey':![],'metaKey':![]};this['onMouseClick'](_0x3a90b4);}else _0x2e7403['code']==='Escape'&&this['cancel']();},this['getIntersections']=_0x13fbde=>{const _0x1e7f2c=new THREE['Vector2'](_0x13fbde['x'],_0x13fbde['y']);return this['viewer']['pickObjects'](_0x1e7f2c,[]);},this['type']=_0x5492f1,this['viewer']=_0x159dc4,this['inputManager']=_0x5da289,this['drawList']=_0x17d40a,this['osnapHelper']=_0x1e86df;}get['overlayRender'](){return this['viewer']['getOverlayRender']();}get['renderer'](){return this['viewer']['renderer'];}get['isActive'](){return this['actived'];}get['isMeasuring'](){return this['completed']===![];}['setTouchHelper'](_0x61e5ca){this['mobileTouchHelper']=_0x61e5ca;}['createMobileExitButton'](){const _0x317665=this['viewer']['widgetContainer'],_0x264ada=document['createElement']('button');return _0x264ada['innerText']='X',_0x264ada['style']['cssText']='position:\x20absolute;right:\x205%;\x20top:\x205%;background-color:\x20#000000;color:\x20#ffffff;padding:\x203px\x2010px;font-weight:\x20bolder;',_0x317665===null||_0x317665===void 0x0?void 0x0:_0x317665['appendChild'](_0x264ada),this['exitButton']=_0x264ada,this['exitButton']['style']['display']='none',_0x264ada['addEventListener']('touchstart',()=>{this['exitDrawing'](),this['exitButton']&&(this['exitButton']['style']['display']='none');}),this['addEventListener']('firstpointpicked',this['firstPickedListener']=()=>{this['exitButton']&&(this['exitButton']['style']['display']='inline-block');}),this['addEventListener']('complete',this['completedListener']=()=>{this['exitButton']&&(this['exitButton']['style']['display']='none');}),this['exitButton'];}['activate'](){this['actived']=!![];if(DeviceUtils['isMobile'])this['inputManager']['addEventListener']('touchstart',this['touchstart']),this['inputManager']['addEventListener']('touchmove',this['touchmove']),this['inputManager']['addEventListener']('touchend',this['touchend']);else {this['inputManager']['addEventListener']('pointerdown',this['mousedown']),this['inputManager']['addEventListener']('pointermove',this['mousemove']),this['inputManager']['addEventListener']('pointerup',this['mouseup']),this['tooltip']=new Tooltip('measure-tooltip',i18n$8['t']('measure'),{'followPointer':!![],'showOnCreate':!![],'parentNode':this['viewer']['widgetContainer'],'target':this['viewer']['viewerContainer']});const _0x463c42=document['getElementById']('measure-tooltip');_0x463c42&&(_0x463c42['style']['pointerEvents']='none'),this['setTooltipContent']();}this['inputManager']['addEventListener']('dblclick',this['dblclick']),this['inputManager']['addEventListener']('keydown',this['keydown']);}['deactivate'](){var _0x5d7c17,_0xe41df;this['actived']=![],DeviceUtils['isMobile']?(this['inputManager']['removeEventListener']('touchstart',this['touchstart']),this['inputManager']['removeEventListener']('touchmove',this['touchmove']),this['inputManager']['removeEventListener']('touchend',this['touchend'])):(this['inputManager']['removeEventListener']('pointerdown',this['mousedown']),this['inputManager']['removeEventListener']('pointermove',this['mousemove']),this['inputManager']['removeEventListener']('pointerup',this['mouseup'])),this['inputManager']['removeEventListener']('dblclick',this['dblclick']),this['inputManager']['removeEventListener']('keydown',this['keydown']),(_0x5d7c17=this['tooltip'])===null||_0x5d7c17===void 0x0?void 0x0:_0x5d7c17['hide'](),(_0xe41df=this['tooltip'])===null||_0xe41df===void 0x0?void 0x0:_0xe41df['destroy'](),this['tooltip']=undefined,this['currentMeasureDrawable']&&this['removeDrawable'](this['currentMeasureDrawable']),this['osnapHelper']['deactivate'](),this['drawingPoints']=undefined,this['currentMeasureDrawable']=undefined,this['lastMouseDownPosition']=undefined;}['removeDrawable'](_0x1ae4c1){this['dispatchEvent']('beforeremove',_0x1ae4c1);}['clearClickedDrawable'](){this['clickedOnMeasurementDrawable']&&(this['clickedOnMeasurementDrawable']['selected']=![],this['clickedOnMeasurementDrawable']=undefined);}['onMouseClick'](_0x5c3474){if(DeviceUtils['isMobile'])return;const _0x328576=Date['now']();if(this['lastClickTime']&&_0x328576-this['lastClickTime']<0x1f4)return;this['lastClickTime']=_0x328576,this['selectMeasurementByEvent'](_0x5c3474);}['selectMeasurementByEvent'](_0x18fa18){this['clickedOnMeasurementDrawable']&&(this['clickedOnMeasurementDrawable']['selected']=![],this['clickedOnMeasurementDrawable']=undefined);if(this['completed']==undefined||this['completed']===!![]){const _0xaf827e=this['getIntersections'](_0x18fa18)[0x0];if(_0xaf827e){const _0x140dc0=this['overlayRender']['getDrawablesByDrawableListAndPosition'](this['drawList'],_0xaf827e['point']);_0x140dc0&&(this['dispatchEvent']('onclick',_0x140dc0),this['clickedOnMeasurementDrawable']=_0x140dc0);}}}['onMouseMove'](_0x16c293){this['createOrUpdateMeasureDrawable'](_0x16c293);}['createOrUpdateMeasureDrawable'](_0x301e11){if(!this['drawingPoints'])return;if(this['drawingPoints']&&this['drawingPoints']['length']<0x1)return;const _0x481353=[...this['drawingPoints']];if(!this['currentMeasureDrawable']){this['currentMeasureDrawable']=this['createMeasureDrawable']();this['currentMeasureDrawable']&&(this['currentMeasureDrawable']['selected']=!![]);this['dispatchEvent']('beforeadd',this['currentMeasureDrawable']);return;}_0x301e11&&_0x481353['push'](_0x301e11),this['currentMeasureDrawable']['selected']=!![],this['currentMeasureDrawable']['update'](_0x481353),this['currentMeasureDrawable']['setDrawingState'](!![]),this['dispatchEvent']('update');}}

class BaseMeasureDrawable extends Drawable{constructor(_0x181dfb,_0x161918){super(_0x181dfb),this['type']=MeasurementType['Distance'],this['labelBounds']=new THREE['Box2'](),this['drawing']=![],this['update'](_0x161918);}['setDrawingState'](_0x32eae8){this['drawing']=_0x32eae8;}['drawSelect'](_0x2c4766,_0x5b87b3){const _0x3d9a30=this['getVertexes']();this['drawPoints'](_0x2c4766,_0x5b87b3,_0x3d9a30);}['drawPoints'](_0x4fb919,_0x5b6ea9,_0x586890){_0x4fb919['save'](),_0x4fb919['fillStyle']=BaseMeasureDrawable['MAJOR_COLOR'],_0x4fb919['strokeStyle']=BaseMeasureDrawable['MINOR_COLOR'],_0x4fb919['lineWidth']=BaseMeasureDrawable['LINE_WIDTH'],_0x4fb919['beginPath']();const _0x24b8b5=this['drawing']?_0x586890['slice'](0x0,_0x586890['length']-0x1):_0x586890;_0x24b8b5['forEach'](_0x61650b=>{const _0x1baf39=this['transToScreenCoord'](_0x61650b,_0x5b6ea9);_0x4fb919['moveTo'](_0x1baf39['x']+BaseMeasureDrawable['POINT_RADIUS'],_0x1baf39['y']),_0x4fb919['arc'](_0x1baf39['x'],_0x1baf39['y'],BaseMeasureDrawable['POINT_RADIUS'],0x0,Math['PI']*0x2);}),_0x4fb919['closePath'](),_0x4fb919['fill'](),_0x4fb919['stroke'](),_0x4fb919['restore']();}['drawText'](_0x25d038,_0x437d2b){if(!this['label']||!this['labelPositon'])return;_0x25d038['font']=BaseMeasureDrawable['LABEL_FONT_SIZE']+'px\x20Arial';const _0x4be450=_0x25d038['measureText'](this['label'])['width']*1.2,_0x53b558=BaseMeasureDrawable['LABEL_FONT_SIZE']*1.5;this['labelBounds']['setFromCenterAndSize'](this['labelPositon'],new THREE['Vector2'](_0x4be450,_0x53b558)),this['drawRoundRect'](_0x25d038,this['labelPositon']['x']-_0x4be450/0x2,this['labelPositon']['y']-_0x53b558/0x2,_0x4be450,_0x53b558,0x4),_0x25d038['save'](),_0x25d038['fillStyle']=BaseMeasureDrawable['MINOR_COLOR'],_0x25d038['textBaseline']='middle',_0x25d038['textAlign']='center',_0x25d038['fillText'](this['label'],this['labelPositon']['x'],this['labelPositon']['y']),_0x25d038['restore']();}['drawRoundRect'](_0x2e666d,_0x26f5b6,_0xb8827f,_0x46fef4,_0x54b9d1,_0x128df2){_0x46fef4<0x2*_0x128df2&&(_0x128df2=_0x46fef4/0x2),_0x54b9d1<0x2*_0x128df2&&(_0x128df2=_0x54b9d1/0x2),_0x2e666d['save'](),_0x2e666d['fillStyle']=BaseMeasureDrawable['MAJOR_COLOR'],_0x2e666d['strokeStyle']=BaseMeasureDrawable['MINOR_COLOR'],_0x2e666d['lineWidth']=BaseMeasureDrawable['LINE_WIDTH'],_0x2e666d['beginPath'](),_0x2e666d['moveTo'](_0x26f5b6+_0x128df2,_0xb8827f),_0x2e666d['arcTo'](_0x26f5b6+_0x46fef4,_0xb8827f,_0x26f5b6+_0x46fef4,_0xb8827f+_0x54b9d1,_0x128df2),_0x2e666d['arcTo'](_0x26f5b6+_0x46fef4,_0xb8827f+_0x54b9d1,_0x26f5b6,_0xb8827f+_0x54b9d1,_0x128df2),_0x2e666d['arcTo'](_0x26f5b6,_0xb8827f+_0x54b9d1,_0x26f5b6,_0xb8827f,_0x128df2),_0x2e666d['arcTo'](_0x26f5b6,_0xb8827f,_0x26f5b6+_0x46fef4,_0xb8827f,_0x128df2),_0x2e666d['closePath'](),_0x2e666d['fill'](),this['selected']&&_0x2e666d['stroke'](),_0x2e666d['restore']();}['getVertexes'](){return this['points'];}['update'](_0x15db60){return this['points']=_0x15db60,this;}['getData'](){return {'id':this['id'],'type':this['type'],'points':this['points']['map'](_0x28e332=>[_0x28e332['x'],_0x28e332['y'],_0x28e332['z']])};}['setData'](_0x217c9d){super['setData'](_0x217c9d),this['setLineColor'](ColorUtils['cssColor2FloatArray'](BaseMeasureDrawable['MAJOR_COLOR'])),this['setFillColor'](ColorUtils['cssColor2FloatArray'](BaseMeasureDrawable['AREA_FILL_COLOR'])),this['setLineWidth'](BaseMeasureDrawable['LINE_WIDTH']);}['isPointInPath'](_0x23a594,_0x20774d){const _0x11b9b0=_0x20774d===null||_0x20774d===void 0x0?void 0x0:_0x20774d['ray'];if(!_0x11b9b0)return ![];const _0x4705ff=0x3*this['tolerance'],_0x973cb5=this['transToScreenCoord'](_0x23a594,_0x20774d['camera']);if(this['labelBounds']['containsPoint'](_0x973cb5))return !![];const _0x38c53b=new THREE['Vector3'](),_0x19b7ad=new THREE['Vector3'](),_0xd2c172=this['points'];for(let _0xd9c84d=0x0;_0xd9c84d<_0xd2c172['length']-0x1;_0xd9c84d++){const _0x22ebe0=_0xd2c172[_0xd9c84d],_0x36b01f=_0xd2c172[_0xd9c84d+0x1]||_0xd2c172[0x0],_0x56469f=_0x11b9b0['distanceSqToSegment'](_0x22ebe0,_0x36b01f,_0x19b7ad,_0x38c53b);if(_0x56469f<_0x4705ff*_0x4705ff)return !![];}return ![];}['getUnitString'](){if(this['type']===MeasurementType['Distance'])return getUnitStr('mm');if(this['type']===MeasurementType['Area'])return ''+getUnitStr('m',0x2);if(this['type']===MeasurementType['Angle'])return '°';return '';}}BaseMeasureDrawable['MAJOR_COLOR']='rgba(249,\x20157,\x2011,\x200.9)',BaseMeasureDrawable['MINOR_COLOR']='rgb(255,\x20255,\x20255)',BaseMeasureDrawable['AREA_FILL_COLOR']='rgba(249,\x20157,\x2011,\x200.3)',BaseMeasureDrawable['LINE_WIDTH']=0x2,BaseMeasureDrawable['POINT_RADIUS']=0x5,BaseMeasureDrawable['LABEL_FONT_SIZE']=0xe;

class AngleMeasureDrawable extends BaseMeasureDrawable{constructor(_0x103689,_0x15175a){super(_0x103689,_0x15175a),this['type']=MeasurementType['Angle'],this['update'](_0x15175a);}['draw'](_0x329b90,_0x44d54a){_0x329b90['save'](),_0x329b90['lineWidth']=BaseMeasureDrawable['LINE_WIDTH'],_0x329b90['strokeStyle']=BaseMeasureDrawable['MAJOR_COLOR'];const _0x26b0a5=this['points'];_0x329b90['beginPath'](),_0x26b0a5['forEach']((_0x4198d6,_0x35f772)=>{const _0x49b486=this['transToScreenCoord'](_0x4198d6,_0x44d54a);_0x35f772===0x0?_0x329b90['moveTo'](_0x49b486['x'],_0x49b486['y']):_0x329b90['lineTo'](_0x49b486['x'],_0x49b486['y']);});if(this['points']['length']===0x3){const [_0x17f079,_0x3ee7ab,_0xa1ad28]=this['points']['map'](_0x1f3ecb=>this['transToScreenCoord'](_0x1f3ecb,_0x44d54a)),_0x4f37f1=new THREE['Vector2']()['subVectors'](_0x17f079,_0x3ee7ab)['normalize'](),_0x72a888=new THREE['Vector2']()['subVectors'](_0xa1ad28,_0x3ee7ab)['normalize'](),_0x47c6b0=Math['min'](_0x17f079['distanceTo'](_0x3ee7ab),_0xa1ad28['distanceTo'](_0x3ee7ab)),_0x1a4e91=_0x4f37f1['angle'](),_0x18fe6d=_0x72a888['angle']();_0x329b90['moveTo'](_0x3ee7ab['x'],_0x3ee7ab['y']),_0x329b90['arc'](_0x3ee7ab['x'],_0x3ee7ab['y'],_0x47c6b0/0x5,_0x1a4e91,_0x18fe6d,_0x4f37f1['cross'](_0x72a888)<0x0);}_0x329b90['stroke'](),_0x329b90['restore']();if(this['drawing']){const _0x2e94be=this['points']['length']===0x1?this['points']:this['points']['slice'](0x0,this['points']['length']-0x1);this['drawPoints'](_0x329b90,_0x44d54a,_0x2e94be);}this['drawText'](_0x329b90,_0x44d54a);}['drawText'](_0x19944d,_0x5d48eb){if(this['points']['length']<0x3)return;const [_0x38be13,_0x2d104f,_0x1b7cb2]=this['points'],_0x5e1a82=this['getAngleBisector'](_0x38be13,_0x2d104f,_0x1b7cb2),_0x1264b8=this['calculateAngle'](_0x38be13,_0x2d104f,_0x1b7cb2);this['label']=showPrecisionValue(_0x1264b8,0x2)+'\x20'+this['getUnitString']();const _0x568b2c=Math['min'](_0x38be13['distanceTo'](_0x2d104f),_0x1b7cb2['distanceTo'](_0x2d104f)),_0x2db8ed=_0x568b2c*0.3;this['labelPositon']=this['transToScreenCoord'](_0x2d104f['clone']()['add'](new THREE['Vector3'](_0x5e1a82['x']*_0x2db8ed,_0x5e1a82['y']*_0x2db8ed,_0x5e1a82['z']*_0x2db8ed)),_0x5d48eb),super['drawText'](_0x19944d,_0x5d48eb);}['getAngleBisector'](_0x330f2c,_0x386d81,_0x1110e2){const _0x38db53=_0x330f2c,_0x5d97c5=_0x386d81,_0x5d5822=_0x1110e2,_0x54299a=new THREE['Vector3'](_0x38db53['x']-_0x5d97c5['x'],_0x38db53['y']-_0x5d97c5['y'],_0x38db53['z']-_0x5d97c5['z'])['normalize'](),_0x16eecc=new THREE['Vector3'](_0x5d5822['x']-_0x5d97c5['x'],_0x5d5822['y']-_0x5d97c5['y'],_0x5d5822['z']-_0x5d97c5['z'])['normalize']();return new THREE['Vector3'](_0x54299a['x']+_0x16eecc['x'],_0x54299a['y']+_0x16eecc['y'],_0x54299a['z']+_0x16eecc['z'])['normalize']();}['calculateAngle'](_0x563164,_0x1b233b,_0x220708){const _0x37be70=_0x563164,_0x4b1262=_0x1b233b,_0x4770ac=_0x220708,_0x5a6903=new THREE['Vector3'](_0x37be70['x']-_0x4b1262['x'],_0x37be70['y']-_0x4b1262['y'],_0x37be70['z']-_0x4b1262['z']),_0x38ac99=new THREE['Vector3'](_0x4770ac['x']-_0x4b1262['x'],_0x4770ac['y']-_0x4b1262['y'],_0x4770ac['z']-_0x4b1262['z']),_0x1ed19b=_0x5a6903['angleTo'](_0x38ac99);return _0x1ed19b*0xb4/Math['PI'];}['getClassType'](){return 'Angle';}}CanvasRender['_registerDrawableClass'](AngleMeasureDrawable);

class AngleMeasurement extends BaseMeasurement{constructor(_0x2f6254,_0x2e463f,_0x2d3dbf,_0x3367f3){super(MeasurementType['Angle'],_0x2f6254,_0x2e463f,_0x2d3dbf,_0x3367f3);}['createMeasureDrawable'](){if(!this['drawingPoints'])return undefined;return new AngleMeasureDrawable(CommonUtils['guid'](),this['drawingPoints']);}['onMouseClick'](_0xae82ed){var _0x4f5fcf;super['onMouseClick'](_0xae82ed);if(this['clickedOnMeasurementDrawable'])return;!this['drawingPoints']&&(this['drawingPoints']=[]);if(_0xae82ed['button']===MouseButton['Right']){this['exitDrawing']();return;}const _0x47697d=this['getIntersections'](_0xae82ed)[0x0];if(!_0x47697d)return;const _0x2d9ff2=(_0x4f5fcf=this['snapPoint'])!==null&&_0x4f5fcf!==void 0x0?_0x4f5fcf:_0x47697d===null||_0x47697d===void 0x0?void 0x0:_0x47697d['point'];if(this['drawingPoints'][0x0]&&MathUtils['areVector3sEqual'](this['drawingPoints'][0x0],_0x2d9ff2))return;const _0x1a6641=this['drawingPoints'];_0x1a6641['push'](_0x2d9ff2),this['lastMouseDownPosition']=_0x2d9ff2,_0x1a6641['length']===0x1&&(this['dispatchEvent']('firstpointpicked'),this['completed']=![]),this['createOrUpdateMeasureDrawable'](),_0x1a6641['length']>=0x3&&this['complete']();}['exitDrawing'](){this['drawingPoints']=undefined,this['currentMeasureDrawable']&&(this['removeDrawable'](this['currentMeasureDrawable']),this['currentMeasureDrawable']=undefined),this['completed']=undefined,this['lastMouseDownPosition']=undefined;}['complete'](){var _0x42d2ea;if(this['completed']===!![])return;(_0x42d2ea=this['currentMeasureDrawable'])===null||_0x42d2ea===void 0x0?void 0x0:_0x42d2ea['setDrawingState'](![]),this['dispatchEvent']('complete',this['currentMeasureDrawable']),this['completed']=!![],this['currentMeasureDrawable']=undefined,this['drawingPoints']=undefined,this['lastMouseDownPosition']=undefined;}['cancel'](){const _0x312ffa=this['drawingPoints'];if(_0x312ffa&&_0x312ffa['length']>0x0){_0x312ffa['pop']();_0x312ffa['length']===0x0&&(this['currentMeasureDrawable']&&(this['removeDrawable'](this['currentMeasureDrawable']),this['currentMeasureDrawable']=undefined),this['completed']=!![]);if(this['lastMoveEvent']){const _0x12a8dd=this['getIntersections'](this['lastMoveEvent'])[0x0];_0x12a8dd&&this['onMouseMove'](_0x12a8dd['point']);}}this['osnapHelper']['deactivate'](),this['lastMouseDownPosition']=undefined;}['deactivate'](){super['deactivate'](),this['currentMeasureDrawable']&&this['removeDrawable'](this['currentMeasureDrawable']);}['setTooltipContent'](){var _0x9dd5f4;const _0x233aba=i18n$8['t']('measure');_0x233aba&&this['tooltip']&&((_0x9dd5f4=this['tooltip'])===null||_0x9dd5f4===void 0x0?void 0x0:_0x9dd5f4['setContent'](_0x233aba));}}

class AreaMeasureDrawable extends BaseMeasureDrawable{constructor(_0x1a620a,_0x50a8c8,_0x37fc80){super(_0x1a620a,_0x50a8c8),this['type']=MeasurementType['Area'],this['scale']=_0x37fc80,this['update'](_0x50a8c8);}['draw'](_0x310899,_0x596a15){const _0x496b14=this['points'];_0x310899['save'](),_0x310899['lineWidth']=BaseMeasureDrawable['LINE_WIDTH'],_0x310899['strokeStyle']=BaseMeasureDrawable['MAJOR_COLOR'],_0x310899['fillStyle']=BaseMeasureDrawable['AREA_FILL_COLOR'],_0x310899['beginPath'](),_0x496b14['forEach']((_0x41ea47,_0x4918e7)=>{const _0x233e06=this['transToScreenCoord'](_0x41ea47,_0x596a15);_0x4918e7===0x0?_0x310899['moveTo'](_0x233e06['x'],_0x233e06['y']):_0x310899['lineTo'](_0x233e06['x'],_0x233e06['y']);}),_0x310899['closePath'](),_0x310899['fill'](),_0x310899['stroke'](),_0x310899['restore']();if(this['drawing']){const _0x513ac1=this['points']['length']===0x1?this['points']:this['points']['slice'](0x0,this['points']['length']-0x1);this['drawPoints'](_0x310899,_0x596a15,_0x513ac1);}this['drawText'](_0x310899,_0x596a15);}['drawText'](_0x256787,_0x25e15b){if(this['points']['length']<0x3)return;const _0x352d60=this['points'];let _0x9b47c5=this['calculateArea'](_0x352d60);this['scale']&&(_0x9b47c5*=Math['pow'](this['scale'],0x2)),this['label']=''+showPrecisionValue(_0x9b47c5,0x2),this['labelPositon']=this['transToScreenCoord'](this['getBarycenter'](_0x352d60),_0x25e15b),super['drawText'](_0x256787,_0x25e15b);}['calculateArea'](_0x47a435){let _0x59807d=0x0;const _0x935aee=PolygonUtils['getFaces'](_0x47a435);for(let _0x45b857=0x0;_0x45b857<_0x935aee['length']/0x3;_0x45b857++){const _0x47927b=_0x47a435[_0x935aee[0x3*_0x45b857]],_0x42a328=_0x47a435[_0x935aee[0x3*_0x45b857+0x1]],_0x32d60b=_0x47a435[_0x935aee[0x3*_0x45b857+0x2]],_0x2dab11=_0x42a328['clone']()['sub'](_0x47927b),_0x423976=_0x32d60b['clone']()['sub'](_0x47927b);_0x59807d+=_0x2dab11['cross'](_0x423976)['length']()/0x2;}return _0x59807d;}['getBarycenter'](_0x3f822e){const _0x4eab7c=_0x3f822e['length'];let _0x25a5ae=0x0,_0x530933=0x0,_0x2f1675=0x0;return _0x3f822e['forEach'](_0x208e8a=>{_0x25a5ae+=_0x208e8a['x'],_0x530933+=_0x208e8a['y'],_0x2f1675+=_0x208e8a['z'];}),new THREE['Vector3'](_0x25a5ae/_0x4eab7c,_0x530933/_0x4eab7c,_0x2f1675/_0x4eab7c);}['isPointInPath'](_0x2d8dc3,_0x48b436){const _0x47bfee=_0x48b436===null||_0x48b436===void 0x0?void 0x0:_0x48b436['ray'];if(!_0x47bfee)return ![];const _0x3a8394=this['transToScreenCoord'](_0x2d8dc3,_0x48b436['camera']);if(this['labelBounds']['containsPoint'](_0x3a8394))return !![];const _0x393c3f=0x3*this['tolerance'],_0x35b21b=new THREE['Vector3'](),_0x565f22=new THREE['Vector3'](),_0x49c8bd=this['points'];for(let _0x152e71=0x0;_0x152e71<_0x49c8bd['length'];_0x152e71++){const _0x1cf30a=_0x49c8bd[_0x152e71],_0x2f1cfc=_0x49c8bd[_0x152e71+0x1]||_0x49c8bd[0x0],_0xf9d432=_0x47bfee['distanceSqToSegment'](_0x1cf30a,_0x2f1cfc,_0x565f22,_0x35b21b);if(_0xf9d432<_0x393c3f*_0x393c3f)return !![];}const _0x456f25=PolygonUtils['getFaces'](this['points']);for(let _0x51ea9d=0x0;_0x51ea9d<_0x456f25['length']/0x3;_0x51ea9d++){const _0x5d65d1=this['points'][_0x456f25[0x3*_0x51ea9d]],_0x14e6c3=this['points'][_0x456f25[0x3*_0x51ea9d+0x1]],_0x2d37d0=this['points'][_0x456f25[0x3*_0x51ea9d+0x2]],_0x3fc916=_0x47bfee['intersectTriangle'](_0x5d65d1,_0x14e6c3,_0x2d37d0,![],_0x2d8dc3);if(_0x3fc916)return !![];}return ![];}['getClassType'](){return 'Area';}}CanvasRender['_registerDrawableClass'](AreaMeasureDrawable);

const tempVec=new THREE['Vector3']();class AreaMeasurement extends BaseMeasurement{constructor(_0x537d49,_0x3fb8e7,_0x9ebf8a,_0x2e295c){super(MeasurementType['Area'],_0x537d49,_0x3fb8e7,_0x9ebf8a,_0x2e295c);}['activate'](){super['activate']();}['deactivate'](){super['deactivate'](),this['currentMeasureDrawable']&&this['removeDrawable'](this['currentMeasureDrawable']),this['exitButton']&&(this['exitButton']['style']['display']='none');}['createMeasureDrawable'](){if(!this['drawingPoints'])return undefined;return new AreaMeasureDrawable(CommonUtils['guid'](),this['drawingPoints'],this['scale']);}['onMouseMove'](_0x39c722){super['onMouseMove'](_0x39c722);if(this['drawingPoints']&&this['drawingPoints']['length']>0x2&&this['drawingPoints'][0x0]){const _0x193214=this['drawingPoints'][0x0];tempVec['subVectors'](_0x39c722,_0x193214)['length']()<this['viewer']['getPixelSizeInWorldCoord']()*0x3&&(this['osnapHelper']['activateMarker'](OSnapType['Vertex'],{'point':_0x193214,'type':OSnapType['Vertex'],'distance':0x0}),log['info']('[Measure]\x20auto\x20close\x20area\x20measurement.'));}}['onMouseClick'](_0x3ab8c4){var _0x2fca2b,_0xceb761;super['onMouseClick'](_0x3ab8c4);if(this['clickedOnMeasurementDrawable'])return;!this['drawingPoints']&&(this['drawingPoints']=[]);const _0x265684=this['drawingPoints'];if(_0x3ab8c4['button']===MouseButton['Right']){this['exitDrawing']();return;}const _0x451f48=this['getIntersections'](_0x3ab8c4)[0x0];if(!_0x451f48){log['warn']('[Measure]\x20No\x20intersection\x20found!');return;}const _0x2696bb=(_0xceb761=(_0x2fca2b=this['snapPoint'])===null||_0x2fca2b===void 0x0?void 0x0:_0x2fca2b['clone']())!==null&&_0xceb761!==void 0x0?_0xceb761:_0x451f48===null||_0x451f48===void 0x0?void 0x0:_0x451f48['point']['clone']();if(this['drawingPoints']&&this['drawingPoints']['length']>0x2&&this['drawingPoints'][0x0]){const _0x3a59b1=this['drawingPoints'][0x0];if(tempVec['subVectors'](_0x2696bb,_0x3a59b1)['length']()<this['viewer']['getPixelSizeInWorldCoord']()*0x3){log['info']('[Measure]\x20auto\x20close\x20area\x20measurement.'),this['touchDowned']=![],this['exitDrawing']();return;}}if(this['drawingPoints'][0x0]&&MathUtils['areVector3sEqual'](this['drawingPoints'][0x0],_0x2696bb))return;_0x265684['push'](_0x2696bb),this['lastMouseDownPosition']=_0x2696bb,_0x265684['length']===0x1&&(this['dispatchEvent']('firstpointpicked'),this['completed']=![]),this['createOrUpdateMeasureDrawable']();}['exitDrawing'](){const _0x1fb348=this['drawingPoints']||[];let _0x242bb2=!![];_0x1fb348['length']<0x3&&(log['warn']('[Measure]\x20If\x20the\x20number\x20of\x20points\x20is\x20less\x20than\x203,\x20the\x20measurement\x20area\x20cannot\x20be\x20formed\x20!'),_0x242bb2=![]);_0x242bb2&&PolygonUtils['isSelfIntersecting'](_0x1fb348)&&(log['warn']('[Measure]\x20The\x20area\x20formed\x20by\x20these\x20points\x20intersects\x20itself,\x20so\x20the\x20correct\x20measurement\x20cannot\x20be\x20obtained\x20!'),_0x242bb2=![]);if(!_0x242bb2){this['drawingPoints']=undefined;this['currentMeasureDrawable']&&(this['removeDrawable'](this['currentMeasureDrawable']),this['currentMeasureDrawable']=undefined);this['completed']=undefined,this['lastMouseDownPosition']=undefined;return;}this['createOrUpdateMeasureDrawable'](),this['complete']();}['complete'](){var _0xa36a61;if(this['completed']===!![])return;(_0xa36a61=this['currentMeasureDrawable'])===null||_0xa36a61===void 0x0?void 0x0:_0xa36a61['setDrawingState'](![]),this['dispatchEvent']('complete',this['currentMeasureDrawable']),this['completed']=!![],this['drawingPoints']=undefined,this['currentMeasureDrawable']=undefined,this['lastMouseDownPosition']=undefined;}['cancel'](){const _0x272375=this['drawingPoints'];if(_0x272375&&_0x272375['length']>0x0){_0x272375['pop']();_0x272375['length']===0x0&&(this['currentMeasureDrawable']&&(this['removeDrawable'](this['currentMeasureDrawable']),this['currentMeasureDrawable']=undefined),this['completed']=!![]);if(this['lastMoveEvent']){const _0x2bd123=this['getIntersections'](this['lastMoveEvent'])[0x0];_0x2bd123&&this['onMouseMove'](_0x2bd123['point']);}}this['osnapHelper']['deactivate'](),this['lastMouseDownPosition']=undefined;}['setTooltipContent'](){var _0x314045;const _0x1d9575=i18n$8['t']('areaMeasurement');_0x1d9575&&this['tooltip']&&((_0x314045=this['tooltip'])===null||_0x314045===void 0x0?void 0x0:_0x314045['setContent'](_0x1d9575));}['getScale'](){return this['scale'];}['setScale'](_0x14b9b9){this['scale']=_0x14b9b9;const _0x1b6245=this['drawList']['getDrawables']();for(const _0x4344de of _0x1b6245){const _0x5e3582=_0x4344de[0x1];_0x5e3582 instanceof AreaMeasureDrawable&&(_0x5e3582['scale']=_0x14b9b9);}}}

class CoordinateMeasureDrawable extends BaseMeasureDrawable{constructor(_0x2e4b3a,_0x2b6f71){super(_0x2e4b3a,_0x2b6f71),this['type']=MeasurementType['Coordinate'],this['update'](_0x2b6f71);}['draw'](_0x332aa3,_0x2cbce4){this['drawText'](_0x332aa3,_0x2cbce4),_0x332aa3['save'](),_0x332aa3['lineWidth']=BaseMeasureDrawable['LINE_WIDTH'],_0x332aa3['strokeStyle']=BaseMeasureDrawable['MAJOR_COLOR'],_0x332aa3['fillStyle']=BaseMeasureDrawable['AREA_FILL_COLOR'];const _0x5a2fa2=this['points'];_0x332aa3['beginPath'](),_0x5a2fa2['forEach'](_0x18fd35=>{const _0x410881=this['transToScreenCoord'](_0x18fd35,_0x2cbce4);_0x332aa3['arc'](_0x410881['x'],_0x410881['y'],BaseMeasureDrawable['POINT_RADIUS'],0x0,Math['PI']*0x2);}),_0x332aa3['fill'](),_0x332aa3['stroke'](),_0x332aa3['restore']();}['drawText'](_0xe17dbc,_0x30ed61){const _0xb14932=this['points'][0x0];MathUtils['areNumbersEqual'](_0xb14932['x'],0x0);const _0x4fdad2=MathUtils['areNumbersEqual'](_0xb14932['x'],0x0)?0x0:_0xb14932['x'],_0x3811fd=MathUtils['areNumbersEqual'](_0xb14932['y'],0x0)?0x0:_0xb14932['y'],_0x325c01=MathUtils['areNumbersEqual'](_0xb14932['z'],0x0)?0x0:_0xb14932['z'];this['label']=showPrecisionValue(_0x4fdad2,0x2)+',\x20'+showPrecisionValue(_0x3811fd,0x2)+',\x20'+showPrecisionValue(_0x325c01,0x2),_0xe17dbc['font']=BaseMeasureDrawable['LABEL_FONT_SIZE']+'px\x20Arial';const _0x307d1a=_0xe17dbc['measureText'](this['label'])['width']*1.2,_0x2de7ed=BaseMeasureDrawable['LABEL_FONT_SIZE']*1.5;this['labelPositon']=this['transToScreenCoord'](_0xb14932,_0x30ed61),this['labelPositon']['y']-=_0x2de7ed/0x2,this['labelBounds']['setFromCenterAndSize'](this['labelPositon'],new THREE['Vector2'](_0x307d1a,_0x2de7ed)),this['drawRoundRect'](_0xe17dbc,this['labelPositon']['x']-_0x307d1a/0x2,this['labelPositon']['y']-_0x2de7ed/0x2,_0x307d1a,_0x2de7ed,0x4),_0xe17dbc['save'](),_0xe17dbc['fillStyle']=BaseMeasureDrawable['MINOR_COLOR'],_0xe17dbc['textBaseline']='middle',_0xe17dbc['textAlign']='center',_0xe17dbc['fillText'](this['label'],this['labelPositon']['x'],this['labelPositon']['y']),_0xe17dbc['restore']();}['getClassType'](){return 'Coordinate';}}CanvasRender['_registerDrawableClass'](CoordinateMeasureDrawable);

class CoordinateMeasurement extends BaseMeasurement{constructor(_0x78d3ac,_0x2b6d4b,_0xa9b8e0,_0x43f316){super(MeasurementType['Coordinate'],_0x78d3ac,_0x2b6d4b,_0xa9b8e0,_0x43f316);}['createMeasureDrawable'](){if(!this['drawingPoints'])return undefined;return new CoordinateMeasureDrawable(CommonUtils['guid'](),this['drawingPoints']);}['onMouseClick'](_0x1b28a4){var _0x55509f;super['onMouseClick'](_0x1b28a4);if(this['clickedOnMeasurementDrawable'])return;!this['drawingPoints']&&(this['drawingPoints']=[]);if(_0x1b28a4['button']===MouseButton['Right']){this['exitDrawing']();return;}const _0xab97e9=this['getIntersections'](_0x1b28a4)[0x0];if(!_0xab97e9)return;const _0x449351=(_0x55509f=this['snapPoint'])!==null&&_0x55509f!==void 0x0?_0x55509f:_0xab97e9===null||_0xab97e9===void 0x0?void 0x0:_0xab97e9['point'],_0x4a151d=this['drawingPoints'];_0x4a151d['push'](_0x449351),this['lastMouseDownPosition']=_0x449351,_0x4a151d['length']===0x1&&(this['dispatchEvent']('firstpointpicked'),this['completed']=![]),this['createOrUpdateMeasureDrawable'](_0x449351),_0x4a151d['length']>=0x1&&this['complete']();}['exitDrawing'](){this['drawingPoints']=undefined,this['currentMeasureDrawable']&&(this['removeDrawable'](this['currentMeasureDrawable']),this['currentMeasureDrawable']=undefined),this['completed']=undefined,this['lastMouseDownPosition']=undefined;}['complete'](){if(this['completed']===!![])return;this['dispatchEvent']('complete',this['currentMeasureDrawable']),this['completed']=!![],this['drawingPoints']=undefined,this['currentMeasureDrawable']=undefined,this['lastMouseDownPosition']=undefined;}['cancel'](){const _0x132e41=this['drawingPoints'];if(_0x132e41&&_0x132e41['length']>0x0){_0x132e41['pop']();_0x132e41['length']===0x0&&(this['completed']=!![]);if(this['lastMoveEvent']){const _0x19cc79=this['getIntersections'](this['lastMoveEvent'])[0x0];_0x19cc79&&this['onMouseMove'](_0x19cc79['point']);}}this['osnapHelper']['deactivate'](),this['drawingPoints']=undefined,this['currentMeasureDrawable']=undefined,this['lastMouseDownPosition']=undefined;}['setTooltipContent'](){var _0x53f111;const _0x5eae80=i18n$8['t']('measure');_0x5eae80&&this['tooltip']&&((_0x53f111=this['tooltip'])===null||_0x53f111===void 0x0?void 0x0:_0x53f111['setContent'](_0x5eae80));}}

class DistanceMeasureDrawable extends BaseMeasureDrawable{constructor(_0x332adc,_0x2d0429,_0x4ec013){super(_0x332adc,_0x2d0429),this['type']=MeasurementType['Distance'],this['scale']=_0x4ec013,this['update'](_0x2d0429);}['draw'](_0xa079b1,_0x262ef8){const _0x5d2616=this['points'];_0xa079b1['save'](),_0xa079b1['lineWidth']=BaseMeasureDrawable['LINE_WIDTH'],_0xa079b1['strokeStyle']=BaseMeasureDrawable['MAJOR_COLOR'],_0xa079b1['beginPath'](),_0x5d2616['forEach']((_0x33a52f,_0x132534)=>{const _0x239e3b=this['transToScreenCoord'](_0x33a52f,_0x262ef8);_0x132534===0x0?_0xa079b1['moveTo'](_0x239e3b['x'],_0x239e3b['y']):_0xa079b1['lineTo'](_0x239e3b['x'],_0x239e3b['y']);}),_0xa079b1['closePath'](),_0xa079b1['stroke'](),_0xa079b1['restore']();if(this['drawing']){const _0x154b9c=this['points']['length']===0x1?this['points']:this['points']['slice'](0x0,this['points']['length']-0x1);this['drawPoints'](_0xa079b1,_0x262ef8,_0x154b9c);}else !this['selected']&&this['drawVerticalLine'](_0xa079b1,_0x262ef8);this['drawText'](_0xa079b1,_0x262ef8);}['drawText'](_0x2588ac,_0x2ee2e7){if(this['points']['length']<0x2)return;const [_0x4283a3,_0x3eb008]=this['points'];let _0xf383d=_0x4283a3['distanceTo'](_0x3eb008);this['scale']&&(_0xf383d*=this['scale']),this['label']=''+showPrecisionValue(_0xf383d,0x2),this['labelPositon']=this['transToScreenCoord'](new THREE['Vector3']()['lerpVectors'](_0x4283a3,_0x3eb008,0.5),_0x2ee2e7),super['drawText'](_0x2588ac,_0x2ee2e7);}['drawVerticalLine'](_0x2247ba,_0x425b28){if(this['points']['length']<0x2)return;const [_0x40100b,_0x4ecb7d]=this['points']['map'](_0x28a0ac=>this['transToScreenCoord'](_0x28a0ac,_0x425b28)),[_0x47176a,_0x34b1a2]=this['getShortLineBySegments'](_0x40100b,_0x4ecb7d),[_0x4198b3,_0xf60f3]=this['getShortLineBySegments'](_0x4ecb7d,_0x40100b);_0x2247ba['save'](),_0x2247ba['lineWidth']=BaseMeasureDrawable['LINE_WIDTH'],_0x2247ba['strokeStyle']=BaseMeasureDrawable['MAJOR_COLOR'],_0x2247ba['beginPath'](),_0x2247ba['moveTo'](_0x47176a['x'],_0x47176a['y']),_0x2247ba['lineTo'](_0x34b1a2['x'],_0x34b1a2['y']),_0x2247ba['moveTo'](_0x4198b3['x'],_0x4198b3['y']),_0x2247ba['lineTo'](_0xf60f3['x'],_0xf60f3['y']),_0x2247ba['stroke'](),_0x2247ba['restore']();}['getShortLineBySegments'](_0x41be11,_0x32d523){const _0x272973=new THREE['Vector2']()['subVectors'](_0x32d523,_0x41be11)['normalize'](),_0x26ff1c=DistanceMeasureDrawable['SHORT_LINE_LENGTH']/0x2,_0x4adb6d=Math['PI']/0x2,_0x2eb4e9=_0x272973['clone']()['rotateAround'](new THREE['Vector2'](),_0x4adb6d)['normalize']()['multiplyScalar'](_0x26ff1c)['add'](_0x41be11),_0x26b1f9=_0x272973['clone']()['rotateAround'](new THREE['Vector2'](),-_0x4adb6d)['normalize']()['multiplyScalar'](_0x26ff1c)['add'](_0x41be11);return [_0x2eb4e9,_0x26b1f9];}['getClassType'](){return 'Distance';}['setScale'](_0x329fe5){this['scale']=_0x329fe5;}}DistanceMeasureDrawable['SHORT_LINE_LENGTH']=0xc,CanvasRender['_registerDrawableClass'](DistanceMeasureDrawable);

class DistanceMeasurement extends BaseMeasurement{constructor(_0x24edf6,_0x5e471d,_0x31ebbd,_0x1b4cc9){super(MeasurementType['Distance'],_0x24edf6,_0x5e471d,_0x31ebbd,_0x1b4cc9);}['createMeasureDrawable'](){if(!this['drawingPoints'])return undefined;return new DistanceMeasureDrawable(CommonUtils['guid'](),this['drawingPoints'],this['scale']);}['onMouseClick'](_0x4b6882){var _0x261910;super['onMouseClick'](_0x4b6882);if(this['clickedOnMeasurementDrawable'])return;!this['drawingPoints']&&(this['drawingPoints']=[]);if(_0x4b6882['button']===MouseButton['Right']){this['exitDrawing']();return;}const _0x533a55=this['getIntersections'](_0x4b6882)[0x0];if(!_0x533a55)return;const _0x361ba8=(_0x261910=this['snapPoint'])!==null&&_0x261910!==void 0x0?_0x261910:_0x533a55===null||_0x533a55===void 0x0?void 0x0:_0x533a55['point'];if(this['drawingPoints'][0x0]&&MathUtils['areVector3sEqual'](this['drawingPoints'][0x0],_0x361ba8))return;const _0x24a039=this['drawingPoints'];_0x24a039['length']<0x2&&_0x24a039['push'](_0x361ba8),this['lastMouseDownPosition']=_0x361ba8,_0x24a039['length']===0x1&&(this['dispatchEvent']('firstpointpicked'),this['completed']=![]),this['createOrUpdateMeasureDrawable'](),_0x24a039['length']>=0x2&&this['complete']();}['exitDrawing'](){this['drawingPoints']=undefined,this['currentMeasureDrawable']&&(this['removeDrawable'](this['currentMeasureDrawable']),this['currentMeasureDrawable']=undefined),this['completed']=undefined,this['lastMouseDownPosition']=undefined;}['complete'](){var _0x39f81b;if(this['completed']===!![])return;(_0x39f81b=this['currentMeasureDrawable'])===null||_0x39f81b===void 0x0?void 0x0:_0x39f81b['setDrawingState'](![]),this['dispatchEvent']('complete',this['currentMeasureDrawable']),this['completed']=!![],this['drawingPoints']=undefined,this['currentMeasureDrawable']=undefined,this['lastMouseDownPosition']=undefined;}['cancel'](){const _0x5f4637=this['drawingPoints'];if(_0x5f4637&&_0x5f4637['length']>0x0)_0x5f4637['pop'](),_0x5f4637['length']===0x0&&(this['completed']=!![]),this['currentMeasureDrawable']&&this['removeDrawable'](this['currentMeasureDrawable']);this['osnapHelper']['deactivate'](),this['drawingPoints']=undefined,this['currentMeasureDrawable']=undefined,this['lastMouseDownPosition']=undefined;}['deactivate'](){super['deactivate'](),this['currentMeasureDrawable']&&this['removeDrawable'](this['currentMeasureDrawable']);}['setTooltipContent'](){var _0x5ca6de;const _0x36b358=i18n$8['t']('measure');_0x36b358&&this['tooltip']&&((_0x5ca6de=this['tooltip'])===null||_0x5ca6de===void 0x0?void 0x0:_0x5ca6de['setContent'](_0x36b358));}['getScale'](){return this['scale'];}['setScale'](_0x2cb233){this['scale']=_0x2cb233;const _0x494d40=this['drawList']['getDrawables']();for(const _0x4aaa7f of _0x494d40){const _0x31d458=_0x4aaa7f[0x1];(_0x31d458 instanceof DistanceMeasureDrawable||_0x31d458 instanceof AreaMeasureDrawable)&&(_0x31d458['scale']=_0x2cb233);}}}

class AddMeasurementCommand extends Command{constructor(_0x436a88,_0x4f038d){super('AddMeasurement'),this['manager']=_0x436a88,this['data']=_0x4f038d;}['undo'](){const _0x37658f=this['manager']['getById'](this['data']['id']);return _0x37658f?(this['manager']['remove'](_0x37658f),!![]):![];}['redo'](){const _0x5f0e16=this['manager']['create'](this['data']);return _0x5f0e16?(this['manager']['add'](_0x5f0e16),!![]):![];}}

class RemoveMeasurementCommand extends Command{constructor(_0x20e29f,_0x1e2a81){super('RemoveMeasurement'),this['manager']=_0x20e29f,this['data']=_0x1e2a81;}['undo'](){const _0x5ebb8f=this['manager']['create'](this['data']);return _0x5ebb8f?(this['manager']['add'](_0x5ebb8f),!![]):![];}['redo'](){const _0x1bacbc=this['manager']['getById'](this['data']['id']);return _0x1bacbc?(this['manager']['remove'](_0x1bacbc),!![]):![];}}

class MeasurementPlugin extends Plugin{constructor(_0x28da9d,_0x17f5fa){var _0x314743,_0xe4cf41;const _0x17173a=(_0x17f5fa===null||_0x17f5fa===void 0x0?void 0x0:_0x17f5fa['id'])||MeasurementPlugin['DEFAULT_ID'];super(_0x28da9d,{'id':_0x17173a}),this['selectedDrawable']=undefined,this['drawableList']=new DrawableList('measure'),this['drawableHelperList']=new DrawableList('touchHelper'),this['snapToleranceInPixel']=0x3,this['measurements']={},this['activeMeasurementType']=undefined,this['keydown']=_0x31879f=>{var _0x4a03a8;const _0x588f6c=this['getActiveMeasurementType']();let _0x2b0c9a=undefined;_0x588f6c&&(_0x2b0c9a=this['measurements'][_0x588f6c]);const _0x5741f8=this['selectedDrawable'];_0x5741f8&&_0x31879f['code']==='Delete'&&(this['remove'](_0x5741f8),(_0x4a03a8=this['viewer']['getUndoManager']())===null||_0x4a03a8===void 0x0?void 0x0:_0x4a03a8['addCommand'](new RemoveMeasurementCommand(this,_0x5741f8['getData']())),this['activeMeasurementType']&&this['measurements'][this['activeMeasurementType']]['clearClickedDrawable']());if(_0x31879f['ctrlKey']&&_0x31879f['code']==='KeyZ'){if(_0x2b0c9a===null||_0x2b0c9a===void 0x0?void 0x0:_0x2b0c9a['isMeasuring'])_0x2b0c9a['cancel']();}if(_0x31879f['ctrlKey']&&_0x31879f['code']==='KeyY'){if(_0x2b0c9a===null||_0x2b0c9a===void 0x0?void 0x0:_0x2b0c9a['isMeasuring']);}},this['cfg']=_0x17f5fa||{},this['initLocalization']();const _0xa0b2e6=_0x28da9d['getInputManager']();if(!_0xa0b2e6)throw 'InputManager\x20init\x20error';this['inputManager']=_0xa0b2e6,this['overlayRender']=this['viewer']['getOverlayRender'](),(_0x314743=this['overlayRender'])===null||_0x314743===void 0x0?void 0x0:_0x314743['addDrawableList'](this['drawableHelperList']),(_0xe4cf41=this['overlayRender'])===null||_0xe4cf41===void 0x0?void 0x0:_0xe4cf41['addDrawableList'](this['drawableList']);const _0x3351e0=new OSnapHelper(this['overlayRender']);_0x28da9d['is3d']()&&(_0x3351e0['setOSnapTypeEnabled'](OSnapType['Intersection'],![]),_0x3351e0['setOSnapTypeEnabled'](OSnapType['CircleCenter'],![])),this['measurements'][MeasurementType['Distance']]=new DistanceMeasurement(_0x28da9d,_0xa0b2e6,this['drawableList'],_0x3351e0),this['measurements'][MeasurementType['Area']]=new AreaMeasurement(_0x28da9d,_0xa0b2e6,this['drawableList'],_0x3351e0),this['measurements'][MeasurementType['Angle']]=new AngleMeasurement(_0x28da9d,_0xa0b2e6,this['drawableList'],_0x3351e0),this['measurements'][MeasurementType['Coordinate']]=new CoordinateMeasurement(_0x28da9d,_0xa0b2e6,this['drawableList'],_0x3351e0),this['osnapHelper']=_0x3351e0,this['inputManager']['addEventListener']('wheel',()=>{this['updateSnapTolerance']();}),this['viewer']['addEventListener'](ViewerEvent['LayoutChange'],()=>{this['updateSnapTolerance']();}),this['initEvents']();}['initLocalization'](){const _0xdd8697=this['cfg']['language']||DefaultLanguage;i18n$8['changeLanguage'](_0xdd8697);}['initEvents'](){Object['values'](this['measurements'])['forEach'](_0x4e6c7d=>{_0x4e6c7d['addEventListener']('complete',_0x564052=>{this['viewer']['dispatchEvent'](ViewerEvent['MeasurementAdd'],_0x564052['getData']()),this['viewer']['getUndoManager']()['addCommand'](new AddMeasurementCommand(this,_0x564052['getData']())),this['select'](_0x564052);}),_0x4e6c7d['addEventListener']('beforeadd',_0x37b51e=>{this['add'](_0x37b51e,![]);}),_0x4e6c7d['addEventListener']('update',()=>{this['render']();}),_0x4e6c7d['addEventListener']('beforeremove',_0x790719=>{this['remove'](_0x790719,![]);}),_0x4e6c7d['addEventListener']('deactivate',()=>{this['osnapHelper']['deactivate']();}),_0x4e6c7d['addEventListener']('firstpointpicked',()=>{this['unselect']();}),_0x4e6c7d['addEventListener']('onclick',_0x43287d=>{this['select'](_0x43287d);});});}get['canvas'](){var _0x4fed86;return (_0x4fed86=this['viewer']['renderer'])===null||_0x4fed86===void 0x0?void 0x0:_0x4fed86['domElement'];}get['raycaster'](){return this['viewer']['getRaycaster']();}['add'](_0x27e1e5,_0x2da858=!![]){this['drawableList']['addDrawable'](_0x27e1e5),this['selectedDrawable']=_0x27e1e5,this['render'](),_0x2da858&&this['viewer']['dispatchEvent'](ViewerEvent['MeasurementAdd'],_0x27e1e5['getData']());}['create'](_0x4c709d){return CanvasRender['createDrawable'](_0x4c709d);}['remove'](_0x5d033a,_0x5d0aa3=!![]){this['drawableList']['removeDrawable'](_0x5d033a),this['render'](),_0x5d0aa3&&this['viewer']['dispatchEvent'](ViewerEvent['MeasurementRemove'],_0x5d033a['getData']());}['setSnapTolerance'](_0x227ec3){this['snapToleranceInPixel']=_0x227ec3,this['updateSnapTolerance']();}['updateSnapTolerance'](){const _0x1cc7d9=this['viewer']['getPixelSizeInWorldCoord']()*this['snapToleranceInPixel'];this['osnapHelper']['setSnapTolerance'](_0x1cc7d9);}['activate'](_0x452062){this['activeMeasurementType']&&this['deactivate']();this['measurements'][_0x452062]?(this['measurements'][_0x452062]['activate'](),this['activeMeasurementType']=_0x452062,this['updateSnapTolerance']()):(this['activeMeasurementType']=undefined,log['error']('[Measure]\x20Failed\x20to\x20activate\x20measurement,\x20type:',_0x452062));const {width:_0x2a9f5d,height:_0x443ea8}=this['canvas']['getBoundingClientRect']();DeviceUtils['isMobile']&&this['canvas']&&!this['mobileTouchHelper']&&(this['mobileTouchHelper']=new MobileTouchHelperDrawable(new THREE['Vector2'](_0x2a9f5d/0x2,_0x443ea8/0x2)),this['drawableHelperList']['addDrawable'](this['mobileTouchHelper'])),this['mobileTouchHelper']&&(this['mobileTouchHelper']['setPosition'](new THREE['Vector2'](_0x2a9f5d/0x2,_0x443ea8/0x2)),this['measurements'][_0x452062]['setTouchHelper'](this['mobileTouchHelper']),this['mobileTouchHelper']['visible']=!![],this['render']()),this['enableSelection']=this['viewer']['enableSelection'],this['viewer']['enableSelection']=![],this['inputManager']['addEventListener']('keydown',this['keydown']);}['deactivate'](){this['unselect']();const _0x8df90f=this['activeMeasurementType'];_0x8df90f&&this['measurements'][_0x8df90f]['deactivate'](),this['activeMeasurementType']=undefined,this['mobileTouchHelper']&&(this['mobileTouchHelper']['visible']=![],this['render']()),this['enableSelection']!=null&&(this['viewer']['enableSelection']=this['enableSelection']),this['enableSelection']=undefined,this['inputManager']['removeEventListener']('keydown',this['keydown']);}['getActiveMeasurementType'](){return this['activeMeasurementType'];}['isActive'](){const _0x5cfa75=this['activeMeasurementType'];if(_0x5cfa75)return this['measurements'][_0x5cfa75]['isActive'];return !!this['getActiveMeasurementType']();}['isMeasuring'](){const _0x2ca397=this['activeMeasurementType'];if(_0x2ca397)return this['measurements'][_0x2ca397]['isMeasuring'];return ![];}['getData'](){return this['drawableList']['getDrawableDatas']();}['cancel'](){const _0x330525=this['activeMeasurementType'];_0x330525&&this['measurements'][_0x330525]['exitDrawing']();}['setData'](_0x3fad24){this['viewer']['getUndoManager']()['startTransaction'](),_0x3fad24['forEach'](_0x1914c5=>{const _0x18c252=this['measurements'][_0x1914c5['type']];_0x18c252?_0x1914c5['points']['length']>=0x2?(this['add'](CanvasRender['createDrawable'](_0x1914c5)),this['viewer']['getUndoManager']()['addCommand'](new AddMeasurementCommand(this,_0x1914c5))):log['info']('[Measure]\x20Invalid\x20points\x20found\x20in\x20MeasurementData:',_0x1914c5):log['warn']('[Measure]\x20Failed\x20to\x20add\x20measurement\x20data\x20for',_0x1914c5);}),this['viewer']['getUndoManager']()['endTransaction']();}['setVisibleById'](_0x15c35e,_0x2e7350){const _0x36000c=this['drawableList']['getDrawables'](),_0x1c9363=_0x36000c['get'](_0x15c35e);if(!_0x1c9363)return ![];return _0x1c9363['visible']!==_0x2e7350&&(_0x1c9363['visible']=_0x2e7350,this['render']()),!![];}['setVisibilities'](_0x46c312){let _0x509d6c=![];this['drawableList']['getDrawables']()['forEach'](_0x3b90c1=>{_0x3b90c1['visible']!==_0x46c312&&(_0x3b90c1['visible']=_0x46c312,_0x509d6c=!![]);}),_0x509d6c&&this['render']();}['clear'](){const _0x253e7e=this['activeMeasurementType'];_0x253e7e&&this['measurements'][_0x253e7e]['exitDrawing'](),this['drawableList']['clear'](),this['render']();}['getById'](_0x5a8fd4){return this['drawableList']['getDrawableById'](_0x5a8fd4);}['removeById'](_0x3084af){const _0x8e6b=this['drawableList']['getDrawableById'](_0x3084af);if(!_0x8e6b){log['warn']('[Measure]\x20Failed\x20to\x20find\x20measurement\x20by\x20id:',_0x3084af);return;}this['remove'](_0x8e6b);}['selectById'](_0x17d883){const _0x1c8f07=this['drawableList']['getDrawableById'](_0x17d883);_0x1c8f07&&this['select'](_0x1c8f07);}['select'](_0x2ea11c){this['unselect'](![]),_0x2ea11c['selected']=!![],this['selectedDrawable']=_0x2ea11c,this['render']();}['unselect'](_0x31caea=!![]){this['selectedDrawable']&&(this['selectedDrawable']['selected']=![],_0x31caea&&this['render']()),this['selectedDrawable']=undefined;}['getScale'](){const _0x2df2f6=this['measurements'][MeasurementType['Distance']];return _0x2df2f6['getScale']();}['setScale'](_0x27b79d){if(!_0x27b79d||_0x27b79d<=0x0){log['error']('[Measure]\x20Invalid\x20scale\x20value:',_0x27b79d);return;}const _0x410754=this['measurements'][MeasurementType['Distance']],_0x268218=this['measurements'][MeasurementType['Area']];_0x410754['setScale'](_0x27b79d),_0x268218['setScale'](_0x27b79d);}['destroy'](){super['destroy'](),this['deactivate'](),this['clear'](),this['drawableHelperList']['clear'](),this['measurements']={},this['osnapHelper']['destroy'](),this['render']();}['render'](_0x216d41=![]){var _0x18c8b5;_0x216d41?this['viewer']['enableRender']():(_0x18c8b5=this['overlayRender'])===null||_0x18c8b5===void 0x0?void 0x0:_0x18c8b5['render']();}}MeasurementPlugin['DEFAULT_ID']='MeasurementPlugin';

class ContextMenuPlugin extends Plugin{constructor(_0xf31f97,_0x3110cd){const _0x156950=(_0x3110cd===null||_0x3110cd===void 0x0?void 0x0:_0x3110cd['id'])||ContextMenuPlugin['DEFAULT_ID'];super(_0xf31f97,{'id':_0x156950}),this['itemList']=[],this['handleClick']=()=>{this['hide']();},this['cfg']=_0x3110cd||{},this['initLocalization'](),this['container']=_0xf31f97['widgetContainer']||document['body'],this['context']={'viewer':_0xf31f97},this['element']=this['createMenuUI'](ContextMenuItems||[]),window['oncontextmenu']=_0x1dad5e=>_0x1dad5e['preventDefault'](),this['hide'](),this['initEvents']();}['initLocalization'](){const _0x59c799=this['cfg']['language']||DefaultLanguage;i18n$9['changeLanguage'](_0x59c799);}['initEvents'](){const _0x15ffdb=this['viewer']['getInputManager']();if(!_0x15ffdb)return;let _0xd7d59b=![],_0xd97779=![],_0x17faf5=0x0,_0x5bd299=0x0;const _0xc8ec75=_0x54f343=>{const _0xc5ffee=0x5;if(_0x17faf5===-0x1||_0x5bd299===-0x1)return ![];return Math['abs'](_0x54f343['x']-_0x17faf5)<_0xc5ffee&&Math['abs'](_0x54f343['y']-_0x5bd299)<_0xc5ffee;};_0x15ffdb['addEventListener']('pointerdown',()=>{_0xd97779=![],_0xd7d59b=!![],this['hide']();}),_0x15ffdb['addEventListener']('pointermove',_0x26942f=>{_0xd7d59b&&!_0xd97779&&(_0xd97779=!_0xc8ec75(_0x26942f));}),_0x15ffdb['addEventListener']('pointerup',_0x55043f=>{_0xd7d59b=![];if(_0xd97779){_0xd97779=![],this['hide']();return;}_0x17faf5=_0x55043f['x'],_0x5bd299=_0x55043f['y'];const _0x58294a=this['viewer']['findPlugin'](MeasurementPlugin['DEFAULT_ID']);_0x55043f['button']===MouseButton['Right']&&!(_0x58294a===null||_0x58294a===void 0x0?void 0x0:_0x58294a['isActive']())?this['showContextMenu'](_0x55043f):this['hide']();}),document['addEventListener']('click',this['handleClick']);}['showContextMenu'](_0x5bed5a){const _0x2531fa=this['context'],_0x50d4d7=this['viewer'];this['context']=Object['assign'](Object['assign']({},_0x2531fa),{'hit':_0x50d4d7['pickObject'](new THREE['Vector2'](_0x5bed5a['x'],_0x5bed5a['y']))});const {x:_0xe2a6d9,y:_0xedfa15}=_0x5bed5a;this['show'](_0xe2a6d9,_0xedfa15);}['isEnabled'](_0x45d366){if(_0x45d366['getEnabled'])return _0x45d366['getEnabled'](this['context']);if(_0x45d366['enabled']!==undefined)return _0x45d366['enabled'];return !![];}['isShown'](_0x472e20){if(_0x472e20['getShown'])return _0x472e20['getShown'](this['context']);if(_0x472e20['shown']!==undefined)return _0x472e20['shown'];return !![];}['getTitle'](_0xdafb09){return _0xdafb09['title']||_0xdafb09['getTitle']&&_0xdafb09['getTitle'](this['context'])||'';}['createMenuUI'](_0x15bd6e){const _0x123230=document['createElement']('div');_0x123230['id']=this['id'],_0x123230['classList']['add']('context-menu');const _0x482b6d=this['createMenuGroup'](_0x15bd6e);return _0x123230['append'](..._0x482b6d),this['container']['appendChild'](_0x123230),_0x123230;}['createMenuGroup'](_0x321bda){return map$1(_0x321bda,_0x4a7914=>{const _0x1f5ab3=document['createElement']('ul');return forEach(_0x4a7914,_0x1b6e59=>{const _0x17f0a1=this['createMenuItem'](_0x1b6e59);_0x1f5ab3['append'](_0x17f0a1);}),_0x1f5ab3;});}['createMenuItem'](_0x55f628){const _0x1a91a6=document['createElement']('li');return _0x1a91a6['innerHTML']=this['getTitle'](_0x55f628),_0x1a91a6['onclick']=()=>_0x55f628['doAction']&&_0x55f628['doAction'](this['context']),this['isEnabled'](_0x55f628)?_0x1a91a6['classList']['remove']('disabled'):_0x1a91a6['classList']['add']('disabled'),this['isShown'](_0x55f628)?_0x1a91a6['removeAttribute']('hidden'):_0x1a91a6['setAttribute']('hidden',''),this['itemList']['push']([_0x55f628,_0x1a91a6]),_0x1a91a6;}['updateMenuItems'](){forEach(this['itemList'],([_0x21582d,_0x390d87])=>{this['isEnabled'](_0x21582d)?_0x390d87['classList']['remove']('disabled'):_0x390d87['classList']['add']('disabled'),this['isShown'](_0x21582d)?_0x390d87['removeAttribute']('hidden'):_0x390d87['setAttribute']('hidden',''),_0x390d87['innerHTML']=this['getTitle'](_0x21582d);});}['showMenuElement'](_0x3209fd,_0x1377c2){const _0x46498f=this['element']['offsetHeight'],_0x14dcf6=this['element']['offsetWidth'];_0x1377c2+_0x46498f>window['innerHeight']&&(_0x1377c2=window['innerHeight']-_0x46498f-0x5),_0x3209fd+_0x14dcf6>window['innerWidth']&&(_0x3209fd=window['innerWidth']-_0x14dcf6-0x5),this['element']['style']['left']=_0x3209fd+'px',this['element']['style']['top']=_0x1377c2+'px';}['show'](_0x2629ea,_0x398126){this['updateMenuItems'](),this['element']['removeAttribute']('hidden'),this['showMenuElement'](_0x2629ea,_0x398126);}['hide'](){this['element']['setAttribute']('hidden','');}['destroy'](){document['removeEventListener']('click',this['handleClick']),this['container']['removeChild'](this['element']);}}ContextMenuPlugin['DEFAULT_ID']='ContextMenuPlugin';

function ___$insertStyle(_0x136350){if(typeof window==='undefined')return;var _0xa2ed28=document['createElement']('style');return _0xa2ed28['setAttribute']('type','text/css'),_0xa2ed28['innerHTML']=_0x136350,document['head']['appendChild'](_0xa2ed28),_0x136350;}function colorToString(_0x500571,_0x338164){var _0x35588e=_0x500571['__state']['conversionName']['toString'](),_0x16205d=Math['round'](_0x500571['r']),_0x41bf5b=Math['round'](_0x500571['g']),_0x30c95e=Math['round'](_0x500571['b']),_0x2ed37b=_0x500571['a'],_0x17e657=Math['round'](_0x500571['h']),_0x11380b=_0x500571['s']['toFixed'](0x1),_0x3506bf=_0x500571['v']['toFixed'](0x1);if(_0x338164||_0x35588e==='THREE_CHAR_HEX'||_0x35588e==='SIX_CHAR_HEX'){var _0xa2cab2=_0x500571['hex']['toString'](0x10);while(_0xa2cab2['length']<0x6){_0xa2cab2='0'+_0xa2cab2;}return '#'+_0xa2cab2;}else {if(_0x35588e==='CSS_RGB')return 'rgb('+_0x16205d+','+_0x41bf5b+','+_0x30c95e+')';else {if(_0x35588e==='CSS_RGBA')return 'rgba('+_0x16205d+','+_0x41bf5b+','+_0x30c95e+','+_0x2ed37b+')';else {if(_0x35588e==='HEX')return '0x'+_0x500571['hex']['toString'](0x10);else {if(_0x35588e==='RGB_ARRAY')return '['+_0x16205d+','+_0x41bf5b+','+_0x30c95e+']';else {if(_0x35588e==='RGBA_ARRAY')return '['+_0x16205d+','+_0x41bf5b+','+_0x30c95e+','+_0x2ed37b+']';else {if(_0x35588e==='RGB_OBJ')return '{r:'+_0x16205d+',g:'+_0x41bf5b+',b:'+_0x30c95e+'}';else {if(_0x35588e==='RGBA_OBJ')return '{r:'+_0x16205d+',g:'+_0x41bf5b+',b:'+_0x30c95e+',a:'+_0x2ed37b+'}';else {if(_0x35588e==='HSV_OBJ')return '{h:'+_0x17e657+',s:'+_0x11380b+',v:'+_0x3506bf+'}';else {if(_0x35588e==='HSVA_OBJ')return '{h:'+_0x17e657+',s:'+_0x11380b+',v:'+_0x3506bf+',a:'+_0x2ed37b+'}';}}}}}}}}}return 'unknown\x20format';}var ARR_EACH=Array['prototype']['forEach'],ARR_SLICE=Array['prototype']['slice'],Common={'BREAK':{},'extend':function extend(_0x30701d){return this['each'](ARR_SLICE['call'](arguments,0x1),function(_0x15b158){var _0x2bd9e3=this['isObject'](_0x15b158)?Object['keys'](_0x15b158):[];_0x2bd9e3['forEach'](function(_0x1e697a){!this['isUndefined'](_0x15b158[_0x1e697a])&&(_0x30701d[_0x1e697a]=_0x15b158[_0x1e697a]);}['bind'](this));},this),_0x30701d;},'defaults':function defaults(_0x81aba){return this['each'](ARR_SLICE['call'](arguments,0x1),function(_0x551160){var _0x3fe8d4=this['isObject'](_0x551160)?Object['keys'](_0x551160):[];_0x3fe8d4['forEach'](function(_0x55375e){this['isUndefined'](_0x81aba[_0x55375e])&&(_0x81aba[_0x55375e]=_0x551160[_0x55375e]);}['bind'](this));},this),_0x81aba;},'compose':function compose(){var _0x3413f0=ARR_SLICE['call'](arguments);return function(){var _0x33c653=ARR_SLICE['call'](arguments);for(var _0x1aeefb=_0x3413f0['length']-0x1;_0x1aeefb>=0x0;_0x1aeefb--){_0x33c653=[_0x3413f0[_0x1aeefb]['apply'](this,_0x33c653)];}return _0x33c653[0x0];};},'each':function each(_0x1954c0,_0x117edb,_0x572fce){if(!_0x1954c0)return;if(ARR_EACH&&_0x1954c0['forEach']&&_0x1954c0['forEach']===ARR_EACH)_0x1954c0['forEach'](_0x117edb,_0x572fce);else {if(_0x1954c0['length']===_0x1954c0['length']+0x0){var _0x55f8b2=void 0x0,_0x540152=void 0x0;for(_0x55f8b2=0x0,_0x540152=_0x1954c0['length'];_0x55f8b2<_0x540152;_0x55f8b2++){if(_0x55f8b2 in _0x1954c0&&_0x117edb['call'](_0x572fce,_0x1954c0[_0x55f8b2],_0x55f8b2)===this['BREAK'])return;}}else for(var _0x2cf6cc in _0x1954c0){if(_0x117edb['call'](_0x572fce,_0x1954c0[_0x2cf6cc],_0x2cf6cc)===this['BREAK'])return;}}},'defer':function defer(_0x3bbed6){setTimeout(_0x3bbed6,0x0);},'debounce':function debounce(_0x31052f,_0x551473,_0x81f651){var _0x3c529b=void 0x0;return function(){var _0x2ad956=this,_0x4c19ca=arguments;function _0x4e9b72(){_0x3c529b=null;if(!_0x81f651)_0x31052f['apply'](_0x2ad956,_0x4c19ca);}var _0x380b52=_0x81f651||!_0x3c529b;clearTimeout(_0x3c529b),_0x3c529b=setTimeout(_0x4e9b72,_0x551473),_0x380b52&&_0x31052f['apply'](_0x2ad956,_0x4c19ca);};},'toArray':function toArray(_0x4e1de3){if(_0x4e1de3['toArray'])return _0x4e1de3['toArray']();return ARR_SLICE['call'](_0x4e1de3);},'isUndefined':function isUndefined(_0x58d982){return _0x58d982===undefined;},'isNull':function isNull(_0x127201){return _0x127201===null;},'isNaN':function(_0x76ce4b){function _0x305f1b(_0x39e860){return _0x76ce4b['apply'](this,arguments);}return _0x305f1b['toString']=function(){return _0x76ce4b['toString']();},_0x305f1b;}(function(_0x443d8e){return isNaN(_0x443d8e);}),'isArray':Array['isArray']||function(_0x4a1b47){return _0x4a1b47['constructor']===Array;},'isObject':function isObject(_0x1639ea){return _0x1639ea===Object(_0x1639ea);},'isNumber':function isNumber(_0x3be375){return _0x3be375===_0x3be375+0x0;},'isString':function isString(_0x5b9998){return _0x5b9998===_0x5b9998+'';},'isBoolean':function isBoolean(_0x1460df){return _0x1460df===![]||_0x1460df===!![];},'isFunction':function isFunction(_0x44da7b){return _0x44da7b instanceof Function;}},INTERPRETATIONS=[{'litmus':Common['isString'],'conversions':{'THREE_CHAR_HEX':{'read':function read(_0x3620d3){var _0x5d3dcb=_0x3620d3['match'](/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);if(_0x5d3dcb===null)return ![];return {'space':'HEX','hex':parseInt('0x'+_0x5d3dcb[0x1]['toString']()+_0x5d3dcb[0x1]['toString']()+_0x5d3dcb[0x2]['toString']()+_0x5d3dcb[0x2]['toString']()+_0x5d3dcb[0x3]['toString']()+_0x5d3dcb[0x3]['toString'](),0x0)};},'write':colorToString},'SIX_CHAR_HEX':{'read':function read(_0x4f9ef5){var _0x3ec32f=_0x4f9ef5['match'](/^#([A-F0-9]{6})$/i);if(_0x3ec32f===null)return ![];return {'space':'HEX','hex':parseInt('0x'+_0x3ec32f[0x1]['toString'](),0x0)};},'write':colorToString},'CSS_RGB':{'read':function read(_0x3fedf0){var _0x5bb3d2=_0x3fedf0['match'](/^rgb\(\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*\)/);if(_0x5bb3d2===null)return ![];return {'space':'RGB','r':parseFloat(_0x5bb3d2[0x1]),'g':parseFloat(_0x5bb3d2[0x2]),'b':parseFloat(_0x5bb3d2[0x3])};},'write':colorToString},'CSS_RGBA':{'read':function read(_0xcdc91c){var _0x78c01e=_0xcdc91c['match'](/^rgba\(\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*\)/);if(_0x78c01e===null)return ![];return {'space':'RGB','r':parseFloat(_0x78c01e[0x1]),'g':parseFloat(_0x78c01e[0x2]),'b':parseFloat(_0x78c01e[0x3]),'a':parseFloat(_0x78c01e[0x4])};},'write':colorToString}}},{'litmus':Common['isNumber'],'conversions':{'HEX':{'read':function read(_0x16113b){return {'space':'HEX','hex':_0x16113b,'conversionName':'HEX'};},'write':function write(_0x33eca4){return _0x33eca4['hex'];}}}},{'litmus':Common['isArray'],'conversions':{'RGB_ARRAY':{'read':function read(_0x123aa3){if(_0x123aa3['length']!==0x3)return ![];return {'space':'RGB','r':_0x123aa3[0x0],'g':_0x123aa3[0x1],'b':_0x123aa3[0x2]};},'write':function write(_0x1335ed){return [_0x1335ed['r'],_0x1335ed['g'],_0x1335ed['b']];}},'RGBA_ARRAY':{'read':function read(_0x32400d){if(_0x32400d['length']!==0x4)return ![];return {'space':'RGB','r':_0x32400d[0x0],'g':_0x32400d[0x1],'b':_0x32400d[0x2],'a':_0x32400d[0x3]};},'write':function write(_0x3cf29d){return [_0x3cf29d['r'],_0x3cf29d['g'],_0x3cf29d['b'],_0x3cf29d['a']];}}}},{'litmus':Common['isObject'],'conversions':{'RGBA_OBJ':{'read':function read(_0x5f0e42){if(Common['isNumber'](_0x5f0e42['r'])&&Common['isNumber'](_0x5f0e42['g'])&&Common['isNumber'](_0x5f0e42['b'])&&Common['isNumber'](_0x5f0e42['a']))return {'space':'RGB','r':_0x5f0e42['r'],'g':_0x5f0e42['g'],'b':_0x5f0e42['b'],'a':_0x5f0e42['a']};return ![];},'write':function write(_0x4a6d36){return {'r':_0x4a6d36['r'],'g':_0x4a6d36['g'],'b':_0x4a6d36['b'],'a':_0x4a6d36['a']};}},'RGB_OBJ':{'read':function read(_0x142b4c){if(Common['isNumber'](_0x142b4c['r'])&&Common['isNumber'](_0x142b4c['g'])&&Common['isNumber'](_0x142b4c['b']))return {'space':'RGB','r':_0x142b4c['r'],'g':_0x142b4c['g'],'b':_0x142b4c['b']};return ![];},'write':function write(_0xc765d0){return {'r':_0xc765d0['r'],'g':_0xc765d0['g'],'b':_0xc765d0['b']};}},'HSVA_OBJ':{'read':function read(_0x1ef2f0){if(Common['isNumber'](_0x1ef2f0['h'])&&Common['isNumber'](_0x1ef2f0['s'])&&Common['isNumber'](_0x1ef2f0['v'])&&Common['isNumber'](_0x1ef2f0['a']))return {'space':'HSV','h':_0x1ef2f0['h'],'s':_0x1ef2f0['s'],'v':_0x1ef2f0['v'],'a':_0x1ef2f0['a']};return ![];},'write':function write(_0x596fcf){return {'h':_0x596fcf['h'],'s':_0x596fcf['s'],'v':_0x596fcf['v'],'a':_0x596fcf['a']};}},'HSV_OBJ':{'read':function read(_0x44a78e){if(Common['isNumber'](_0x44a78e['h'])&&Common['isNumber'](_0x44a78e['s'])&&Common['isNumber'](_0x44a78e['v']))return {'space':'HSV','h':_0x44a78e['h'],'s':_0x44a78e['s'],'v':_0x44a78e['v']};return ![];},'write':function write(_0x2b2282){return {'h':_0x2b2282['h'],'s':_0x2b2282['s'],'v':_0x2b2282['v']};}}}}],result=void 0x0,toReturn=void 0x0,interpret=function interpret(){toReturn=![];var _0x2a027a=arguments['length']>0x1?Common['toArray'](arguments):arguments[0x0];return Common['each'](INTERPRETATIONS,function(_0x54db83){if(_0x54db83['litmus'](_0x2a027a))return Common['each'](_0x54db83['conversions'],function(_0x28fca9,_0xcad6da){result=_0x28fca9['read'](_0x2a027a);if(toReturn===![]&&result!==![])return toReturn=result,result['conversionName']=_0xcad6da,result['conversion']=_0x28fca9,Common['BREAK'];}),Common['BREAK'];}),toReturn;},tmpComponent=void 0x0,ColorMath={'hsv_to_rgb':function hsv_to_rgb(_0x221ef4,_0x587f4b,_0x2a6b57){var _0x9d31a5=Math['floor'](_0x221ef4/0x3c)%0x6,_0x33fa29=_0x221ef4/0x3c-Math['floor'](_0x221ef4/0x3c),_0x3d8616=_0x2a6b57*(0x1-_0x587f4b),_0x2afeaf=_0x2a6b57*(0x1-_0x33fa29*_0x587f4b),_0x28bed8=_0x2a6b57*(0x1-(0x1-_0x33fa29)*_0x587f4b),_0x592654=[[_0x2a6b57,_0x28bed8,_0x3d8616],[_0x2afeaf,_0x2a6b57,_0x3d8616],[_0x3d8616,_0x2a6b57,_0x28bed8],[_0x3d8616,_0x2afeaf,_0x2a6b57],[_0x28bed8,_0x3d8616,_0x2a6b57],[_0x2a6b57,_0x3d8616,_0x2afeaf]][_0x9d31a5];return {'r':_0x592654[0x0]*0xff,'g':_0x592654[0x1]*0xff,'b':_0x592654[0x2]*0xff};},'rgb_to_hsv':function rgb_to_hsv(_0x8a93ec,_0x2ae99a,_0x1e69e5){var _0x128d27=Math['min'](_0x8a93ec,_0x2ae99a,_0x1e69e5),_0x106a17=Math['max'](_0x8a93ec,_0x2ae99a,_0x1e69e5),_0x22c1b6=_0x106a17-_0x128d27,_0x5bfa18=void 0x0,_0x3b4c07=void 0x0;if(_0x106a17!==0x0)_0x3b4c07=_0x22c1b6/_0x106a17;else return {'h':NaN,'s':0x0,'v':0x0};if(_0x8a93ec===_0x106a17)_0x5bfa18=(_0x2ae99a-_0x1e69e5)/_0x22c1b6;else _0x2ae99a===_0x106a17?_0x5bfa18=0x2+(_0x1e69e5-_0x8a93ec)/_0x22c1b6:_0x5bfa18=0x4+(_0x8a93ec-_0x2ae99a)/_0x22c1b6;return _0x5bfa18/=0x6,_0x5bfa18<0x0&&(_0x5bfa18+=0x1),{'h':_0x5bfa18*0x168,'s':_0x3b4c07,'v':_0x106a17/0xff};},'rgb_to_hex':function rgb_to_hex(_0x35169d,_0x7f8ba1,_0x4911fc){var _0x4f9a72=this['hex_with_component'](0x0,0x2,_0x35169d);return _0x4f9a72=this['hex_with_component'](_0x4f9a72,0x1,_0x7f8ba1),_0x4f9a72=this['hex_with_component'](_0x4f9a72,0x0,_0x4911fc),_0x4f9a72;},'component_from_hex':function component_from_hex(_0x4da0c2,_0x551d1b){return _0x4da0c2>>_0x551d1b*0x8&0xff;},'hex_with_component':function hex_with_component(_0x589b44,_0x5077f5,_0xa077ae){return _0xa077ae<<(tmpComponent=_0x5077f5*0x8)|_0x589b44&~(0xff<<tmpComponent);}},_typeof=typeof Symbol==='function'&&typeof Symbol['iterator']==='symbol'?function(_0x22a68d){return typeof _0x22a68d;}:function(_0x13e360){return _0x13e360&&typeof Symbol==='function'&&_0x13e360['constructor']===Symbol&&_0x13e360!==Symbol['prototype']?'symbol':typeof _0x13e360;},classCallCheck=function(_0x45b4b5,_0x2f2f57){if(!(_0x45b4b5 instanceof _0x2f2f57))throw new TypeError('Cannot\x20call\x20a\x20class\x20as\x20a\x20function');},createClass=(function(){function _0x2bd255(_0x4707ee,_0x322915){for(var _0x5e5e9b=0x0;_0x5e5e9b<_0x322915['length'];_0x5e5e9b++){var _0x7c1cd8=_0x322915[_0x5e5e9b];_0x7c1cd8['enumerable']=_0x7c1cd8['enumerable']||![],_0x7c1cd8['configurable']=!![];if('value'in _0x7c1cd8)_0x7c1cd8['writable']=!![];Object['defineProperty'](_0x4707ee,_0x7c1cd8['key'],_0x7c1cd8);}}return function(_0x1bd309,_0x4f02c4,_0x3b5253){if(_0x4f02c4)_0x2bd255(_0x1bd309['prototype'],_0x4f02c4);if(_0x3b5253)_0x2bd255(_0x1bd309,_0x3b5253);return _0x1bd309;};}()),get=function get(_0x5a9312,_0x5a2085,_0xf01493){if(_0x5a9312===null)_0x5a9312=Function['prototype'];var _0x132467=Object['getOwnPropertyDescriptor'](_0x5a9312,_0x5a2085);if(_0x132467===undefined){var _0x1430ef=Object['getPrototypeOf'](_0x5a9312);return _0x1430ef===null?undefined:get(_0x1430ef,_0x5a2085,_0xf01493);}else {if('value'in _0x132467)return _0x132467['value'];else {var _0x50f686=_0x132467['get'];if(_0x50f686===undefined)return undefined;return _0x50f686['call'](_0xf01493);}}},inherits=function(_0x1173a7,_0x386e25){if(typeof _0x386e25!=='function'&&_0x386e25!==null)throw new TypeError('Super\x20expression\x20must\x20either\x20be\x20null\x20or\x20a\x20function,\x20not\x20'+typeof _0x386e25);_0x1173a7['prototype']=Object['create'](_0x386e25&&_0x386e25['prototype'],{'constructor':{'value':_0x1173a7,'enumerable':![],'writable':!![],'configurable':!![]}});if(_0x386e25)Object['setPrototypeOf']?Object['setPrototypeOf'](_0x1173a7,_0x386e25):_0x1173a7['__proto__']=_0x386e25;},possibleConstructorReturn=function(_0x3d86f5,_0x1011bb){if(!_0x3d86f5)throw new ReferenceError('this\x20hasn\x27t\x20been\x20initialised\x20-\x20super()\x20hasn\x27t\x20been\x20called');return _0x1011bb&&(typeof _0x1011bb==='object'||typeof _0x1011bb==='function')?_0x1011bb:_0x3d86f5;},Color=(function(){function _0x41ff31(){classCallCheck(this,_0x41ff31),this['__state']=interpret['apply'](this,arguments);if(this['__state']===![])throw new Error('Failed\x20to\x20interpret\x20color\x20arguments');this['__state']['a']=this['__state']['a']||0x1;}return createClass(_0x41ff31,[{'key':'toString','value':function _0x9046e8(){return colorToString(this);}},{'key':'toHexString','value':function _0x16d2a4(){return colorToString(this,!![]);}},{'key':'toOriginal','value':function _0x193c2f(){return this['__state']['conversion']['write'](this);}}]),_0x41ff31;}());function defineRGBComponent(_0xfeeaba,_0x4329bc,_0xaae39e){Object['defineProperty'](_0xfeeaba,_0x4329bc,{'get':function _0x13cd62(){if(this['__state']['space']==='RGB')return this['__state'][_0x4329bc];return Color['recalculateRGB'](this,_0x4329bc,_0xaae39e),this['__state'][_0x4329bc];},'set':function _0x4b2566(_0xceca52){this['__state']['space']!=='RGB'&&(Color['recalculateRGB'](this,_0x4329bc,_0xaae39e),this['__state']['space']='RGB'),this['__state'][_0x4329bc]=_0xceca52;}});}function defineHSVComponent(_0x257ecf,_0x5844ad){Object['defineProperty'](_0x257ecf,_0x5844ad,{'get':function _0x5be9d9(){if(this['__state']['space']==='HSV')return this['__state'][_0x5844ad];return Color['recalculateHSV'](this),this['__state'][_0x5844ad];},'set':function _0x428b5b(_0x3790d2){this['__state']['space']!=='HSV'&&(Color['recalculateHSV'](this),this['__state']['space']='HSV'),this['__state'][_0x5844ad]=_0x3790d2;}});}Color['recalculateRGB']=function(_0x450708,_0xb1af74,_0x143e5a){if(_0x450708['__state']['space']==='HEX')_0x450708['__state'][_0xb1af74]=ColorMath['component_from_hex'](_0x450708['__state']['hex'],_0x143e5a);else {if(_0x450708['__state']['space']==='HSV')Common['extend'](_0x450708['__state'],ColorMath['hsv_to_rgb'](_0x450708['__state']['h'],_0x450708['__state']['s'],_0x450708['__state']['v']));else throw new Error('Corrupted\x20color\x20state');}},Color['recalculateHSV']=function(_0x1e40f9){var _0x5edbdf=ColorMath['rgb_to_hsv'](_0x1e40f9['r'],_0x1e40f9['g'],_0x1e40f9['b']);Common['extend'](_0x1e40f9['__state'],{'s':_0x5edbdf['s'],'v':_0x5edbdf['v']});if(!Common['isNaN'](_0x5edbdf['h']))_0x1e40f9['__state']['h']=_0x5edbdf['h'];else Common['isUndefined'](_0x1e40f9['__state']['h'])&&(_0x1e40f9['__state']['h']=0x0);},Color['COMPONENTS']=['r','g','b','h','s','v','hex','a'],defineRGBComponent(Color['prototype'],'r',0x2),defineRGBComponent(Color['prototype'],'g',0x1),defineRGBComponent(Color['prototype'],'b',0x0),defineHSVComponent(Color['prototype'],'h'),defineHSVComponent(Color['prototype'],'s'),defineHSVComponent(Color['prototype'],'v'),Object['defineProperty'](Color['prototype'],'a',{'get':function get$$1(){return this['__state']['a'];},'set':function set$$1(_0x52449a){this['__state']['a']=_0x52449a;}}),Object['defineProperty'](Color['prototype'],'hex',{'get':function get$$1(){return this['__state']['space']!=='HEX'&&(this['__state']['hex']=ColorMath['rgb_to_hex'](this['r'],this['g'],this['b']),this['__state']['space']='HEX'),this['__state']['hex'];},'set':function set$$1(_0x65b1c3){this['__state']['space']='HEX',this['__state']['hex']=_0x65b1c3;}});var Controller=(function(){function _0x5f438c(_0x32146c,_0x3b363a){classCallCheck(this,_0x5f438c),this['initialValue']=_0x32146c[_0x3b363a],this['domElement']=document['createElement']('div'),this['object']=_0x32146c,this['property']=_0x3b363a,this['__onChange']=undefined,this['__onFinishChange']=undefined;}return createClass(_0x5f438c,[{'key':'onChange','value':function _0x3da3e7(_0x50a2dc){return this['__onChange']=_0x50a2dc,this;}},{'key':'onFinishChange','value':function _0x5af632(_0x37dd71){return this['__onFinishChange']=_0x37dd71,this;}},{'key':'setValue','value':function _0x431f4a(_0x57b48a){return this['object'][this['property']]=_0x57b48a,this['__onChange']&&this['__onChange']['call'](this,_0x57b48a),this['updateDisplay'](),this;}},{'key':'getValue','value':function _0x326397(){return this['object'][this['property']];}},{'key':'updateDisplay','value':function _0x319913(){return this;}},{'key':'isModified','value':function _0xd7c5cc(){return this['initialValue']!==this['getValue']();}}]),_0x5f438c;}()),EVENT_MAP={'HTMLEvents':['change'],'MouseEvents':['click','mousemove','mousedown','mouseup','mouseover'],'KeyboardEvents':['keydown']},EVENT_MAP_INV={};Common['each'](EVENT_MAP,function(_0x446d39,_0xcbe6e2){Common['each'](_0x446d39,function(_0x54e47c){EVENT_MAP_INV[_0x54e47c]=_0xcbe6e2;});});var CSS_VALUE_PIXELS=/(\d+(\.\d+)?)px/;function cssValueToPixels(_0x12b717){if(_0x12b717==='0'||Common['isUndefined'](_0x12b717))return 0x0;var _0x552c61=_0x12b717['match'](CSS_VALUE_PIXELS);if(!Common['isNull'](_0x552c61))return parseFloat(_0x552c61[0x1]);return 0x0;}var dom={'makeSelectable':function makeSelectable(_0x4d1a2f,_0x363d90){if(_0x4d1a2f===undefined||_0x4d1a2f['style']===undefined)return;_0x4d1a2f['onselectstart']=_0x363d90?function(){return ![];}:function(){},_0x4d1a2f['style']['MozUserSelect']=_0x363d90?'auto':'none',_0x4d1a2f['style']['KhtmlUserSelect']=_0x363d90?'auto':'none',_0x4d1a2f['unselectable']=_0x363d90?'on':'off';},'makeFullscreen':function makeFullscreen(_0x13c766,_0x13a138,_0x52360c){var _0x2cd990=_0x52360c,_0xbe9bb=_0x13a138;Common['isUndefined'](_0xbe9bb)&&(_0xbe9bb=!![]),Common['isUndefined'](_0x2cd990)&&(_0x2cd990=!![]),_0x13c766['style']['position']='absolute',_0xbe9bb&&(_0x13c766['style']['left']=0x0,_0x13c766['style']['right']=0x0),_0x2cd990&&(_0x13c766['style']['top']=0x0,_0x13c766['style']['bottom']=0x0);},'fakeEvent':function fakeEvent(_0x18f14a,_0x4b6cd4,_0x19eac9,_0x46b8d1){var _0x565a97=_0x19eac9||{},_0x10d4d9=EVENT_MAP_INV[_0x4b6cd4];if(!_0x10d4d9)throw new Error('Event\x20type\x20'+_0x4b6cd4+'\x20not\x20supported.');var _0x2c2c03=document['createEvent'](_0x10d4d9);switch(_0x10d4d9){case'MouseEvents':{var _0x33d3c3=_0x565a97['x']||_0x565a97['clientX']||0x0,_0x3bc3df=_0x565a97['y']||_0x565a97['clientY']||0x0;_0x2c2c03['initMouseEvent'](_0x4b6cd4,_0x565a97['bubbles']||![],_0x565a97['cancelable']||!![],window,_0x565a97['clickCount']||0x1,0x0,0x0,_0x33d3c3,_0x3bc3df,![],![],![],![],0x0,null);break;}case'KeyboardEvents':{var _0x4f8cd7=_0x2c2c03['initKeyboardEvent']||_0x2c2c03['initKeyEvent'];Common['defaults'](_0x565a97,{'cancelable':!![],'ctrlKey':![],'altKey':![],'shiftKey':![],'metaKey':![],'keyCode':undefined,'charCode':undefined}),_0x4f8cd7(_0x4b6cd4,_0x565a97['bubbles']||![],_0x565a97['cancelable'],window,_0x565a97['ctrlKey'],_0x565a97['altKey'],_0x565a97['shiftKey'],_0x565a97['metaKey'],_0x565a97['keyCode'],_0x565a97['charCode']);break;}default:{_0x2c2c03['initEvent'](_0x4b6cd4,_0x565a97['bubbles']||![],_0x565a97['cancelable']||!![]);break;}}Common['defaults'](_0x2c2c03,_0x46b8d1),_0x18f14a['dispatchEvent'](_0x2c2c03);},'bind':function bind(_0x381958,_0x7902ea,_0x576ee3,_0x6b113c){var _0x5a09a6=_0x6b113c||![];if(_0x381958['addEventListener'])_0x381958['addEventListener'](_0x7902ea,_0x576ee3,_0x5a09a6);else _0x381958['attachEvent']&&_0x381958['attachEvent']('on'+_0x7902ea,_0x576ee3);return dom;},'unbind':function unbind(_0x38a435,_0x5a60a8,_0x401fe9,_0x12beff){var _0x5cb9cd=_0x12beff||![];if(_0x38a435['removeEventListener'])_0x38a435['removeEventListener'](_0x5a60a8,_0x401fe9,_0x5cb9cd);else _0x38a435['detachEvent']&&_0x38a435['detachEvent']('on'+_0x5a60a8,_0x401fe9);return dom;},'addClass':function addClass(_0x4760e8,_0x46419b){if(_0x4760e8['className']===undefined)_0x4760e8['className']=_0x46419b;else {if(_0x4760e8['className']!==_0x46419b){var _0x27cb70=_0x4760e8['className']['split'](/ +/);_0x27cb70['indexOf'](_0x46419b)===-0x1&&(_0x27cb70['push'](_0x46419b),_0x4760e8['className']=_0x27cb70['join']('\x20')['replace'](/^\s+/,'')['replace'](/\s+$/,''));}}return dom;},'removeClass':function removeClass(_0x1c3101,_0x3db156){if(_0x3db156){if(_0x1c3101['className']===_0x3db156)_0x1c3101['removeAttribute']('class');else {var _0x4a47b6=_0x1c3101['className']['split'](/ +/),_0x197cf1=_0x4a47b6['indexOf'](_0x3db156);_0x197cf1!==-0x1&&(_0x4a47b6['splice'](_0x197cf1,0x1),_0x1c3101['className']=_0x4a47b6['join']('\x20'));}}else _0x1c3101['className']=undefined;return dom;},'hasClass':function hasClass(_0x611f5d,_0x546d88){return new RegExp('(?:^|\x5cs+)'+_0x546d88+'(?:\x5cs+|$)')['test'](_0x611f5d['className'])||![];},'getWidth':function getWidth(_0x7a636e){var _0x597386=getComputedStyle(_0x7a636e);return cssValueToPixels(_0x597386['border-left-width'])+cssValueToPixels(_0x597386['border-right-width'])+cssValueToPixels(_0x597386['padding-left'])+cssValueToPixels(_0x597386['padding-right'])+cssValueToPixels(_0x597386['width']);},'getHeight':function getHeight(_0x4fdb90){var _0x1ab7f5=getComputedStyle(_0x4fdb90);return cssValueToPixels(_0x1ab7f5['border-top-width'])+cssValueToPixels(_0x1ab7f5['border-bottom-width'])+cssValueToPixels(_0x1ab7f5['padding-top'])+cssValueToPixels(_0x1ab7f5['padding-bottom'])+cssValueToPixels(_0x1ab7f5['height']);},'getOffset':function getOffset(_0x2a5b67){var _0x1d7650=_0x2a5b67,_0x188d7e={'left':0x0,'top':0x0};if(_0x1d7650['offsetParent'])do{_0x188d7e['left']+=_0x1d7650['offsetLeft'],_0x188d7e['top']+=_0x1d7650['offsetTop'],_0x1d7650=_0x1d7650['offsetParent'];}while(_0x1d7650);return _0x188d7e;},'isActive':function isActive(_0x35dee4){return _0x35dee4===document['activeElement']&&(_0x35dee4['type']||_0x35dee4['href']);}},BooleanController=function(_0x27f2d3){inherits(_0xd3a64,_0x27f2d3);function _0xd3a64(_0x185f6c,_0x43e4b0){classCallCheck(this,_0xd3a64);var _0x3a4c7d=possibleConstructorReturn(this,(_0xd3a64['__proto__']||Object['getPrototypeOf'](_0xd3a64))['call'](this,_0x185f6c,_0x43e4b0)),_0x105c74=_0x3a4c7d;_0x3a4c7d['__prev']=_0x3a4c7d['getValue'](),_0x3a4c7d['__checkbox']=document['createElement']('input'),_0x3a4c7d['__checkbox']['setAttribute']('type','checkbox');function _0x4e067e(){_0x105c74['setValue'](!_0x105c74['__prev']);}return dom['bind'](_0x3a4c7d['__checkbox'],'change',_0x4e067e,![]),_0x3a4c7d['domElement']['appendChild'](_0x3a4c7d['__checkbox']),_0x3a4c7d['updateDisplay'](),_0x3a4c7d;}return createClass(_0xd3a64,[{'key':'setValue','value':function _0x56a5ed(_0x4eda06){var _0x1ff207=get(_0xd3a64['prototype']['__proto__']||Object['getPrototypeOf'](_0xd3a64['prototype']),'setValue',this)['call'](this,_0x4eda06);return this['__onFinishChange']&&this['__onFinishChange']['call'](this,this['getValue']()),this['__prev']=this['getValue'](),_0x1ff207;}},{'key':'updateDisplay','value':function _0x57a2d3(){return this['getValue']()===!![]?(this['__checkbox']['setAttribute']('checked','checked'),this['__checkbox']['checked']=!![],this['__prev']=!![]):(this['__checkbox']['checked']=![],this['__prev']=![]),get(_0xd3a64['prototype']['__proto__']||Object['getPrototypeOf'](_0xd3a64['prototype']),'updateDisplay',this)['call'](this);}}]),_0xd3a64;}(Controller),OptionController=function(_0x234d9c){inherits(_0x4f98f7,_0x234d9c);function _0x4f98f7(_0x1eb672,_0x592a6c,_0x4cefa2){classCallCheck(this,_0x4f98f7);var _0x4c43df=possibleConstructorReturn(this,(_0x4f98f7['__proto__']||Object['getPrototypeOf'](_0x4f98f7))['call'](this,_0x1eb672,_0x592a6c)),_0x22cb15=_0x4cefa2,_0x21830f=_0x4c43df;_0x4c43df['__select']=document['createElement']('select');if(Common['isArray'](_0x22cb15)){var _0xadcab1={};Common['each'](_0x22cb15,function(_0x253b28){_0xadcab1[_0x253b28]=_0x253b28;}),_0x22cb15=_0xadcab1;}return Common['each'](_0x22cb15,function(_0x189c9e,_0x2cd292){var _0x14982d=document['createElement']('option');_0x14982d['innerHTML']=_0x2cd292,_0x14982d['setAttribute']('value',_0x189c9e),_0x21830f['__select']['appendChild'](_0x14982d);}),_0x4c43df['updateDisplay'](),dom['bind'](_0x4c43df['__select'],'change',function(){var _0x4f4161=this['options'][this['selectedIndex']]['value'];_0x21830f['setValue'](_0x4f4161);}),_0x4c43df['domElement']['appendChild'](_0x4c43df['__select']),_0x4c43df;}return createClass(_0x4f98f7,[{'key':'setValue','value':function _0x7d0235(_0x346731){var _0xb77726=get(_0x4f98f7['prototype']['__proto__']||Object['getPrototypeOf'](_0x4f98f7['prototype']),'setValue',this)['call'](this,_0x346731);return this['__onFinishChange']&&this['__onFinishChange']['call'](this,this['getValue']()),_0xb77726;}},{'key':'updateDisplay','value':function _0xdc1fb1(){if(dom['isActive'](this['__select']))return this;return this['__select']['value']=this['getValue'](),get(_0x4f98f7['prototype']['__proto__']||Object['getPrototypeOf'](_0x4f98f7['prototype']),'updateDisplay',this)['call'](this);}}]),_0x4f98f7;}(Controller),StringController=function(_0x46c753){inherits(_0x4230fd,_0x46c753);function _0x4230fd(_0x420ed7,_0xb9a68e){classCallCheck(this,_0x4230fd);var _0x161120=possibleConstructorReturn(this,(_0x4230fd['__proto__']||Object['getPrototypeOf'](_0x4230fd))['call'](this,_0x420ed7,_0xb9a68e)),_0xd365ab=_0x161120;function _0x3dc7ac(){_0xd365ab['setValue'](_0xd365ab['__input']['value']);}function _0x2b39e3(){_0xd365ab['__onFinishChange']&&_0xd365ab['__onFinishChange']['call'](_0xd365ab,_0xd365ab['getValue']());}return _0x161120['__input']=document['createElement']('input'),_0x161120['__input']['setAttribute']('type','text'),dom['bind'](_0x161120['__input'],'keyup',_0x3dc7ac),dom['bind'](_0x161120['__input'],'change',_0x3dc7ac),dom['bind'](_0x161120['__input'],'blur',_0x2b39e3),dom['bind'](_0x161120['__input'],'keydown',function(_0x260e19){_0x260e19['keyCode']===0xd&&this['blur']();}),_0x161120['updateDisplay'](),_0x161120['domElement']['appendChild'](_0x161120['__input']),_0x161120;}return createClass(_0x4230fd,[{'key':'updateDisplay','value':function _0x183b3c(){return !dom['isActive'](this['__input'])&&(this['__input']['value']=this['getValue']()),get(_0x4230fd['prototype']['__proto__']||Object['getPrototypeOf'](_0x4230fd['prototype']),'updateDisplay',this)['call'](this);}}]),_0x4230fd;}(Controller);function numDecimals(_0x46569d){var _0x4b4e49=_0x46569d['toString']();if(_0x4b4e49['indexOf']('.')>-0x1)return _0x4b4e49['length']-_0x4b4e49['indexOf']('.')-0x1;return 0x0;}var NumberController=function(_0x15fc8a){inherits(_0x58ee64,_0x15fc8a);function _0x58ee64(_0x298970,_0x3d5be7,_0x49e7a4){classCallCheck(this,_0x58ee64);var _0x289f29=possibleConstructorReturn(this,(_0x58ee64['__proto__']||Object['getPrototypeOf'](_0x58ee64))['call'](this,_0x298970,_0x3d5be7)),_0x242d6a=_0x49e7a4||{};return _0x289f29['__min']=_0x242d6a['min'],_0x289f29['__max']=_0x242d6a['max'],_0x289f29['__step']=_0x242d6a['step'],Common['isUndefined'](_0x289f29['__step'])?_0x289f29['initialValue']===0x0?_0x289f29['__impliedStep']=0x1:_0x289f29['__impliedStep']=Math['pow'](0xa,Math['floor'](Math['log'](Math['abs'](_0x289f29['initialValue']))/Math['LN10']))/0xa:_0x289f29['__impliedStep']=_0x289f29['__step'],_0x289f29['__precision']=numDecimals(_0x289f29['__impliedStep']),_0x289f29;}return createClass(_0x58ee64,[{'key':'setValue','value':function _0x396b47(_0x1a6618){var _0x3230cb=_0x1a6618;if(this['__min']!==undefined&&_0x3230cb<this['__min'])_0x3230cb=this['__min'];else this['__max']!==undefined&&_0x3230cb>this['__max']&&(_0x3230cb=this['__max']);return this['__step']!==undefined&&_0x3230cb%this['__step']!==0x0&&(_0x3230cb=Math['round'](_0x3230cb/this['__step'])*this['__step']),get(_0x58ee64['prototype']['__proto__']||Object['getPrototypeOf'](_0x58ee64['prototype']),'setValue',this)['call'](this,_0x3230cb);}},{'key':'min','value':function _0x248049(_0x3977eb){return this['__min']=_0x3977eb,this;}},{'key':'max','value':function _0x34baf2(_0x3e6863){return this['__max']=_0x3e6863,this;}},{'key':'step','value':function _0x18cb82(_0x1164b2){return this['__step']=_0x1164b2,this['__impliedStep']=_0x1164b2,this['__precision']=numDecimals(_0x1164b2),this;}}]),_0x58ee64;}(Controller);function roundToDecimal(_0x769288,_0x2a594a){var _0x52145e=Math['pow'](0xa,_0x2a594a);return Math['round'](_0x769288*_0x52145e)/_0x52145e;}var NumberControllerBox=function(_0x1b53f8){inherits(_0x4cc9c8,_0x1b53f8);function _0x4cc9c8(_0x55e4ea,_0x2d79a5,_0x24b591){classCallCheck(this,_0x4cc9c8);var _0x43ec72=possibleConstructorReturn(this,(_0x4cc9c8['__proto__']||Object['getPrototypeOf'](_0x4cc9c8))['call'](this,_0x55e4ea,_0x2d79a5,_0x24b591));_0x43ec72['__truncationSuspended']=![];var _0x199fb1=_0x43ec72,_0x3574c5=void 0x0;function _0x388ec4(){var _0x41d7b7=parseFloat(_0x199fb1['__input']['value']);!Common['isNaN'](_0x41d7b7)&&_0x199fb1['setValue'](_0x41d7b7);}function _0x19e8fd(){_0x199fb1['__onFinishChange']&&_0x199fb1['__onFinishChange']['call'](_0x199fb1,_0x199fb1['getValue']());}function _0x508e2f(){_0x19e8fd();}function _0x2e8cdd(_0x2d0eb3){var _0x3ca89e=_0x3574c5-_0x2d0eb3['clientY'];_0x199fb1['setValue'](_0x199fb1['getValue']()+_0x3ca89e*_0x199fb1['__impliedStep']),_0x3574c5=_0x2d0eb3['clientY'];}function _0x20bece(){dom['unbind'](window,'mousemove',_0x2e8cdd),dom['unbind'](window,'mouseup',_0x20bece),_0x19e8fd();}function _0x2b875c(_0x1a0f89){dom['bind'](window,'mousemove',_0x2e8cdd),dom['bind'](window,'mouseup',_0x20bece),_0x3574c5=_0x1a0f89['clientY'];}return _0x43ec72['__input']=document['createElement']('input'),_0x43ec72['__input']['setAttribute']('type','text'),dom['bind'](_0x43ec72['__input'],'change',_0x388ec4),dom['bind'](_0x43ec72['__input'],'blur',_0x508e2f),dom['bind'](_0x43ec72['__input'],'mousedown',_0x2b875c),dom['bind'](_0x43ec72['__input'],'keydown',function(_0x542124){_0x542124['keyCode']===0xd&&(_0x199fb1['__truncationSuspended']=!![],this['blur'](),_0x199fb1['__truncationSuspended']=![],_0x19e8fd());}),_0x43ec72['updateDisplay'](),_0x43ec72['domElement']['appendChild'](_0x43ec72['__input']),_0x43ec72;}return createClass(_0x4cc9c8,[{'key':'updateDisplay','value':function _0x3ac069(){return this['__input']['value']=this['__truncationSuspended']?this['getValue']():roundToDecimal(this['getValue'](),this['__precision']),get(_0x4cc9c8['prototype']['__proto__']||Object['getPrototypeOf'](_0x4cc9c8['prototype']),'updateDisplay',this)['call'](this);}}]),_0x4cc9c8;}(NumberController);function map(_0x58c11f,_0x3c2b34,_0x2b7286,_0x3dc150,_0x39cbfc){return _0x3dc150+(_0x39cbfc-_0x3dc150)*((_0x58c11f-_0x3c2b34)/(_0x2b7286-_0x3c2b34));}var NumberControllerSlider=function(_0x1ead81){inherits(_0x5dec73,_0x1ead81);function _0x5dec73(_0x5063a4,_0x7afeca,_0x21ee8f,_0x2623a0,_0x2cf2b5){classCallCheck(this,_0x5dec73);var _0x58e4b0=possibleConstructorReturn(this,(_0x5dec73['__proto__']||Object['getPrototypeOf'](_0x5dec73))['call'](this,_0x5063a4,_0x7afeca,{'min':_0x21ee8f,'max':_0x2623a0,'step':_0x2cf2b5})),_0x489c73=_0x58e4b0;_0x58e4b0['__background']=document['createElement']('div'),_0x58e4b0['__foreground']=document['createElement']('div'),dom['bind'](_0x58e4b0['__background'],'mousedown',_0x276de0),dom['bind'](_0x58e4b0['__background'],'touchstart',_0x1ec632),dom['addClass'](_0x58e4b0['__background'],'slider'),dom['addClass'](_0x58e4b0['__foreground'],'slider-fg');function _0x276de0(_0x11481f){document['activeElement']['blur'](),dom['bind'](window,'mousemove',_0x3cf765),dom['bind'](window,'mouseup',_0x49a8ed),_0x3cf765(_0x11481f);}function _0x3cf765(_0x270956){_0x270956['preventDefault']();var _0x3f29ce=_0x489c73['__background']['getBoundingClientRect']();return _0x489c73['setValue'](map(_0x270956['clientX'],_0x3f29ce['left'],_0x3f29ce['right'],_0x489c73['__min'],_0x489c73['__max'])),![];}function _0x49a8ed(){dom['unbind'](window,'mousemove',_0x3cf765),dom['unbind'](window,'mouseup',_0x49a8ed),_0x489c73['__onFinishChange']&&_0x489c73['__onFinishChange']['call'](_0x489c73,_0x489c73['getValue']());}function _0x1ec632(_0xcbd9d1){if(_0xcbd9d1['touches']['length']!==0x1)return;dom['bind'](window,'touchmove',_0x5381ae),dom['bind'](window,'touchend',_0x3065ad),_0x5381ae(_0xcbd9d1);}function _0x5381ae(_0x20a1f0){var _0x342367=_0x20a1f0['touches'][0x0]['clientX'],_0x868109=_0x489c73['__background']['getBoundingClientRect']();_0x489c73['setValue'](map(_0x342367,_0x868109['left'],_0x868109['right'],_0x489c73['__min'],_0x489c73['__max']));}function _0x3065ad(){dom['unbind'](window,'touchmove',_0x5381ae),dom['unbind'](window,'touchend',_0x3065ad),_0x489c73['__onFinishChange']&&_0x489c73['__onFinishChange']['call'](_0x489c73,_0x489c73['getValue']());}return _0x58e4b0['updateDisplay'](),_0x58e4b0['__background']['appendChild'](_0x58e4b0['__foreground']),_0x58e4b0['domElement']['appendChild'](_0x58e4b0['__background']),_0x58e4b0;}return createClass(_0x5dec73,[{'key':'updateDisplay','value':function _0x46a807(){var _0xbcab4e=(this['getValue']()-this['__min'])/(this['__max']-this['__min']);return this['__foreground']['style']['width']=_0xbcab4e*0x64+'%',get(_0x5dec73['prototype']['__proto__']||Object['getPrototypeOf'](_0x5dec73['prototype']),'updateDisplay',this)['call'](this);}}]),_0x5dec73;}(NumberController),FunctionController=function(_0x129f7a){inherits(_0x2bd888,_0x129f7a);function _0x2bd888(_0x5e7f96,_0x5c6fee,_0x403e00){classCallCheck(this,_0x2bd888);var _0x129954=possibleConstructorReturn(this,(_0x2bd888['__proto__']||Object['getPrototypeOf'](_0x2bd888))['call'](this,_0x5e7f96,_0x5c6fee)),_0x334140=_0x129954;return _0x129954['__button']=document['createElement']('div'),_0x129954['__button']['innerHTML']=_0x403e00===undefined?'Fire':_0x403e00,dom['bind'](_0x129954['__button'],'click',function(_0x1a8fbe){return _0x1a8fbe['preventDefault'](),_0x334140['fire'](),![];}),dom['addClass'](_0x129954['__button'],'button'),_0x129954['domElement']['appendChild'](_0x129954['__button']),_0x129954;}return createClass(_0x2bd888,[{'key':'fire','value':function _0xc8e656(){this['__onChange']&&this['__onChange']['call'](this),this['getValue']()['call'](this['object']),this['__onFinishChange']&&this['__onFinishChange']['call'](this,this['getValue']());}}]),_0x2bd888;}(Controller),ColorController=function(_0x216d12){inherits(_0x571162,_0x216d12);function _0x571162(_0x6ff92,_0x2897e9){classCallCheck(this,_0x571162);var _0x5f23f0=possibleConstructorReturn(this,(_0x571162['__proto__']||Object['getPrototypeOf'](_0x571162))['call'](this,_0x6ff92,_0x2897e9));_0x5f23f0['__color']=new Color(_0x5f23f0['getValue']()),_0x5f23f0['__temp']=new Color(0x0);var _0x1fda60=_0x5f23f0;_0x5f23f0['domElement']=document['createElement']('div'),dom['makeSelectable'](_0x5f23f0['domElement'],![]),_0x5f23f0['__selector']=document['createElement']('div'),_0x5f23f0['__selector']['className']='selector',_0x5f23f0['__saturation_field']=document['createElement']('div'),_0x5f23f0['__saturation_field']['className']='saturation-field',_0x5f23f0['__field_knob']=document['createElement']('div'),_0x5f23f0['__field_knob']['className']='field-knob',_0x5f23f0['__field_knob_border']='2px\x20solid\x20',_0x5f23f0['__hue_knob']=document['createElement']('div'),_0x5f23f0['__hue_knob']['className']='hue-knob',_0x5f23f0['__hue_field']=document['createElement']('div'),_0x5f23f0['__hue_field']['className']='hue-field',_0x5f23f0['__input']=document['createElement']('input'),_0x5f23f0['__input']['type']='text',_0x5f23f0['__input_textShadow']='0\x201px\x201px\x20',dom['bind'](_0x5f23f0['__input'],'keydown',function(_0x3ecde2){_0x3ecde2['keyCode']===0xd&&_0x20289c['call'](this);}),dom['bind'](_0x5f23f0['__input'],'blur',_0x20289c),dom['bind'](_0x5f23f0['__selector'],'mousedown',function(){dom['addClass'](this,'drag')['bind'](window,'mouseup',function(){dom['removeClass'](_0x1fda60['__selector'],'drag');});}),dom['bind'](_0x5f23f0['__selector'],'touchstart',function(){dom['addClass'](this,'drag')['bind'](window,'touchend',function(){dom['removeClass'](_0x1fda60['__selector'],'drag');});});var _0x42ce18=document['createElement']('div');Common['extend'](_0x5f23f0['__selector']['style'],{'width':'122px','height':'102px','padding':'3px','backgroundColor':'#222','boxShadow':'0px\x201px\x203px\x20rgba(0,0,0,0.3)'}),Common['extend'](_0x5f23f0['__field_knob']['style'],{'position':'absolute','width':'12px','height':'12px','border':_0x5f23f0['__field_knob_border']+(_0x5f23f0['__color']['v']<0.5?'#fff':'#000'),'boxShadow':'0px\x201px\x203px\x20rgba(0,0,0,0.5)','borderRadius':'12px','zIndex':0x1}),Common['extend'](_0x5f23f0['__hue_knob']['style'],{'position':'absolute','width':'15px','height':'2px','borderRight':'4px\x20solid\x20#fff','zIndex':0x1}),Common['extend'](_0x5f23f0['__saturation_field']['style'],{'width':'100px','height':'100px','border':'1px\x20solid\x20#555','marginRight':'3px','display':'inline-block','cursor':'pointer'}),Common['extend'](_0x42ce18['style'],{'width':'100%','height':'100%','background':'none'}),linearGradient(_0x42ce18,'top','rgba(0,0,0,0)','#000'),Common['extend'](_0x5f23f0['__hue_field']['style'],{'width':'15px','height':'100px','border':'1px\x20solid\x20#555','cursor':'ns-resize','position':'absolute','top':'3px','right':'3px'}),hueGradient(_0x5f23f0['__hue_field']),Common['extend'](_0x5f23f0['__input']['style'],{'outline':'none','textAlign':'center','color':'#fff','border':0x0,'fontWeight':'bold','textShadow':_0x5f23f0['__input_textShadow']+'rgba(0,0,0,0.7)'}),dom['bind'](_0x5f23f0['__saturation_field'],'mousedown',_0x52e164),dom['bind'](_0x5f23f0['__saturation_field'],'touchstart',_0x52e164),dom['bind'](_0x5f23f0['__field_knob'],'mousedown',_0x52e164),dom['bind'](_0x5f23f0['__field_knob'],'touchstart',_0x52e164),dom['bind'](_0x5f23f0['__hue_field'],'mousedown',_0x3506f0),dom['bind'](_0x5f23f0['__hue_field'],'touchstart',_0x3506f0);function _0x52e164(_0x5e1e86){_0x2bc668(_0x5e1e86),dom['bind'](window,'mousemove',_0x2bc668),dom['bind'](window,'touchmove',_0x2bc668),dom['bind'](window,'mouseup',_0x2e825b),dom['bind'](window,'touchend',_0x2e825b);}function _0x3506f0(_0x34ddb9){_0x1d6759(_0x34ddb9),dom['bind'](window,'mousemove',_0x1d6759),dom['bind'](window,'touchmove',_0x1d6759),dom['bind'](window,'mouseup',_0x3974c5),dom['bind'](window,'touchend',_0x3974c5);}function _0x2e825b(){dom['unbind'](window,'mousemove',_0x2bc668),dom['unbind'](window,'touchmove',_0x2bc668),dom['unbind'](window,'mouseup',_0x2e825b),dom['unbind'](window,'touchend',_0x2e825b),_0xf199ee();}function _0x3974c5(){dom['unbind'](window,'mousemove',_0x1d6759),dom['unbind'](window,'touchmove',_0x1d6759),dom['unbind'](window,'mouseup',_0x3974c5),dom['unbind'](window,'touchend',_0x3974c5),_0xf199ee();}function _0x20289c(){var _0x35c8c9=interpret(this['value']);_0x35c8c9!==![]?(_0x1fda60['__color']['__state']=_0x35c8c9,_0x1fda60['setValue'](_0x1fda60['__color']['toOriginal']())):this['value']=_0x1fda60['__color']['toString']();}function _0xf199ee(){_0x1fda60['__onFinishChange']&&_0x1fda60['__onFinishChange']['call'](_0x1fda60,_0x1fda60['__color']['toOriginal']());}_0x5f23f0['__saturation_field']['appendChild'](_0x42ce18),_0x5f23f0['__selector']['appendChild'](_0x5f23f0['__field_knob']),_0x5f23f0['__selector']['appendChild'](_0x5f23f0['__saturation_field']),_0x5f23f0['__selector']['appendChild'](_0x5f23f0['__hue_field']),_0x5f23f0['__hue_field']['appendChild'](_0x5f23f0['__hue_knob']),_0x5f23f0['domElement']['appendChild'](_0x5f23f0['__input']),_0x5f23f0['domElement']['appendChild'](_0x5f23f0['__selector']),_0x5f23f0['updateDisplay']();function _0x2bc668(_0x596601){_0x596601['type']['indexOf']('touch')===-0x1&&_0x596601['preventDefault']();var _0x30a7e9=_0x1fda60['__saturation_field']['getBoundingClientRect'](),_0x1dec92=_0x596601['touches']&&_0x596601['touches'][0x0]||_0x596601,_0x29c8aa=_0x1dec92['clientX'],_0x425948=_0x1dec92['clientY'],_0x2f5a80=(_0x29c8aa-_0x30a7e9['left'])/(_0x30a7e9['right']-_0x30a7e9['left']),_0x3ae4af=0x1-(_0x425948-_0x30a7e9['top'])/(_0x30a7e9['bottom']-_0x30a7e9['top']);if(_0x3ae4af>0x1)_0x3ae4af=0x1;else _0x3ae4af<0x0&&(_0x3ae4af=0x0);if(_0x2f5a80>0x1)_0x2f5a80=0x1;else _0x2f5a80<0x0&&(_0x2f5a80=0x0);return _0x1fda60['__color']['v']=_0x3ae4af,_0x1fda60['__color']['s']=_0x2f5a80,_0x1fda60['setValue'](_0x1fda60['__color']['toOriginal']()),![];}function _0x1d6759(_0x53f77c){_0x53f77c['type']['indexOf']('touch')===-0x1&&_0x53f77c['preventDefault']();var _0x41c709=_0x1fda60['__hue_field']['getBoundingClientRect'](),_0x3e9350=_0x53f77c['touches']&&_0x53f77c['touches'][0x0]||_0x53f77c,_0x430cc3=_0x3e9350['clientY'],_0x9a06d8=0x1-(_0x430cc3-_0x41c709['top'])/(_0x41c709['bottom']-_0x41c709['top']);if(_0x9a06d8>0x1)_0x9a06d8=0x1;else _0x9a06d8<0x0&&(_0x9a06d8=0x0);return _0x1fda60['__color']['h']=_0x9a06d8*0x168,_0x1fda60['setValue'](_0x1fda60['__color']['toOriginal']()),![];}return _0x5f23f0;}return createClass(_0x571162,[{'key':'updateDisplay','value':function _0x2be6a0(){var _0x3213e9=interpret(this['getValue']());if(_0x3213e9!==![]){var _0x3ac597=![];Common['each'](Color['COMPONENTS'],function(_0x249012){if(!Common['isUndefined'](_0x3213e9[_0x249012])&&!Common['isUndefined'](this['__color']['__state'][_0x249012])&&_0x3213e9[_0x249012]!==this['__color']['__state'][_0x249012])return _0x3ac597=!![],{};},this),_0x3ac597&&Common['extend'](this['__color']['__state'],_0x3213e9);}Common['extend'](this['__temp']['__state'],this['__color']['__state']),this['__temp']['a']=0x1;var _0x82f594=this['__color']['v']<0.5||this['__color']['s']>0.5?0xff:0x0,_0x4c335b=0xff-_0x82f594;Common['extend'](this['__field_knob']['style'],{'marginLeft':0x64*this['__color']['s']-0x7+'px','marginTop':0x64*(0x1-this['__color']['v'])-0x7+'px','backgroundColor':this['__temp']['toHexString'](),'border':this['__field_knob_border']+'rgb('+_0x82f594+','+_0x82f594+','+_0x82f594+')'}),this['__hue_knob']['style']['marginTop']=(0x1-this['__color']['h']/0x168)*0x64+'px',this['__temp']['s']=0x1,this['__temp']['v']=0x1,linearGradient(this['__saturation_field'],'left','#fff',this['__temp']['toHexString']()),this['__input']['value']=this['__color']['toString'](),Common['extend'](this['__input']['style'],{'backgroundColor':this['__color']['toHexString'](),'color':'rgb('+_0x82f594+','+_0x82f594+','+_0x82f594+')','textShadow':this['__input_textShadow']+'rgba('+_0x4c335b+','+_0x4c335b+','+_0x4c335b+',.7)'});}}]),_0x571162;}(Controller),vendors=['-moz-','-o-','-webkit-','-ms-',''];function linearGradient(_0x1d4e6b,_0x3c987f,_0x5eef6d,_0x3f70c2){_0x1d4e6b['style']['background']='',Common['each'](vendors,function(_0x596c02){_0x1d4e6b['style']['cssText']+='background:\x20'+_0x596c02+'linear-gradient('+_0x3c987f+',\x20'+_0x5eef6d+'\x200%,\x20'+_0x3f70c2+'\x20100%);\x20';});}function hueGradient(_0x1770d5){_0x1770d5['style']['background']='',_0x1770d5['style']['cssText']+='background:\x20-moz-linear-gradient(top,\x20\x20#ff0000\x200%,\x20#ff00ff\x2017%,\x20#0000ff\x2034%,\x20#00ffff\x2050%,\x20#00ff00\x2067%,\x20#ffff00\x2084%,\x20#ff0000\x20100%);',_0x1770d5['style']['cssText']+='background:\x20-webkit-linear-gradient(top,\x20\x20#ff0000\x200%,#ff00ff\x2017%,#0000ff\x2034%,#00ffff\x2050%,#00ff00\x2067%,#ffff00\x2084%,#ff0000\x20100%);',_0x1770d5['style']['cssText']+='background:\x20-o-linear-gradient(top,\x20\x20#ff0000\x200%,#ff00ff\x2017%,#0000ff\x2034%,#00ffff\x2050%,#00ff00\x2067%,#ffff00\x2084%,#ff0000\x20100%);',_0x1770d5['style']['cssText']+='background:\x20-ms-linear-gradient(top,\x20\x20#ff0000\x200%,#ff00ff\x2017%,#0000ff\x2034%,#00ffff\x2050%,#00ff00\x2067%,#ffff00\x2084%,#ff0000\x20100%);',_0x1770d5['style']['cssText']+='background:\x20linear-gradient(top,\x20\x20#ff0000\x200%,#ff00ff\x2017%,#0000ff\x2034%,#00ffff\x2050%,#00ff00\x2067%,#ffff00\x2084%,#ff0000\x20100%);';}var css={'load':function load(_0x3e6b7b,_0x3dd136){var _0x52be20=_0x3dd136||document,_0x20b8ef=_0x52be20['createElement']('link');_0x20b8ef['type']='text/css',_0x20b8ef['rel']='stylesheet',_0x20b8ef['href']=_0x3e6b7b,_0x52be20['getElementsByTagName']('head')[0x0]['appendChild'](_0x20b8ef);},'inject':function inject(_0xac256d,_0x636be5){var _0x5d946c=_0x636be5||document,_0x1962df=document['createElement']('style');_0x1962df['type']='text/css',_0x1962df['innerHTML']=_0xac256d;var _0x2f57d1=_0x5d946c['getElementsByTagName']('head')[0x0];try{_0x2f57d1['appendChild'](_0x1962df);}catch(_0x1bd705){}}},saveDialogContents='<div\x20id=\x22dg-save\x22\x20class=\x22dg\x20dialogue\x22>\x0a\x0a\x20\x20Here\x27s\x20the\x20new\x20load\x20parameter\x20for\x20your\x20<code>GUI</code>\x27s\x20constructor:\x0a\x0a\x20\x20<textarea\x20id=\x22dg-new-constructor\x22></textarea>\x0a\x0a\x20\x20<div\x20id=\x22dg-save-locally\x22>\x0a\x0a\x20\x20\x20\x20<input\x20id=\x22dg-local-storage\x22\x20type=\x22checkbox\x22/>\x20Automatically\x20save\x0a\x20\x20\x20\x20values\x20to\x20<code>localStorage</code>\x20on\x20exit.\x0a\x0a\x20\x20\x20\x20<div\x20id=\x22dg-local-explain\x22>The\x20values\x20saved\x20to\x20<code>localStorage</code>\x20will\x0a\x20\x20\x20\x20\x20\x20override\x20those\x20passed\x20to\x20<code>dat.GUI</code>\x27s\x20constructor.\x20This\x20makes\x20it\x0a\x20\x20\x20\x20\x20\x20easier\x20to\x20work\x20incrementally,\x20but\x20<code>localStorage</code>\x20is\x20fragile,\x0a\x20\x20\x20\x20\x20\x20and\x20your\x20friends\x20may\x20not\x20see\x20the\x20same\x20values\x20you\x20do.\x0a\x0a\x20\x20\x20\x20</div>\x0a\x0a\x20\x20</div>\x0a\x0a</div>',ControllerFactory=function ControllerFactory(_0x17a1b8,_0x21aa2e){var _0x14c877=_0x17a1b8[_0x21aa2e];if(Common['isArray'](arguments[0x2])||Common['isObject'](arguments[0x2]))return new OptionController(_0x17a1b8,_0x21aa2e,arguments[0x2]);if(Common['isNumber'](_0x14c877)){if(Common['isNumber'](arguments[0x2])&&Common['isNumber'](arguments[0x3])){if(Common['isNumber'](arguments[0x4]))return new NumberControllerSlider(_0x17a1b8,_0x21aa2e,arguments[0x2],arguments[0x3],arguments[0x4]);return new NumberControllerSlider(_0x17a1b8,_0x21aa2e,arguments[0x2],arguments[0x3]);}if(Common['isNumber'](arguments[0x4]))return new NumberControllerBox(_0x17a1b8,_0x21aa2e,{'min':arguments[0x2],'max':arguments[0x3],'step':arguments[0x4]});return new NumberControllerBox(_0x17a1b8,_0x21aa2e,{'min':arguments[0x2],'max':arguments[0x3]});}if(Common['isString'](_0x14c877))return new StringController(_0x17a1b8,_0x21aa2e);if(Common['isFunction'](_0x14c877))return new FunctionController(_0x17a1b8,_0x21aa2e,'');if(Common['isBoolean'](_0x14c877))return new BooleanController(_0x17a1b8,_0x21aa2e);return null;};function requestAnimationFrame$1(_0x5cc847){setTimeout(_0x5cc847,0x3e8/0x3c);}var requestAnimationFrame$1$1=window['requestAnimationFrame']||window['webkitRequestAnimationFrame']||window['mozRequestAnimationFrame']||window['oRequestAnimationFrame']||window['msRequestAnimationFrame']||requestAnimationFrame$1,CenteredDiv=(function(){function _0x39fc24(){classCallCheck(this,_0x39fc24),this['backgroundElement']=document['createElement']('div'),Common['extend'](this['backgroundElement']['style'],{'backgroundColor':'rgba(0,0,0,0.8)','top':0x0,'left':0x0,'display':'none','zIndex':'1000','opacity':0x0,'WebkitTransition':'opacity\x200.2s\x20linear','transition':'opacity\x200.2s\x20linear'}),dom['makeFullscreen'](this['backgroundElement']),this['backgroundElement']['style']['position']='fixed',this['domElement']=document['createElement']('div'),Common['extend'](this['domElement']['style'],{'position':'fixed','display':'none','zIndex':'1001','opacity':0x0,'WebkitTransition':'-webkit-transform\x200.2s\x20ease-out,\x20opacity\x200.2s\x20linear','transition':'transform\x200.2s\x20ease-out,\x20opacity\x200.2s\x20linear'}),document['body']['appendChild'](this['backgroundElement']),document['body']['appendChild'](this['domElement']);var _0x30b51e=this;dom['bind'](this['backgroundElement'],'click',function(){_0x30b51e['hide']();});}return createClass(_0x39fc24,[{'key':'show','value':function _0x249e71(){var _0x3f402b=this;this['backgroundElement']['style']['display']='block',this['domElement']['style']['display']='block',this['domElement']['style']['opacity']=0x0,this['domElement']['style']['webkitTransform']='scale(1.1)',this['layout'](),Common['defer'](function(){_0x3f402b['backgroundElement']['style']['opacity']=0x1,_0x3f402b['domElement']['style']['opacity']=0x1,_0x3f402b['domElement']['style']['webkitTransform']='scale(1)';});}},{'key':'hide','value':function _0x66a0f0(){var _0x1c9617=this,_0x55d4b9=function _0x597c6d(){_0x1c9617['domElement']['style']['display']='none',_0x1c9617['backgroundElement']['style']['display']='none',dom['unbind'](_0x1c9617['domElement'],'webkitTransitionEnd',_0x597c6d),dom['unbind'](_0x1c9617['domElement'],'transitionend',_0x597c6d),dom['unbind'](_0x1c9617['domElement'],'oTransitionEnd',_0x597c6d);};dom['bind'](this['domElement'],'webkitTransitionEnd',_0x55d4b9),dom['bind'](this['domElement'],'transitionend',_0x55d4b9),dom['bind'](this['domElement'],'oTransitionEnd',_0x55d4b9),this['backgroundElement']['style']['opacity']=0x0,this['domElement']['style']['opacity']=0x0,this['domElement']['style']['webkitTransform']='scale(1.1)';}},{'key':'layout','value':function _0x4c89b1(){this['domElement']['style']['left']=window['innerWidth']/0x2-dom['getWidth'](this['domElement'])/0x2+'px',this['domElement']['style']['top']=window['innerHeight']/0x2-dom['getHeight'](this['domElement'])/0x2+'px';}}]),_0x39fc24;}()),styleSheet=___$insertStyle('.dg\x20ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac)\x20.main{overflow:hidden}.dg.main{-webkit-transition:opacity\x20.1s\x20linear;-o-transition:opacity\x20.1s\x20linear;-moz-transition:opacity\x20.1s\x20linear;transition:opacity\x20.1s\x20linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window\x20.close-button{opacity:1;margin-top:-1px;border-top:1px\x20solid\x20#2c2c2c}.dg.main\x20ul.closed\x20.close-button{opacity:1\x20!important}.dg.main:hover\x20.close-button,.dg.main\x20.close-button.drag{opacity:1}.dg.main\x20.close-button{-webkit-transition:opacity\x20.1s\x20linear;-o-transition:opacity\x20.1s\x20linear;-moz-transition:opacity\x20.1s\x20linear;transition:opacity\x20.1s\x20linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main\x20.close-button.close-top{position:relative}.dg.main\x20.close-button.close-bottom{position:absolute}.dg.main\x20.close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a\x20.save-row{top:0;z-index:1002}.dg.a\x20.save-row.close-top{position:relative}.dg.a\x20.save-row.close-bottom{position:fixed}.dg\x20li{-webkit-transition:height\x20.1s\x20ease-out;-o-transition:height\x20.1s\x20ease-out;-moz-transition:height\x20.1s\x20ease-out;transition:height\x20.1s\x20ease-out;-webkit-transition:overflow\x20.1s\x20linear;-o-transition:overflow\x20.1s\x20linear;-moz-transition:overflow\x20.1s\x20linear;transition:overflow\x20.1s\x20linear}.dg\x20li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0\x204px\x200\x205px}.dg\x20li.folder{padding:0;border-left:4px\x20solid\x20rgba(0,0,0,0)}.dg\x20li.title{cursor:pointer;margin-left:-4px}.dg\x20.closed\x20li:not(.title),.dg\x20.closed\x20ul\x20li,.dg\x20.closed\x20ul\x20li>*{height:0;overflow:hidden;border:0}.dg\x20.cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg\x20.property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg\x20.cr.function\x20.property-name{width:100%}.dg\x20.c{float:left;width:60%;position:relative}.dg\x20.c\x20input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg\x20.has-slider\x20input[type=text]{width:30%;margin-left:0}.dg\x20.slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg\x20.slider-fg{height:100%}.dg\x20.c\x20input[type=checkbox]{margin-top:7px}.dg\x20.c\x20select{margin-top:5px}.dg\x20.cr.function,.dg\x20.cr.function\x20.property-name,.dg\x20.cr.function\x20*,.dg\x20.cr.boolean,.dg\x20.cr.boolean\x20*{cursor:pointer}.dg\x20.cr.color{overflow:visible}.dg\x20.selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg\x20.c:hover\x20.selector,.dg\x20.selector.drag{display:block}.dg\x20li.save-row{padding:0}.dg\x20li.save-row\x20.button{display:inline-block;padding:0px\x206px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco,\x20monospace;font-size:10px;border:0;resize:none;box-shadow:inset\x201px\x201px\x201px\x20#888;word-wrap:break-word;margin:12px\x200;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain\x20code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px\x20\x27Lucida\x20Grande\x27,\x20sans-serif;text-shadow:0\x20-1px\x200\x20#111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg\x20li:not(.folder){background:#1a1a1a;border-bottom:1px\x20solid\x20#2c2c2c}.dg\x20li.save-row{line-height:25px;background:#dad5cb;border:0}.dg\x20li.save-row\x20select{margin-left:5px;width:108px}.dg\x20li.save-row\x20.button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px\x204px\x205px\x204px;background:#c5bdad;color:#fff;text-shadow:0\x201px\x200\x20#b0a58f;box-shadow:0\x20-1px\x200\x20#b0a58f;cursor:pointer}.dg\x20li.save-row\x20.button.gears{background:#c5bdad\x20url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==)\x202px\x201px\x20no-repeat;height:7px;width:8px}.dg\x20li.save-row\x20.button:hover{background-color:#bab19e;box-shadow:0\x20-1px\x200\x20#b0a58f}.dg\x20li.folder{border-bottom:0}.dg\x20li.title{padding-left:16px;background:#000\x20url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==)\x206px\x2010px\x20no-repeat;cursor:pointer;border-bottom:1px\x20solid\x20rgba(255,255,255,0.2)}.dg\x20.closed\x20li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg\x20.cr.boolean{border-left:3px\x20solid\x20#806787}.dg\x20.cr.color{border-left:3px\x20solid}.dg\x20.cr.function{border-left:3px\x20solid\x20#e61d5f}.dg\x20.cr.number{border-left:3px\x20solid\x20#2FA1D6}.dg\x20.cr.number\x20input[type=text]{color:#2FA1D6}.dg\x20.cr.string{border-left:3px\x20solid\x20#1ed36f}.dg\x20.cr.string\x20input[type=text]{color:#1ed36f}.dg\x20.cr.function:hover,.dg\x20.cr.boolean:hover{background:#111}.dg\x20.c\x20input[type=text]{background:#303030;outline:none}.dg\x20.c\x20input[type=text]:hover{background:#3c3c3c}.dg\x20.c\x20input[type=text]:focus{background:#494949;color:#fff}.dg\x20.c\x20.slider{background:#303030;cursor:ew-resize}.dg\x20.c\x20.slider-fg{background:#2FA1D6;max-width:100%}.dg\x20.c\x20.slider:hover{background:#3c3c3c}.dg\x20.c\x20.slider:hover\x20.slider-fg{background:#44abda}\x0a');css['inject'](styleSheet);var CSS_NAMESPACE='dg',HIDE_KEY_CODE=0x48,CLOSE_BUTTON_HEIGHT=0x14,DEFAULT_DEFAULT_PRESET_NAME='Default',SUPPORTS_LOCAL_STORAGE=(function(){try{return !!window['localStorage'];}catch(_0x17e960){return ![];}}()),SAVE_DIALOGUE=void 0x0,autoPlaceVirgin=!![],autoPlaceContainer=void 0x0,hide=![],hideableGuis=[],GUI=function GUI(_0x3d88a3){var _0x22ae04=this,_0x41cd79=_0x3d88a3||{};this['domElement']=document['createElement']('div'),this['__ul']=document['createElement']('ul'),this['domElement']['appendChild'](this['__ul']),dom['addClass'](this['domElement'],CSS_NAMESPACE),this['__folders']={},this['__controllers']=[],this['__rememberedObjects']=[],this['__rememberedObjectIndecesToControllers']=[],this['__listening']=[],_0x41cd79=Common['defaults'](_0x41cd79,{'closeOnTop':![],'autoPlace':!![],'width':GUI['DEFAULT_WIDTH']}),_0x41cd79=Common['defaults'](_0x41cd79,{'resizable':_0x41cd79['autoPlace'],'hideable':_0x41cd79['autoPlace']});!Common['isUndefined'](_0x41cd79['load'])?_0x41cd79['preset']&&(_0x41cd79['load']['preset']=_0x41cd79['preset']):_0x41cd79['load']={'preset':DEFAULT_DEFAULT_PRESET_NAME};Common['isUndefined'](_0x41cd79['parent'])&&_0x41cd79['hideable']&&hideableGuis['push'](this);_0x41cd79['resizable']=Common['isUndefined'](_0x41cd79['parent'])&&_0x41cd79['resizable'];_0x41cd79['autoPlace']&&Common['isUndefined'](_0x41cd79['scrollable'])&&(_0x41cd79['scrollable']=!![]);var _0x29be37=SUPPORTS_LOCAL_STORAGE&&localStorage['getItem'](getLocalStorageHash(this,'isLocal'))==='true',_0x4819dc=void 0x0,_0x36dc66=void 0x0;Object['defineProperties'](this,{'parent':{'get':function _0x2917c0(){return _0x41cd79['parent'];}},'scrollable':{'get':function _0x5e4714(){return _0x41cd79['scrollable'];}},'autoPlace':{'get':function _0x13a5ef(){return _0x41cd79['autoPlace'];}},'closeOnTop':{'get':function _0x98c11b(){return _0x41cd79['closeOnTop'];}},'preset':{'get':function _0x3db65(){if(_0x22ae04['parent'])return _0x22ae04['getRoot']()['preset'];return _0x41cd79['load']['preset'];},'set':function _0x53d229(_0x1aaa81){_0x22ae04['parent']?_0x22ae04['getRoot']()['preset']=_0x1aaa81:_0x41cd79['load']['preset']=_0x1aaa81,setPresetSelectIndex(this),_0x22ae04['revert']();}},'width':{'get':function _0x46a1a7(){return _0x41cd79['width'];},'set':function _0x37a945(_0x34345c){_0x41cd79['width']=_0x34345c,setWidth(_0x22ae04,_0x34345c);}},'name':{'get':function _0x430c08(){return _0x41cd79['name'];},'set':function _0x3be559(_0x5b827b){_0x41cd79['name']=_0x5b827b,_0x36dc66&&(_0x36dc66['innerHTML']=_0x41cd79['name']);}},'closed':{'get':function _0x34dbc2(){return _0x41cd79['closed'];},'set':function _0x343618(_0x22825d){_0x41cd79['closed']=_0x22825d,_0x41cd79['closed']?dom['addClass'](_0x22ae04['__ul'],GUI['CLASS_CLOSED']):dom['removeClass'](_0x22ae04['__ul'],GUI['CLASS_CLOSED']),this['onResize'](),_0x22ae04['__closeButton']&&(_0x22ae04['__closeButton']['innerHTML']=_0x22825d?GUI['TEXT_OPEN']:GUI['TEXT_CLOSED']);}},'load':{'get':function _0x1628d5(){return _0x41cd79['load'];}},'useLocalStorage':{'get':function _0x54fade(){return _0x29be37;},'set':function _0x13511d(_0x41964c){SUPPORTS_LOCAL_STORAGE&&(_0x29be37=_0x41964c,_0x41964c?dom['bind'](window,'unload',_0x4819dc):dom['unbind'](window,'unload',_0x4819dc),localStorage['setItem'](getLocalStorageHash(_0x22ae04,'isLocal'),_0x41964c));}}});if(Common['isUndefined'](_0x41cd79['parent'])){this['closed']=_0x41cd79['closed']||![],dom['addClass'](this['domElement'],GUI['CLASS_MAIN']),dom['makeSelectable'](this['domElement'],![]);if(SUPPORTS_LOCAL_STORAGE){if(_0x29be37){_0x22ae04['useLocalStorage']=!![];var _0xe8ae46=localStorage['getItem'](getLocalStorageHash(this,'gui'));_0xe8ae46&&(_0x41cd79['load']=JSON['parse'](_0xe8ae46));}}this['__closeButton']=document['createElement']('div'),this['__closeButton']['innerHTML']=GUI['TEXT_CLOSED'],dom['addClass'](this['__closeButton'],GUI['CLASS_CLOSE_BUTTON']),_0x41cd79['closeOnTop']?(dom['addClass'](this['__closeButton'],GUI['CLASS_CLOSE_TOP']),this['domElement']['insertBefore'](this['__closeButton'],this['domElement']['childNodes'][0x0])):(dom['addClass'](this['__closeButton'],GUI['CLASS_CLOSE_BOTTOM']),this['domElement']['appendChild'](this['__closeButton'])),dom['bind'](this['__closeButton'],'click',function(){_0x22ae04['closed']=!_0x22ae04['closed'];});}else {_0x41cd79['closed']===undefined&&(_0x41cd79['closed']=!![]);var _0x32e6a3=document['createTextNode'](_0x41cd79['name']);dom['addClass'](_0x32e6a3,'controller-name'),_0x36dc66=addRow(_0x22ae04,_0x32e6a3);var _0x35b55f=function _0x2428a1(_0x38bd4b){return _0x38bd4b['preventDefault'](),_0x22ae04['closed']=!_0x22ae04['closed'],![];};dom['addClass'](this['__ul'],GUI['CLASS_CLOSED']),dom['addClass'](_0x36dc66,'title'),dom['bind'](_0x36dc66,'click',_0x35b55f),!_0x41cd79['closed']&&(this['closed']=![]);}_0x41cd79['autoPlace']&&(Common['isUndefined'](_0x41cd79['parent'])&&(autoPlaceVirgin&&(autoPlaceContainer=document['createElement']('div'),dom['addClass'](autoPlaceContainer,CSS_NAMESPACE),dom['addClass'](autoPlaceContainer,GUI['CLASS_AUTO_PLACE_CONTAINER']),document['body']['appendChild'](autoPlaceContainer),autoPlaceVirgin=![]),autoPlaceContainer['appendChild'](this['domElement']),dom['addClass'](this['domElement'],GUI['CLASS_AUTO_PLACE'])),!this['parent']&&setWidth(_0x22ae04,_0x41cd79['width']));this['__resizeHandler']=function(){_0x22ae04['onResizeDebounced']();},dom['bind'](window,'resize',this['__resizeHandler']),dom['bind'](this['__ul'],'webkitTransitionEnd',this['__resizeHandler']),dom['bind'](this['__ul'],'transitionend',this['__resizeHandler']),dom['bind'](this['__ul'],'oTransitionEnd',this['__resizeHandler']),this['onResize']();_0x41cd79['resizable']&&addResizeHandle(this);_0x4819dc=function _0x4abcd6(){SUPPORTS_LOCAL_STORAGE&&localStorage['getItem'](getLocalStorageHash(_0x22ae04,'isLocal'))==='true'&&localStorage['setItem'](getLocalStorageHash(_0x22ae04,'gui'),JSON['stringify'](_0x22ae04['getSaveObject']()));},this['saveToLocalStorageIfPossible']=_0x4819dc;function _0x22fb08(){var _0x2b500d=_0x22ae04['getRoot']();_0x2b500d['width']+=0x1,Common['defer'](function(){_0x2b500d['width']-=0x1;});}!_0x41cd79['parent']&&_0x22fb08();};GUI['toggleHide']=function(){hide=!hide,Common['each'](hideableGuis,function(_0xc3c748){_0xc3c748['domElement']['style']['display']=hide?'none':'';});},GUI['CLASS_AUTO_PLACE']='a',GUI['CLASS_AUTO_PLACE_CONTAINER']='ac',GUI['CLASS_MAIN']='main',GUI['CLASS_CONTROLLER_ROW']='cr',GUI['CLASS_TOO_TALL']='taller-than-window',GUI['CLASS_CLOSED']='closed',GUI['CLASS_CLOSE_BUTTON']='close-button',GUI['CLASS_CLOSE_TOP']='close-top',GUI['CLASS_CLOSE_BOTTOM']='close-bottom',GUI['CLASS_DRAG']='drag',GUI['DEFAULT_WIDTH']=0xf5,GUI['TEXT_CLOSED']='Close\x20Controls',GUI['TEXT_OPEN']='Open\x20Controls',GUI['_keydownHandler']=function(_0x499619){document['activeElement']['type']!=='text'&&(_0x499619['which']===HIDE_KEY_CODE||_0x499619['keyCode']===HIDE_KEY_CODE)&&GUI['toggleHide']();},dom['bind'](window,'keydown',GUI['_keydownHandler'],![]),Common['extend'](GUI['prototype'],{'add':function add(_0x1b5bd7,_0x130d04){return _add(this,_0x1b5bd7,_0x130d04,{'factoryArgs':Array['prototype']['slice']['call'](arguments,0x2)});},'addColor':function addColor(_0x3d5369,_0x246a88){return _add(this,_0x3d5369,_0x246a88,{'color':!![]});},'remove':function remove(_0x3c65c8){this['__ul']['removeChild'](_0x3c65c8['__li']),this['__controllers']['splice'](this['__controllers']['indexOf'](_0x3c65c8),0x1);var _0x1959d1=this;Common['defer'](function(){_0x1959d1['onResize']();});},'destroy':function destroy(){if(this['parent'])throw new Error('Only\x20the\x20root\x20GUI\x20should\x20be\x20removed\x20with\x20.destroy().\x20'+'For\x20subfolders,\x20use\x20gui.removeFolder(folder)\x20instead.');this['autoPlace']&&autoPlaceContainer['removeChild'](this['domElement']);var _0x3542e2=this;Common['each'](this['__folders'],function(_0x221669){_0x3542e2['removeFolder'](_0x221669);}),dom['unbind'](window,'keydown',GUI['_keydownHandler'],![]),removeListeners(this);},'addFolder':function addFolder(_0x523e08){if(this['__folders'][_0x523e08]!==undefined)throw new Error('You\x20already\x20have\x20a\x20folder\x20in\x20this\x20GUI\x20by\x20the'+'\x20name\x20\x22'+_0x523e08+'\x22');var _0x285cef={'name':_0x523e08,'parent':this};_0x285cef['autoPlace']=this['autoPlace'];this['load']&&this['load']['folders']&&this['load']['folders'][_0x523e08]&&(_0x285cef['closed']=this['load']['folders'][_0x523e08]['closed'],_0x285cef['load']=this['load']['folders'][_0x523e08]);var _0x1e7967=new GUI(_0x285cef);this['__folders'][_0x523e08]=_0x1e7967;var _0x50cd63=addRow(this,_0x1e7967['domElement']);return dom['addClass'](_0x50cd63,'folder'),_0x1e7967;},'removeFolder':function removeFolder(_0x22e71e){this['__ul']['removeChild'](_0x22e71e['domElement']['parentElement']),delete this['__folders'][_0x22e71e['name']];this['load']&&this['load']['folders']&&this['load']['folders'][_0x22e71e['name']]&&delete this['load']['folders'][_0x22e71e['name']];removeListeners(_0x22e71e);var _0x336e69=this;Common['each'](_0x22e71e['__folders'],function(_0x525822){_0x22e71e['removeFolder'](_0x525822);}),Common['defer'](function(){_0x336e69['onResize']();});},'open':function open(){this['closed']=![];},'close':function close(){this['closed']=!![];},'hide':function hide(){this['domElement']['style']['display']='none';},'show':function show(){this['domElement']['style']['display']='';},'onResize':function onResize(){var _0x56091f=this['getRoot']();if(_0x56091f['scrollable']){var _0x4edb69=dom['getOffset'](_0x56091f['__ul'])['top'],_0x25af34=0x0;Common['each'](_0x56091f['__ul']['childNodes'],function(_0x2f81c3){!(_0x56091f['autoPlace']&&_0x2f81c3===_0x56091f['__save_row'])&&(_0x25af34+=dom['getHeight'](_0x2f81c3));}),window['innerHeight']-_0x4edb69-CLOSE_BUTTON_HEIGHT<_0x25af34?(dom['addClass'](_0x56091f['domElement'],GUI['CLASS_TOO_TALL']),_0x56091f['__ul']['style']['height']=window['innerHeight']-_0x4edb69-CLOSE_BUTTON_HEIGHT+'px'):(dom['removeClass'](_0x56091f['domElement'],GUI['CLASS_TOO_TALL']),_0x56091f['__ul']['style']['height']='auto');}_0x56091f['__resize_handle']&&Common['defer'](function(){_0x56091f['__resize_handle']['style']['height']=_0x56091f['__ul']['offsetHeight']+'px';}),_0x56091f['__closeButton']&&(_0x56091f['__closeButton']['style']['width']=_0x56091f['width']+'px');},'onResizeDebounced':Common['debounce'](function(){this['onResize']();},0x32),'remember':function remember(){Common['isUndefined'](SAVE_DIALOGUE)&&(SAVE_DIALOGUE=new CenteredDiv(),SAVE_DIALOGUE['domElement']['innerHTML']=saveDialogContents);if(this['parent'])throw new Error('You\x20can\x20only\x20call\x20remember\x20on\x20a\x20top\x20level\x20GUI.');var _0x3eb06a=this;Common['each'](Array['prototype']['slice']['call'](arguments),function(_0x437524){_0x3eb06a['__rememberedObjects']['length']===0x0&&addSaveMenu(_0x3eb06a),_0x3eb06a['__rememberedObjects']['indexOf'](_0x437524)===-0x1&&_0x3eb06a['__rememberedObjects']['push'](_0x437524);}),this['autoPlace']&&setWidth(this,this['width']);},'getRoot':function getRoot(){var _0x206d67=this;while(_0x206d67['parent']){_0x206d67=_0x206d67['parent'];}return _0x206d67;},'getSaveObject':function getSaveObject(){var _0x4914c1=this['load'];return _0x4914c1['closed']=this['closed'],this['__rememberedObjects']['length']>0x0&&(_0x4914c1['preset']=this['preset'],!_0x4914c1['remembered']&&(_0x4914c1['remembered']={}),_0x4914c1['remembered'][this['preset']]=getCurrentPreset(this)),_0x4914c1['folders']={},Common['each'](this['__folders'],function(_0x392ab0,_0x97432b){_0x4914c1['folders'][_0x97432b]=_0x392ab0['getSaveObject']();}),_0x4914c1;},'save':function save(){!this['load']['remembered']&&(this['load']['remembered']={}),this['load']['remembered'][this['preset']]=getCurrentPreset(this),markPresetModified(this,![]),this['saveToLocalStorageIfPossible']();},'saveAs':function saveAs(_0x2f1ce3){!this['load']['remembered']&&(this['load']['remembered']={},this['load']['remembered'][DEFAULT_DEFAULT_PRESET_NAME]=getCurrentPreset(this,!![])),this['load']['remembered'][_0x2f1ce3]=getCurrentPreset(this),this['preset']=_0x2f1ce3,addPresetOption(this,_0x2f1ce3,!![]),this['saveToLocalStorageIfPossible']();},'revert':function revert(_0x115d50){Common['each'](this['__controllers'],function(_0x933c9e){!this['getRoot']()['load']['remembered']?_0x933c9e['setValue'](_0x933c9e['initialValue']):recallSavedValue(_0x115d50||this['getRoot'](),_0x933c9e),_0x933c9e['__onFinishChange']&&_0x933c9e['__onFinishChange']['call'](_0x933c9e,_0x933c9e['getValue']());},this),Common['each'](this['__folders'],function(_0x26f762){_0x26f762['revert'](_0x26f762);}),!_0x115d50&&markPresetModified(this['getRoot'](),![]);},'listen':function listen(_0xcef092){var _0x30c819=this['__listening']['length']===0x0;this['__listening']['push'](_0xcef092),_0x30c819&&updateDisplays(this['__listening']);},'updateDisplay':function updateDisplay(){Common['each'](this['__controllers'],function(_0x198ab0){_0x198ab0['updateDisplay']();}),Common['each'](this['__folders'],function(_0x376a25){_0x376a25['updateDisplay']();});}});function addRow(_0x311d27,_0x487594,_0x1f75a4){var _0x1f4121=document['createElement']('li');return _0x487594&&_0x1f4121['appendChild'](_0x487594),_0x1f75a4?_0x311d27['__ul']['insertBefore'](_0x1f4121,_0x1f75a4):_0x311d27['__ul']['appendChild'](_0x1f4121),_0x311d27['onResize'](),_0x1f4121;}function removeListeners(_0x18808e){dom['unbind'](window,'resize',_0x18808e['__resizeHandler']),_0x18808e['saveToLocalStorageIfPossible']&&dom['unbind'](window,'unload',_0x18808e['saveToLocalStorageIfPossible']);}function markPresetModified(_0x1fdc36,_0x5848a2){var _0x335952=_0x1fdc36['__preset_select'][_0x1fdc36['__preset_select']['selectedIndex']];_0x5848a2?_0x335952['innerHTML']=_0x335952['value']+'*':_0x335952['innerHTML']=_0x335952['value'];}function augmentController(_0x48e40c,_0x3543fe,_0x20aac9){_0x20aac9['__li']=_0x3543fe,_0x20aac9['__gui']=_0x48e40c,Common['extend'](_0x20aac9,{'options':function _0x578f78(_0x27bfdd){if(arguments['length']>0x1){var _0x7fe9bd=_0x20aac9['__li']['nextElementSibling'];return _0x20aac9['remove'](),_add(_0x48e40c,_0x20aac9['object'],_0x20aac9['property'],{'before':_0x7fe9bd,'factoryArgs':[Common['toArray'](arguments)]});}if(Common['isArray'](_0x27bfdd)||Common['isObject'](_0x27bfdd)){var _0x55815d=_0x20aac9['__li']['nextElementSibling'];return _0x20aac9['remove'](),_add(_0x48e40c,_0x20aac9['object'],_0x20aac9['property'],{'before':_0x55815d,'factoryArgs':[_0x27bfdd]});}},'name':function _0x5482be(_0x48b333){return _0x20aac9['__li']['firstElementChild']['firstElementChild']['innerHTML']=_0x48b333,_0x20aac9;},'listen':function _0x5190d2(){return _0x20aac9['__gui']['listen'](_0x20aac9),_0x20aac9;},'remove':function _0x2f839f(){return _0x20aac9['__gui']['remove'](_0x20aac9),_0x20aac9;}});if(_0x20aac9 instanceof NumberControllerSlider){var _0x357eb6=new NumberControllerBox(_0x20aac9['object'],_0x20aac9['property'],{'min':_0x20aac9['__min'],'max':_0x20aac9['__max'],'step':_0x20aac9['__step']});Common['each'](['updateDisplay','onChange','onFinishChange','step','min','max'],function(_0x184601){var _0x22f71f=_0x20aac9[_0x184601],_0x55998d=_0x357eb6[_0x184601];_0x20aac9[_0x184601]=_0x357eb6[_0x184601]=function(){var _0x43252c=Array['prototype']['slice']['call'](arguments);return _0x55998d['apply'](_0x357eb6,_0x43252c),_0x22f71f['apply'](_0x20aac9,_0x43252c);};}),dom['addClass'](_0x3543fe,'has-slider'),_0x20aac9['domElement']['insertBefore'](_0x357eb6['domElement'],_0x20aac9['domElement']['firstElementChild']);}else {if(_0x20aac9 instanceof NumberControllerBox){var _0x209d1e=function _0x330b30(_0x1b1e76){if(Common['isNumber'](_0x20aac9['__min'])&&Common['isNumber'](_0x20aac9['__max'])){var _0x35b5be=_0x20aac9['__li']['firstElementChild']['firstElementChild']['innerHTML'],_0x4d3dac=_0x20aac9['__gui']['__listening']['indexOf'](_0x20aac9)>-0x1;_0x20aac9['remove']();var _0x4a7c74=_add(_0x48e40c,_0x20aac9['object'],_0x20aac9['property'],{'before':_0x20aac9['__li']['nextElementSibling'],'factoryArgs':[_0x20aac9['__min'],_0x20aac9['__max'],_0x20aac9['__step']]});_0x4a7c74['name'](_0x35b5be);if(_0x4d3dac)_0x4a7c74['listen']();return _0x4a7c74;}return _0x1b1e76;};_0x20aac9['min']=Common['compose'](_0x209d1e,_0x20aac9['min']),_0x20aac9['max']=Common['compose'](_0x209d1e,_0x20aac9['max']);}else {if(_0x20aac9 instanceof BooleanController)dom['bind'](_0x3543fe,'click',function(){dom['fakeEvent'](_0x20aac9['__checkbox'],'click');}),dom['bind'](_0x20aac9['__checkbox'],'click',function(_0x11ce46){_0x11ce46['stopPropagation']();});else {if(_0x20aac9 instanceof FunctionController)dom['bind'](_0x3543fe,'click',function(){dom['fakeEvent'](_0x20aac9['__button'],'click');}),dom['bind'](_0x3543fe,'mouseover',function(){dom['addClass'](_0x20aac9['__button'],'hover');}),dom['bind'](_0x3543fe,'mouseout',function(){dom['removeClass'](_0x20aac9['__button'],'hover');});else _0x20aac9 instanceof ColorController&&(dom['addClass'](_0x3543fe,'color'),_0x20aac9['updateDisplay']=Common['compose'](function(_0x4661a3){return _0x3543fe['style']['borderLeftColor']=_0x20aac9['__color']['toString'](),_0x4661a3;},_0x20aac9['updateDisplay']),_0x20aac9['updateDisplay']());}}}_0x20aac9['setValue']=Common['compose'](function(_0x39faae){return _0x48e40c['getRoot']()['__preset_select']&&_0x20aac9['isModified']()&&markPresetModified(_0x48e40c['getRoot'](),!![]),_0x39faae;},_0x20aac9['setValue']);}function recallSavedValue(_0x23dc4b,_0x2b58a5){var _0x301f14=_0x23dc4b['getRoot'](),_0x4d6f62=_0x301f14['__rememberedObjects']['indexOf'](_0x2b58a5['object']);if(_0x4d6f62!==-0x1){var _0x49a883=_0x301f14['__rememberedObjectIndecesToControllers'][_0x4d6f62];_0x49a883===undefined&&(_0x49a883={},_0x301f14['__rememberedObjectIndecesToControllers'][_0x4d6f62]=_0x49a883);_0x49a883[_0x2b58a5['property']]=_0x2b58a5;if(_0x301f14['load']&&_0x301f14['load']['remembered']){var _0x4a67a3=_0x301f14['load']['remembered'],_0x14ec4b=void 0x0;if(_0x4a67a3[_0x23dc4b['preset']])_0x14ec4b=_0x4a67a3[_0x23dc4b['preset']];else {if(_0x4a67a3[DEFAULT_DEFAULT_PRESET_NAME])_0x14ec4b=_0x4a67a3[DEFAULT_DEFAULT_PRESET_NAME];else return;}if(_0x14ec4b[_0x4d6f62]&&_0x14ec4b[_0x4d6f62][_0x2b58a5['property']]!==undefined){var _0x54d535=_0x14ec4b[_0x4d6f62][_0x2b58a5['property']];_0x2b58a5['initialValue']=_0x54d535,_0x2b58a5['setValue'](_0x54d535);}}}}function _add(_0x4ea53d,_0x1e5fdd,_0x4f203d,_0x59aa6e){if(_0x1e5fdd[_0x4f203d]===undefined)throw new Error('Object\x20\x22'+_0x1e5fdd+'\x22\x20has\x20no\x20property\x20\x22'+_0x4f203d+'\x22');var _0x27d024=void 0x0;if(_0x59aa6e['color'])_0x27d024=new ColorController(_0x1e5fdd,_0x4f203d);else {var _0x546ad0=[_0x1e5fdd,_0x4f203d]['concat'](_0x59aa6e['factoryArgs']);_0x27d024=ControllerFactory['apply'](_0x4ea53d,_0x546ad0);}_0x59aa6e['before']instanceof Controller&&(_0x59aa6e['before']=_0x59aa6e['before']['__li']);recallSavedValue(_0x4ea53d,_0x27d024),dom['addClass'](_0x27d024['domElement'],'c');var _0x3607f9=document['createElement']('span');dom['addClass'](_0x3607f9,'property-name'),_0x3607f9['innerHTML']=_0x27d024['property'];var _0x4d3104=document['createElement']('div');_0x4d3104['appendChild'](_0x3607f9),_0x4d3104['appendChild'](_0x27d024['domElement']);var _0x2106c2=addRow(_0x4ea53d,_0x4d3104,_0x59aa6e['before']);return dom['addClass'](_0x2106c2,GUI['CLASS_CONTROLLER_ROW']),_0x27d024 instanceof ColorController?dom['addClass'](_0x2106c2,'color'):dom['addClass'](_0x2106c2,_typeof(_0x27d024['getValue']())),augmentController(_0x4ea53d,_0x2106c2,_0x27d024),_0x4ea53d['__controllers']['push'](_0x27d024),_0x27d024;}function getLocalStorageHash(_0x1cfbdb,_0x10a321){return document['location']['href']+'.'+_0x10a321;}function addPresetOption(_0x4395a4,_0x3086f4,_0x4f531e){var _0x2d5f73=document['createElement']('option');_0x2d5f73['innerHTML']=_0x3086f4,_0x2d5f73['value']=_0x3086f4,_0x4395a4['__preset_select']['appendChild'](_0x2d5f73),_0x4f531e&&(_0x4395a4['__preset_select']['selectedIndex']=_0x4395a4['__preset_select']['length']-0x1);}function showHideExplain(_0x5ca28c,_0x5b89af){_0x5b89af['style']['display']=_0x5ca28c['useLocalStorage']?'block':'none';}function addSaveMenu(_0x5a0061){var _0xbed617=_0x5a0061['__save_row']=document['createElement']('li');dom['addClass'](_0x5a0061['domElement'],'has-save'),_0x5a0061['__ul']['insertBefore'](_0xbed617,_0x5a0061['__ul']['firstChild']),dom['addClass'](_0xbed617,'save-row');var _0x9b6057=document['createElement']('span');_0x9b6057['innerHTML']='&nbsp;',dom['addClass'](_0x9b6057,'button\x20gears');var _0x1a4a31=document['createElement']('span');_0x1a4a31['innerHTML']='Save',dom['addClass'](_0x1a4a31,'button'),dom['addClass'](_0x1a4a31,'save');var _0x425cb5=document['createElement']('span');_0x425cb5['innerHTML']='New',dom['addClass'](_0x425cb5,'button'),dom['addClass'](_0x425cb5,'save-as');var _0x22011d=document['createElement']('span');_0x22011d['innerHTML']='Revert',dom['addClass'](_0x22011d,'button'),dom['addClass'](_0x22011d,'revert');var _0x432e25=_0x5a0061['__preset_select']=document['createElement']('select');_0x5a0061['load']&&_0x5a0061['load']['remembered']?Common['each'](_0x5a0061['load']['remembered'],function(_0x4692c7,_0x3496e0){addPresetOption(_0x5a0061,_0x3496e0,_0x3496e0===_0x5a0061['preset']);}):addPresetOption(_0x5a0061,DEFAULT_DEFAULT_PRESET_NAME,![]);dom['bind'](_0x432e25,'change',function(){for(var _0x575ba8=0x0;_0x575ba8<_0x5a0061['__preset_select']['length'];_0x575ba8++){_0x5a0061['__preset_select'][_0x575ba8]['innerHTML']=_0x5a0061['__preset_select'][_0x575ba8]['value'];}_0x5a0061['preset']=this['value'];}),_0xbed617['appendChild'](_0x432e25),_0xbed617['appendChild'](_0x9b6057),_0xbed617['appendChild'](_0x1a4a31),_0xbed617['appendChild'](_0x425cb5),_0xbed617['appendChild'](_0x22011d);if(SUPPORTS_LOCAL_STORAGE){var _0x4a23d0=document['getElementById']('dg-local-explain'),_0x24d68e=document['getElementById']('dg-local-storage'),_0x1271b6=document['getElementById']('dg-save-locally');_0x1271b6['style']['display']='block',localStorage['getItem'](getLocalStorageHash(_0x5a0061,'isLocal'))==='true'&&_0x24d68e['setAttribute']('checked','checked'),showHideExplain(_0x5a0061,_0x4a23d0),dom['bind'](_0x24d68e,'change',function(){_0x5a0061['useLocalStorage']=!_0x5a0061['useLocalStorage'],showHideExplain(_0x5a0061,_0x4a23d0);});}var _0x4d2fc8=document['getElementById']('dg-new-constructor');dom['bind'](_0x4d2fc8,'keydown',function(_0x51538c){_0x51538c['metaKey']&&(_0x51538c['which']===0x43||_0x51538c['keyCode']===0x43)&&SAVE_DIALOGUE['hide']();}),dom['bind'](_0x9b6057,'click',function(){_0x4d2fc8['innerHTML']=JSON['stringify'](_0x5a0061['getSaveObject'](),undefined,0x2),SAVE_DIALOGUE['show'](),_0x4d2fc8['focus'](),_0x4d2fc8['select']();}),dom['bind'](_0x1a4a31,'click',function(){_0x5a0061['save']();}),dom['bind'](_0x425cb5,'click',function(){var _0xa5879f=prompt('Enter\x20a\x20new\x20preset\x20name.');_0xa5879f&&_0x5a0061['saveAs'](_0xa5879f);}),dom['bind'](_0x22011d,'click',function(){_0x5a0061['revert']();});}function addResizeHandle(_0x485df4){var _0x3df3ce=void 0x0;_0x485df4['__resize_handle']=document['createElement']('div'),Common['extend'](_0x485df4['__resize_handle']['style'],{'width':'6px','marginLeft':'-3px','height':'200px','cursor':'ew-resize','position':'absolute'});function _0x30d91e(_0x291a98){return _0x291a98['preventDefault'](),_0x485df4['width']+=_0x3df3ce-_0x291a98['clientX'],_0x485df4['onResize'](),_0x3df3ce=_0x291a98['clientX'],![];}function _0x77ac0a(){dom['removeClass'](_0x485df4['__closeButton'],GUI['CLASS_DRAG']),dom['unbind'](window,'mousemove',_0x30d91e),dom['unbind'](window,'mouseup',_0x77ac0a);}function _0x319120(_0x1396fb){return _0x1396fb['preventDefault'](),_0x3df3ce=_0x1396fb['clientX'],dom['addClass'](_0x485df4['__closeButton'],GUI['CLASS_DRAG']),dom['bind'](window,'mousemove',_0x30d91e),dom['bind'](window,'mouseup',_0x77ac0a),![];}dom['bind'](_0x485df4['__resize_handle'],'mousedown',_0x319120),dom['bind'](_0x485df4['__closeButton'],'mousedown',_0x319120),_0x485df4['domElement']['insertBefore'](_0x485df4['__resize_handle'],_0x485df4['domElement']['firstElementChild']);}function setWidth(_0x55f5cc,_0x2802fe){_0x55f5cc['domElement']['style']['width']=_0x2802fe+'px',_0x55f5cc['__save_row']&&_0x55f5cc['autoPlace']&&(_0x55f5cc['__save_row']['style']['width']=_0x2802fe+'px'),_0x55f5cc['__closeButton']&&(_0x55f5cc['__closeButton']['style']['width']=_0x2802fe+'px');}function getCurrentPreset(_0x4c3dcf,_0x3273d4){var _0x41a16c={};return Common['each'](_0x4c3dcf['__rememberedObjects'],function(_0x42f83f,_0x42534a){var _0x4a2299={},_0x41c01a=_0x4c3dcf['__rememberedObjectIndecesToControllers'][_0x42534a];Common['each'](_0x41c01a,function(_0x277350,_0x40f508){_0x4a2299[_0x40f508]=_0x3273d4?_0x277350['initialValue']:_0x277350['getValue']();}),_0x41a16c[_0x42534a]=_0x4a2299;}),_0x41a16c;}function setPresetSelectIndex(_0x445879){for(var _0x243439=0x0;_0x243439<_0x445879['__preset_select']['length'];_0x243439++){_0x445879['__preset_select'][_0x243439]['value']===_0x445879['preset']&&(_0x445879['__preset_select']['selectedIndex']=_0x243439);}}function updateDisplays(_0x265d23){_0x265d23['length']!==0x0&&requestAnimationFrame$1$1['call'](window,function(){updateDisplays(_0x265d23);}),Common['each'](_0x265d23,function(_0x1c8f1e){_0x1c8f1e['updateDisplay']();});}var GUI$1=GUI;

const methodMap=[['requestFullscreen','exitFullscreen','fullscreenElement','fullscreenEnabled','fullscreenchange','fullscreenerror'],['webkitRequestFullscreen','webkitExitFullscreen','webkitFullscreenElement','webkitFullscreenEnabled','webkitfullscreenchange','webkitfullscreenerror'],['webkitRequestFullScreen','webkitCancelFullScreen','webkitCurrentFullScreenElement','webkitCancelFullScreen','webkitfullscreenchange','webkitfullscreenerror'],['mozRequestFullScreen','mozCancelFullScreen','mozFullScreenElement','mozFullScreenEnabled','mozfullscreenchange','mozfullscreenerror'],['msRequestFullscreen','msExitFullscreen','msFullscreenElement','msFullscreenEnabled','MSFullscreenChange','MSFullscreenError']],nativeAPI=((()=>{if(typeof document==='undefined')return ![];const _0x51460=methodMap[0x0],_0x5213ea={};for(const _0x31d503 of methodMap){const _0x5eb68f=_0x31d503?.[0x1];if(_0x5eb68f in document){for(const [_0x3b1cb8,_0xc5213b]of _0x31d503['entries']()){_0x5213ea[_0x51460[_0x3b1cb8]]=_0xc5213b;}return _0x5213ea;}}return ![];})()),eventNameMap={'change':nativeAPI['fullscreenchange'],'error':nativeAPI['fullscreenerror']};let screenfull={'request'(_0x276b46=document['documentElement'],_0xd6b9c7){return new Promise((_0x4fd8a3,_0x11c850)=>{const _0x483812=()=>{screenfull['off']('change',_0x483812),_0x4fd8a3();};screenfull['on']('change',_0x483812);const _0x38e6e8=_0x276b46[nativeAPI['requestFullscreen']](_0xd6b9c7);_0x38e6e8 instanceof Promise&&_0x38e6e8['then'](_0x483812)['catch'](_0x11c850);});},'exit'(){return new Promise((_0x3322ca,_0x338e8e)=>{if(!screenfull['isFullscreen']){_0x3322ca();return;}const _0x3161d8=()=>{screenfull['off']('change',_0x3161d8),_0x3322ca();};screenfull['on']('change',_0x3161d8);const _0x16b7bc=document[nativeAPI['exitFullscreen']]();_0x16b7bc instanceof Promise&&_0x16b7bc['then'](_0x3161d8)['catch'](_0x338e8e);});},'toggle'(_0x3b67b0,_0x3010f9){return screenfull['isFullscreen']?screenfull['exit']():screenfull['request'](_0x3b67b0,_0x3010f9);},'onchange'(_0x3c8099){screenfull['on']('change',_0x3c8099);},'onerror'(_0x57edef){screenfull['on']('error',_0x57edef);},'on'(_0x57edff,_0x497af1){const _0x1a79bd=eventNameMap[_0x57edff];_0x1a79bd&&document['addEventListener'](_0x1a79bd,_0x497af1,![]);},'off'(_0x307600,_0x447381){const _0x25cde0=eventNameMap[_0x307600];_0x25cde0&&document['removeEventListener'](_0x25cde0,_0x447381,![]);},'raw':nativeAPI};Object['defineProperties'](screenfull,{'isFullscreen':{'get':()=>Boolean(document[nativeAPI['fullscreenElement']])},'element':{'enumerable':!![],'get':()=>document[nativeAPI['fullscreenElement']]??undefined},'isEnabled':{'enumerable':!![],'get':()=>Boolean(document[nativeAPI['fullscreenEnabled']])}});!nativeAPI&&(screenfull={'isEnabled':![]});var _0x260427 = screenfull;

const tempVec3$2=new THREE['Vector3']();class ObjectExploder{constructor(_0x2aeac2,_0x4603d7,_0x4174fc=undefined){this['scale']=0x1,this['explodeUp']=![],this['scene']=_0x2aeac2,this['objectId']=_0x4603d7;!_0x4603d7&&log['debug']('[EXP]\x20Invalid\x20objectId:\x20'+_0x4603d7);_0x4174fc?this['explodeCenter']=_0x4174fc:(this['explodeCenter']=new THREE['Vector3'](),this['getObjectCenter'](this['explodeCenter']));const _0x4ddf70=this['scene']['getObjectById'](this['objectId']);_0x4ddf70===null||_0x4ddf70===void 0x0?void 0x0:_0x4ddf70['updateWorldMatrix'](!![],!![]);}['explode'](_0x2e02c1){this['scale']=_0x2e02c1;if(!this['objectId']||!this['explodeCenter']||!this['scale']){log['debug']('[EXP]\x20Invalid\x20objectId:\x20'+this['objectId']+',\x20or\x20position:\x20'+this['explodeCenter']+',\x20or\x20this.power:\x20'+this['scale']);return;}const _0x2eb618=this['scene']['getObjectById'](this['objectId']);if(!_0x2eb618||!_0x2eb618['children']){log['debug']('[EXP]\x20No\x20children\x20to\x20explode!');return;}log['debug']('[EXP]\x20Exploding\x20object\x20\x27'+_0x2eb618['name']+'\x27(id:\x20'+_0x2eb618['id']+')\x20at:\x20'+CommonUtils['vectorToString'](this['explodeCenter'])),this['explodeObject'](_0x2eb618);}['explodeObject'](_0x38e843){if(_0x38e843['geometry'])this['explodeLeafObject'](_0x38e843);else _0x38e843['children']['length']>0x0?_0x38e843['children']['forEach'](_0x5ef0f6=>this['explodeObject'](_0x5ef0f6)):this['explodeLeafObject'](_0x38e843);}['explodeLeafObject'](_0x2ac5d7){var _0x18c9e0;const _0x52f3f9=_0x2ac5d7;if(!_0x52f3f9['geometry'])return;!_0x52f3f9['userData']['originalMatrixWorld']&&(_0x52f3f9['userData']['originalMatrixWorld']=_0x52f3f9['matrixWorld']);const _0x388d97=_0x52f3f9['userData']['originalMatrixWorld'];!_0x52f3f9['userData']['originalCenter']&&(!_0x52f3f9['geometry']['boundingBox']&&_0x52f3f9['geometry']['computeBoundingBox'](),tempVec3$2['set'](0x0,0x0,0x0),(_0x18c9e0=_0x52f3f9['geometry']['boundingBox'])===null||_0x18c9e0===void 0x0?void 0x0:_0x18c9e0['getCenter'](tempVec3$2),tempVec3$2['applyMatrix4'](_0x52f3f9['matrixWorld']),_0x52f3f9['userData']['originalCenter']=tempVec3$2['clone']());const _0x1682ad=_0x52f3f9['userData']['originalCenter']['clone']();_0x1682ad['sub'](this['explodeCenter']),_0x1682ad['multiplyScalar'](this['scale']-0x1);this['explodeUp']&&(_0x1682ad['setX'](0x0),_0x1682ad['setZ'](0x0));const _0x58fd2e=new THREE['Matrix4']();_0x58fd2e['setPosition'](_0x1682ad),_0x58fd2e['multiply'](_0x388d97),_0x52f3f9['matrixWorld']=_0x58fd2e,_0x52f3f9['children']['length']>0x0&&_0x52f3f9['children']['forEach'](_0x5f1c2b=>_0x5f1c2b['updateMatrix']());}['unexplode'](){const _0x580003=this['scene']['getObjectById'](this['objectId']);if(!_0x580003||!_0x580003['children']){log['debug']('[EXP]\x20No\x20children\x20to\x20explode!');return;}log['debug']('[EXP]\x20Unexploding\x20\x27'+_0x580003['name']+'\x27(id:\x20'+_0x580003['id']+')\x20at:\x20'+CommonUtils['vectorToString'](this['explodeCenter'])),this['unexplodeObject'](_0x580003);}['unexplodeObject'](_0x3a6319){if(_0x3a6319['geometry'])this['unexplodeLeafObject'](_0x3a6319);else _0x3a6319['children']['length']>0x0?_0x3a6319['children']['forEach'](_0x37d9d5=>this['unexplodeObject'](_0x37d9d5)):this['unexplodeLeafObject'](_0x3a6319);}['unexplodeLeafObject'](_0x4154d9){const _0x53f51e=_0x4154d9['userData']['originalMatrixWorld'];if(!_0x53f51e)return;_0x4154d9['matrixWorld']=_0x53f51e,_0x4154d9['children']['length']>0x0&&_0x4154d9['children']['forEach'](_0x36f31e=>_0x36f31e['updateMatrix']());}['setExplodeUp'](_0x2a7c57){this['explodeUp']=_0x2a7c57;}['getObjectCenter'](_0x5c1160){const _0x42be0c=new THREE['Box3']();if(!this['objectId']){log['debug']('[EXP]\x20Invalid\x20objectId:\x20'+this['objectId']);return;}const _0x2db5cd=this['scene']['getObjectById'](this['objectId']);if(!_0x2db5cd||!_0x2db5cd['children']){log['debug']('[EXP]\x20No\x20children\x20to\x20explode!');return;}_0x2db5cd['traverse'](_0x319120=>{_0x42be0c['expandByObject'](_0x319120);}),_0x42be0c['getCenter'](_0x5c1160);}}

class ExplodePlugin extends Plugin{constructor(_0x5e7a1b,_0x38aa91){const _0x329e4d=(_0x38aa91===null||_0x38aa91===void 0x0?void 0x0:_0x38aa91['id'])||ExplodePlugin['DEFAULT_ID'];super(_0x5e7a1b,{'id':_0x329e4d}),this['exploders']=[],this['onModelLoaded']=()=>{this['init']();},this['viewer']=_0x5e7a1b,this['cfg']=_0x38aa91||{},this['viewer']['addEventListener'](ViewerEvent['ModelLoad'],this['onModelLoaded']);}get['scene'](){return this['viewer']['scene'];}['init'](){this['viewer']['loadedModels']['forEach'](_0x4d419f=>{if(this['hasExploderForModel'](_0x4d419f['getModelObject']()['id']))return;const _0x4136fe=new THREE['Vector3']();if(this['cfg']['explodeCenter']){const _0x3204d1=this['cfg']['explodeCenter'];_0x4136fe['set'](_0x3204d1['x'],_0x3204d1['y'],_0x3204d1['z']);}else !this['cfg']['explodeCenter']&&!_0x4d419f['getBBox']()['isEmpty']()&&_0x4d419f['getBBox']()['getCenter'](_0x4136fe);const _0x4b8e13=new ObjectExploder(this['scene'],_0x4d419f['getModelObject']()['id'],_0x4136fe);_0x4b8e13['setExplodeUp'](!!this['cfg']['explodeUp']),this['exploders']['push'](_0x4b8e13);});}['explode'](_0x1e8776){this['exploders']['length']===0x0&&this['init']();for(const _0x4d6939 of this['exploders']){_0x4d6939['explode'](_0x1e8776),this['viewer']['enableRender']();}}['unexplode'](){for(const _0x3e55b2 of this['exploders']){_0x3e55b2['unexplode'](),this['viewer']['enableRender']();}}['hasExploderForModel'](_0xfa7ad6){return !!this['exploders']['find'](_0x35ecfa=>_0x35ecfa['objectId']===_0xfa7ad6);}['destroy'](){super['destroy'](),this['viewer']['removeEventListener'](ViewerEvent['ModelLoad'],this['onModelLoaded']),this['unexplode']();}}ExplodePlugin['DEFAULT_ID']='ExplodePlugin';

class GroundGrassPlugin extends Plugin{constructor(_0x57ccec,_0x47bc72){const _0x468363=(_0x47bc72===null||_0x47bc72===void 0x0?void 0x0:_0x47bc72['id'])||GroundGrassPlugin['DEFAULT_ID'];super(_0x57ccec,{'id':_0x468363}),this['NAME']='GROUND_GRASS',this['DEFAULT_SIZE']=0x3e8,this['DEFAULT_REPEAT']=0x14,this['onModelLoaded']=()=>{this['cfg']['visible']!==![]&&(this['init'](),this['viewer']['enableRender']());},this['cfg']=_0x47bc72||{},this['cfg']['visible']!==![]&&this['init'](),this['viewer']['addEventListener'](ViewerEvent['ModelLoad'],this['onModelLoaded']);}['init'](){var _0x2fdd6d;this['groundGrass']&&((_0x2fdd6d=this['viewer']['scene'])===null||_0x2fdd6d===void 0x0?void 0x0:_0x2fdd6d['remove'](this['groundGrass']),this['groundGrass']=undefined);const _0x5f3364=this['cfg']['texture']||'images/terrain/grass.jpg',_0x3829f9=this['cfg']['width']||this['DEFAULT_SIZE'],_0x33bd30=this['cfg']['height']||this['DEFAULT_SIZE'],_0x105e16=this['cfg']['repeatX']||this['DEFAULT_REPEAT'],_0x2d9ce7=this['cfg']['repeatY']||this['DEFAULT_REPEAT'],_0x5c2a3d=new THREE['Vector3'](),_0x5293c4=this['viewer']['getBBox']();_0x5293c4&&_0x5293c4['getCenter'](_0x5c2a3d),((async()=>{var _0x2f8bb3;this['groundGrass']=await this['createGrassGround'](_0x5f3364,_0x3829f9,_0x33bd30,_0x105e16,_0x2d9ce7),(_0x2f8bb3=this['viewer']['scene'])===null||_0x2f8bb3===void 0x0?void 0x0:_0x2f8bb3['add'](this['groundGrass']),this['viewer']['enableRender']();})());}['setVisible'](_0x6ff7c6){_0x6ff7c6&&!this['groundGrass']&&this['init'](),this['groundGrass']&&(this['groundGrass']['visible']=_0x6ff7c6),this['viewer']['enableRender']();}async['createGrassGround'](_0x30baa3,_0x9e757f,_0xb10b97,_0x5e2370,_0x253f5a){return new Promise(_0x26ec11=>{const _0x115ba4=new THREE['TextureLoader']();_0x115ba4['load'](_0x30baa3,_0x219884=>{_0x219884['wrapS']=_0x219884['wrapT']=THREE['RepeatWrapping'],_0x219884['repeat']['set'](_0x5e2370,_0x253f5a),_0x219884['anisotropy']=0x10;const _0x4ffff6=new THREE['MeshLambertMaterial']({'map':_0x219884});_0x4ffff6['side']=THREE['FrontSide'];const _0x1aa0ef=new THREE['Mesh'](new THREE['PlaneGeometry'](_0x9e757f,_0xb10b97),_0x4ffff6);return _0x1aa0ef['rotation']['x']=-Math['PI']/0x2,_0x1aa0ef['position']['y']=0x0,_0x1aa0ef['receiveShadow']=!![],_0x1aa0ef['name']=this['NAME'],_0x1aa0ef['layers']['enableAll'](),_0x1aa0ef['layers']['disable'](LayerForSelectableObjects),_0x1aa0ef['matrixAutoUpdate']=![],_0x1aa0ef['updateMatrix'](),_0x1aa0ef['updateMatrixWorld'](!![]),_0x26ec11(_0x1aa0ef);});});}['destroy'](){super['destroy'](),this['groundGrass']&&(this['groundGrass']['removeFromParent'](),this['groundGrass']['geometry']['dispose'](),this['groundGrass']['clear'](),this['groundGrass']=undefined),this['viewer']['removeEventListener'](ViewerEvent['ModelLoad'],this['onModelLoaded']);}}GroundGrassPlugin['DEFAULT_ID']='GroundGrassPlugin';

class GroundGridPlugin extends Plugin{constructor(_0x25db0c,_0xdb8073){const _0x3ba45b=(_0xdb8073===null||_0xdb8073===void 0x0?void 0x0:_0xdb8073['id'])||GroundGridPlugin['DEFAULT_ID'];super(_0x25db0c,{'id':_0x3ba45b}),this['NAME']='GROUND_GRID',this['DEFAULT_SIZE']=0x3e8,this['DEFAULT_DIVISIONS']=0x64,this['DEFAULT_MAT_PARAMS']={'color':0xc3c3c3,'transparent':!![],'opacity':0.5,'wireframeLinewidth':0.5},this['onModelLoaded']=()=>{this['cfg']['visible']!==![]&&(this['init'](),this['viewer']['enableRender']());},this['cfg']=_0xdb8073||{},this['cfg']['visible']!==![]&&this['init'](),this['viewer']['addEventListener'](ViewerEvent['ModelLoad'],this['onModelLoaded']);}['init'](){var _0xd555b9,_0x5e4ea4;this['gridHelper']&&((_0xd555b9=this['viewer']['scene'])===null||_0xd555b9===void 0x0?void 0x0:_0xd555b9['remove'](this['gridHelper']),this['gridHelper']=undefined);const _0x2afd5b=this['cfg']['size'],_0x587494=this['cfg']['divisions'],_0x3a6f0f=new THREE['Vector3'](),_0x2cba4a=this['viewer']['getBBox']();_0x2cba4a&&_0x2cba4a['getCenter'](_0x3a6f0f),this['gridHelper']=this['createGroundGrid'](_0x2afd5b,_0x587494,_0x3a6f0f),(_0x5e4ea4=this['viewer']['scene'])===null||_0x5e4ea4===void 0x0?void 0x0:_0x5e4ea4['add'](this['gridHelper']),this['viewer']['enableRender']();}['setVisible'](_0x9f0076){_0x9f0076&&!this['gridHelper']&&this['init'](),this['gridHelper']&&(this['gridHelper']['visible']=_0x9f0076),this['viewer']['enableRender']();}['isVisible'](){var _0x3271fa;return !!((_0x3271fa=this['gridHelper'])===null||_0x3271fa===void 0x0?void 0x0:_0x3271fa['visible']);}['createGroundGrid'](_0x56ba12,_0x240d53,_0x44a926){_0x56ba12=_0x56ba12||this['DEFAULT_SIZE'],_0x240d53=_0x240d53||this['DEFAULT_DIVISIONS'];const _0x432bea=new THREE['GridHelper'](_0x56ba12,_0x240d53);_0x44a926?_0x432bea['position']['set'](_0x44a926['x'],_0x44a926['y'],_0x44a926['z']):_0x432bea['position']['y']=0x0;const _0x2a3a57=_0x432bea['material'];return !Array['isArray'](_0x2a3a57)&&(_0x2a3a57['opacity']=this['DEFAULT_MAT_PARAMS']['opacity'],_0x2a3a57['transparent']=this['DEFAULT_MAT_PARAMS']['transparent']),_0x432bea['name']=this['NAME'],_0x432bea['layers']['enableAll'](),_0x432bea['layers']['disable'](LayerForSelectableObjects),_0x432bea['matrixAutoUpdate']=![],_0x432bea['updateMatrix'](),_0x432bea;}['destroy'](){super['destroy'](),this['gridHelper']&&(this['gridHelper']['removeFromParent'](),this['gridHelper']['geometry']['dispose'](),this['gridHelper']['clear'](),this['gridHelper']=undefined),this['viewer']['removeEventListener'](ViewerEvent['ModelLoad'],this['onModelLoaded']);}}GroundGridPlugin['DEFAULT_ID']='GroundGridPlugin';

class IUploader{constructor(_0x4c0e9f,_0xaa6617='uploadModelFile',_0x586003){this['_formats']=[],this['handleDragEnter']=_0x3e7562=>{_0x3e7562['preventDefault'](),_0x3e7562['stopPropagation'](),this['dropZone']['style']['display']='flex';},this['handleDragLeave']=_0x56beb8=>{_0x56beb8['preventDefault'](),_0x56beb8['stopPropagation'](),this['dropZone']['style']['display']='none';},this['handleDragOver']=_0x229d99=>{_0x229d99['preventDefault'](),_0x229d99['stopPropagation']();if(!_0x229d99['dataTransfer'])return;_0x229d99['dataTransfer']['dropEffect']='move';},this['handleDrop']=_0x319682=>{_0x319682['preventDefault'](),_0x319682['stopPropagation'](),this['dropZone']['style']['display']='none';if(!_0x319682['dataTransfer']||_0x319682['dataTransfer']['files']['length']===0x0)return;const _0x46bf46=_0x319682['dataTransfer']['files'];this['uploadFiles'](_0x46bf46);},this['viewer']=_0x4c0e9f;_0x586003&&Array['isArray'](_0x586003)&&(this['_formats']=_0x586003);this['input']=document['createElement']('input'),this['input']['id']=_0xaa6617,this['input']['type']='file',this['input']['multiple']=!![],this['input']['accept']=this['formats']()['map'](_0x51bad4=>'.'+_0x51bad4)['join'](','),this['input']['style']['display']='none',this['input']['onchange']=_0x11b2d0=>{const _0x57bb54=_0x11b2d0['target']['files'];if(!_0x57bb54||_0x57bb54['length']<=0x0){log['error']('[Uploader]\x20No\x20files\x20to\x20be\x20uploaded!');return;}this['uploadFiles'](_0x57bb54);};const _0x366e17=document['createElement']('div');_0x366e17['classList']['add']('drag-drop-zone'),this['viewer']['widgetContainer']['appendChild'](_0x366e17),this['dropZone']=_0x366e17;const _0x41a88d=this['viewer']['viewerContainer'];_0x41a88d['addEventListener']('dragenter',this['handleDragEnter']),_0x41a88d['addEventListener']('dragleave',this['handleDragLeave']),_0x41a88d['addEventListener']('dragover',this['handleDragOver']),_0x41a88d['addEventListener']('drop',this['handleDrop']);}['formats'](){return log['warn']('[Uploader]:\x20Should\x20call\x20derived\x20class\x20instead!'),[];}['uploadFiles'](_0x57e9aa){log['warn']('[Uploader]:\x20Should\x20call\x20derived\x20class\x20instead!\x20files:\x20'+_0x57e9aa);}['openFileBrowserToUpload'](){this['input']['click']();}['destroy'](){const _0x48db3b=this['viewer']['viewerContainer'];_0x48db3b['addEventListener']('dragenter',this['handleDragEnter']),_0x48db3b['addEventListener']('dragleave',this['handleDragLeave']),_0x48db3b['addEventListener']('dragover',this['handleDragOver']),_0x48db3b['addEventListener']('drop',this['handleDrop']);}}

class LocalModelUploader extends IUploader{constructor(_0x2821e6,_0x2432c5){super(_0x2821e6,_0x2432c5),this['defaultModelConfig']={'src':'','merge':!![]};}['formats'](){return ['gltf','glb','dxf','obj','stl','fbx','ifc','dae','*'];}['uploadFiles'](_0x585302){const _0x4f6c79=_0x585302['length'];if(_0x4f6c79===0x0)return;if(this['checkAllFilesWithTheSameFormat'](_0x585302)){for(let _0x4792cd=0x0;_0x4792cd<_0x4f6c79;_0x4792cd++){const _0x41b5a0=_0x585302[_0x4792cd];this['uploadSingleFile'](_0x41b5a0);}return;}const _0x5d7107=Object['assign']({},this['defaultModelConfig']);let _0x218417,_0x10c789,_0x249801;const _0x364d88=new Map();for(let _0x5cfd8b=0x0;_0x5cfd8b<_0x4f6c79;_0x5cfd8b++){const _0x46b361=_0x585302[_0x5cfd8b];_0x364d88['set'](_0x46b361['name'],_0x46b361);if(_0x46b361['name']['match'](/\.(gltf|glb)$/))_0x249801=_0x46b361;else {if(_0x46b361['name']['match'](/\.(obj)$/))_0x249801=_0x46b361;else _0x46b361['name']['match'](/\.(mtl)$/)&&(!_0x5d7107['mtlUrls']&&(_0x5d7107['mtlUrls']=[]),_0x5d7107['mtlUrls']['push'](URL['createObjectURL'](_0x46b361)));}}const _0x43c2dd=[],_0x58ea9c=()=>{if(!_0x249801)return;_0x218417=URL['createObjectURL'](_0x249801),_0x43c2dd['push'](_0x218417),_0x5d7107['src']=_0x249801['name'];};if(!_0x249801)_0x249801=_0x585302[0x0],_0x58ea9c();else {_0x58ea9c();const _0x4d0b06=THREE['LoaderUtils']['extractUrlBase'](_0x218417);_0x10c789=new THREE['LoadingManager'](),_0x10c789['setURLModifier'](_0x3fb256=>{const _0x4d78f4=decodeURI(_0x3fb256)['replace'](_0x4d0b06,'')['replace'](/^(\.?\/)/,'');if(_0x364d88['has'](_0x4d78f4)){const _0x5849f8=_0x364d88['get'](_0x4d78f4),_0x435323=URL['createObjectURL'](_0x5849f8);return _0x43c2dd['push'](_0x435323),_0x435323;}return _0x3fb256;});}this['viewer']['loadLocalModel'](_0x218417,_0x5d7107,_0x10c789,_0x102858=>{const _0x50a243=Math['floor'](_0x102858['loaded']*0x64/_0x102858['total']);log['info']('[Uploader]\x20Loading\x20'+(_0x249801===null||_0x249801===void 0x0?void 0x0:_0x249801['name'])+',\x20'+_0x50a243+'%');})['then'](()=>{log['info']('[Uploader]\x20Loaded\x20'+(_0x249801===null||_0x249801===void 0x0?void 0x0:_0x249801['name'])),_0x43c2dd['forEach'](URL['revokeObjectURL']);});}['checkAllFilesWithTheSameFormat'](_0x112296){const _0xe24405=_0x3014c6=>{const _0x23832c=_0x3014c6['lastIndexOf']('.'),_0x20dce8=_0x3014c6['substring'](_0x23832c+0x1);return _0x20dce8['toLowerCase']();},_0x110cb1=_0x112296['length'],_0x3138cb=_0xe24405(_0x112296[0x0]['name']);for(let _0x5a2647=0x0;_0x5a2647<_0x110cb1;_0x5a2647++){const _0x8bc315=_0xe24405(_0x112296[_0x5a2647]['name']);if(_0x8bc315!==_0x3138cb)return ![];}return !![];}['uploadSingleFile'](_0x778ec8){const _0x59a6a3=Object['assign']({},this['defaultModelConfig']),_0x562bf7=URL['createObjectURL'](_0x778ec8);_0x59a6a3['src']=_0x778ec8['name'];const _0x36c962=_0x778ec8['name']['toLowerCase']();if(_0x36c962['endsWith']('.stl')){const _0x41509e=new THREE['Matrix4'](),_0x41bce3=new THREE['Vector3'](0x0,0x0,0x0),_0x34ff09=new THREE['Quaternion']();_0x34ff09['setFromAxisAngle'](new THREE['Vector3'](0x1,0x0,0x0),-Math['PI']/0x2);const _0x2973=new THREE['Vector3'](0.001,0.001,0.001);_0x41509e['compose'](_0x41bce3,_0x34ff09,_0x2973),_0x59a6a3['matrix']=_0x41509e['elements'];}else {if(_0x36c962['endsWith']('.3dm')){const _0x56f639=new THREE['Matrix4'](),_0x26abff=new THREE['Vector3'](0x0,0x0,0x0),_0x5b5a45=new THREE['Quaternion']();_0x5b5a45['setFromAxisAngle'](new THREE['Vector3'](0x1,0x0,0x0),-Math['PI']/0x2);const _0x18612b=new THREE['Vector3'](0x1,0x1,0x1);_0x56f639['compose'](_0x26abff,_0x5b5a45,_0x18612b),_0x59a6a3['matrix']=_0x56f639['elements'];}}const _0x5cb317=new THREE['LoadingManager']();this['viewer']['loadLocalModel'](_0x562bf7,_0x59a6a3,_0x5cb317,_0x2cd129=>{const _0x2a8f86=Math['floor'](_0x2cd129['loaded']*0x64/_0x2cd129['total']);log['info']('[Uploader]\x20Loading\x20'+(_0x778ec8===null||_0x778ec8===void 0x0?void 0x0:_0x778ec8['name'])+',\x20'+_0x2a8f86+'%');});}}

const tempBox$1=new THREE['Box3']();class BaseMarkup extends PathDrawable{constructor(_0x3a6947){super(_0x3a6947),this['editPointSize']=0x3,this['editPointFillColor']='#ffffff',this['editPointStrokeColor']='#939ea4',this['x']=0x0,this['y']=0x0,this['width']=0x0,this['height']=0x0,this['id']=_0x3a6947||CommonUtils['guid']();}['isSelected'](){return this['selected'];}['drawSelect'](_0x46f224,_0x5176c9){const _0x1f33f3=this['getVertexes']();this['drawPoints'](_0x46f224,_0x5176c9,_0x1f33f3);}['drawPoints'](_0x4c7e0c,_0x598daa,_0x312051){_0x4c7e0c['save'](),_0x4c7e0c['fillStyle']=this['editPointFillColor'],_0x4c7e0c['strokeStyle']=this['editPointStrokeColor'],_0x4c7e0c['beginPath'](),_0x312051['forEach'](_0x391317=>{const _0x3517ee=this['transToScreenCoord'](_0x391317,_0x598daa);_0x4c7e0c['moveTo'](_0x3517ee['x'],_0x3517ee['y']),_0x4c7e0c['arc'](_0x3517ee['x'],_0x3517ee['y'],this['editPointSize'],0x0,Math['PI']*0x2);}),_0x4c7e0c['closePath'](),_0x4c7e0c['stroke'](),_0x4c7e0c['fill'](),_0x4c7e0c['restore']();}['isPointInPath'](_0x124f41){return tempBox$1['setFromPoints'](this['getVertexes']())['containsPoint'](_0x124f41);}['setData'](_0x465cb6){super['setData'](_0x465cb6),this['update'](_0x465cb6['points']['map'](_0x574160=>new THREE['Vector3'](_0x574160[0x0],_0x574160[0x1],0x0)));}['getData'](){return Object['assign'](Object['assign']({},super['getData']()),{'points':this['points']['map'](_0x15ac5a=>[_0x15ac5a['x'],_0x15ac5a['y']]),'type':this['getClassType']()});}['setParent'](_0x3d01b1){this['parent']=_0x3d01b1;}['setLeaderText'](_0x12bd86){this['leaderText']=_0x12bd86,_0x12bd86['setParent'](this);}['getVertexes'](){const _0x521d1a=tempBox$1['setFromPoints'](this['points']);return [new THREE['Vector3'](_0x521d1a['min']['x'],_0x521d1a['min']['y'],0x0),new THREE['Vector3'](_0x521d1a['min']['x'],_0x521d1a['max']['y'],0x0),new THREE['Vector3'](_0x521d1a['max']['x'],_0x521d1a['max']['y'],0x0),new THREE['Vector3'](_0x521d1a['max']['x'],_0x521d1a['min']['y'],0x0)];}['update'](_0x3da4f4){return this['points']=_0x3da4f4,this;}['translate'](_0x4f6185,_0x17f28a){const _0x30ab22=new THREE['Vector3'](_0x4f6185,_0x17f28a,0x0);return this['points']['forEach'](_0x3b8499=>_0x3b8499['add'](_0x30ab22)),this['update'](this['points']),this;}}

var ScreenshotMode;(function(_0xe40288){_0xe40288['Default']='Default',_0xe40288['BoxSelection']='BoxSelection',_0xe40288['PickMarkup']='PickMarkup';}(ScreenshotMode||(ScreenshotMode={})));class ScreenshotPlugin extends Plugin{constructor(_0x50b5ed,_0x4e12a6){const _0x5ea261=(_0x4e12a6===null||_0x4e12a6===void 0x0?void 0x0:_0x4e12a6['id'])||ScreenshotPlugin['DEFAULT_ID'];super(_0x50b5ed,{'id':_0x5ea261}),this['originalBackground']=undefined,this['originalClearAlpha']=0x1,this['cfg']=_0x4e12a6||{},this['cfg']['type']=this['cfg']['type']||'image/png',this['cfg']['quality']=this['cfg']['quality']||0.8,this['cfg']['setBackgroundTransparent']=this['cfg']['setBackgroundTransparent']||![];}['getScreenshot'](){var _0x381c94;const _0x52a729=this['viewer'],_0x20c76b=(_0x381c94=_0x52a729['renderer'])===null||_0x381c94===void 0x0?void 0x0:_0x381c94['domElement'];if(!_0x20c76b)return undefined;this['setBackgroundTransparent']();const _0x515b97=_0x20c76b['toDataURL'](this['cfg']['type'],this['cfg']['quality']);return this['recoverBackgroundTransparency'](),_0x515b97;}async['getScreenshotByScreenBBox'](_0x3c3254){const _0xd90594=this['viewer']['renderer']['domElement'],_0x4b615f=_0xd90594['width'],_0x6a81e3=_0xd90594['height'];let _0x10db7e=_0x3c3254['min']['x'],_0x2b3377=_0x3c3254['min']['y'],_0x22440b=_0x3c3254['max']['x'],_0x249b78=_0x3c3254['max']['y'];_0x10db7e=Math['max'](_0x10db7e,0x0),_0x10db7e=Math['min'](_0x10db7e,_0x4b615f),_0x2b3377=Math['max'](_0x2b3377,0x0),_0x2b3377=Math['min'](_0x2b3377,_0x6a81e3),_0x22440b=Math['min'](_0x22440b||_0x4b615f,_0x4b615f),_0x22440b=Math['max'](_0x22440b,0x0),_0x249b78=Math['min'](_0x249b78||_0x6a81e3,_0x6a81e3),_0x249b78=Math['max'](_0x249b78,0x0);if(Math['abs'](_0x22440b-_0x10db7e)===0x0||Math['abs'](_0x249b78-_0x2b3377)===0x0)return log['error']('[Screenshot]\x20Invalid\x20input,\x20minX:\x20'+_0x10db7e+',\x20minY:\x20'+_0x2b3377+',\x20maxX:\x20'+_0x22440b+',\x20maxY:\x20'+_0x249b78),undefined;const _0x169743=new THREE['Box2']();_0x169743['expandByPoint'](new THREE['Vector2'](_0x10db7e,_0x2b3377)),_0x169743['expandByPoint'](new THREE['Vector2'](_0x22440b,_0x249b78)),this['setBackgroundTransparent']();const _0x540457=await CommonUtils['canvasToImage'](_0xd90594);this['recoverBackgroundTransparency']();const _0x55aa52=document['createElement']('canvas');_0x55aa52['width']=_0xd90594['width'],_0x55aa52['height']=_0xd90594['height'];const _0x12a768=window['devicePixelRatio'],_0xf825c8=_0x55aa52['getContext']('2d');_0xf825c8['drawImage'](_0x540457,0x0,0x0,_0x540457['width']/_0x12a768,_0x540457['height']/_0x12a768);const _0x3ca715=CommonUtils['renderingContextToImage'](_0xf825c8,_0x169743,this['cfg']['type'],this['cfg']['quality']);return _0x3ca715;}async['getScreenshotByWorldBBox'](_0x2fba31){const _0x5d9ef8=this['viewer']['camera'],_0x117467=this['viewer']['container']['viewerContainer'];if(!_0x117467)return;const _0x351c77=CoordinateUtils['worldBBox2Screen'](_0x2fba31,_0x5d9ef8,_0x117467);return this['getScreenshotByScreenBBox'](_0x351c77);}async['getScreenshotAsync'](_0x211acb=ScreenshotMode['BoxSelection']){this['cancel']();const _0x569d1f=!![],_0x18f0a7=this['viewer'],_0xdaff23=_0x18f0a7['renderer']['domElement'];let _0x3f6ae3=undefined;if(_0x211acb===ScreenshotMode['PickMarkup'])!this['pickMarkupHelper']&&(this['pickMarkupHelper']=new PickMarkupHelper(_0x18f0a7)),_0x3f6ae3=await this['pickMarkupHelper']['pick']();else _0x211acb===ScreenshotMode['BoxSelection']&&(!this['boxSelectHelper']&&(this['boxSelectHelper']=new BoxSelectHelper(_0x18f0a7)),_0x3f6ae3=await this['boxSelectHelper']['select']());if(_0x211acb!==ScreenshotMode['Default']&&!_0x3f6ae3)return;this['setBackgroundTransparent']();const _0x133395=await CommonUtils['canvasToImage'](_0xdaff23);this['recoverBackgroundTransparency']();const _0x561fbf=document['createElement']('canvas'),_0x22f2d8=window['devicePixelRatio'];_0x561fbf['width']=_0xdaff23['width']/_0x22f2d8,_0x561fbf['height']=_0xdaff23['height']/_0x22f2d8;const _0x3c19b1=_0x561fbf['getContext']('2d');_0x3c19b1['drawImage'](_0x133395,0x0,0x0,_0x133395['width']/_0x22f2d8,_0x133395['height']/_0x22f2d8);if(_0x569d1f&&_0x18f0a7['getOverlayRender']()){const _0x443ee6=await _0x18f0a7['getOverlayRender']()['getImage'](_0x167035=>_0x167035 instanceof BaseMeasureDrawable||_0x167035 instanceof BaseMarkup);_0x3c19b1['drawImage'](_0x443ee6,0x0,0x0,_0x443ee6['width']/_0x22f2d8,_0x443ee6['height']/_0x22f2d8);}const _0x121711=this['cfg']['type'],_0x1c7bef=this['cfg']['quality'],_0x1d6325=CommonUtils['renderingContextToImage'](_0x3c19b1,_0x3f6ae3,_0x121711,_0x1c7bef);if(_0x18f0a7 instanceof Viewer2d){const _0x51b076=_0x18f0a7['getCurrentViewExtent']();return {'base64Image':_0x1d6325,'viewExtent':_0x51b076,'imageType':_0x121711};}return {'base64Image':_0x1d6325,'imageType':_0x121711};}['isActive'](){var _0x33a101,_0x198a04;return ((_0x33a101=this['boxSelectHelper'])===null||_0x33a101===void 0x0?void 0x0:_0x33a101['isActive'])||((_0x198a04=this['pickMarkupHelper'])===null||_0x198a04===void 0x0?void 0x0:_0x198a04['isActive']);}['cancel'](){var _0x404ac7,_0x4fba31;((_0x404ac7=this['boxSelectHelper'])===null||_0x404ac7===void 0x0?void 0x0:_0x404ac7['isActive'])&&this['boxSelectHelper']['deactivate'](),((_0x4fba31=this['pickMarkupHelper'])===null||_0x4fba31===void 0x0?void 0x0:_0x4fba31['isActive'])&&this['pickMarkupHelper']['deactivate']();}['setBackgroundTransparent'](){if(!this['cfg']['setBackgroundTransparent'])return;const _0x5b1593=this['viewer'],_0x35df38=_0x5b1593['scene'],_0x355fc7=_0x5b1593['renderer'],_0x1835a5=this['viewer']['camera'];this['originalBackground']=_0x35df38['background'],this['originalClearAlpha']=_0x355fc7['getClearAlpha'](),_0x35df38['background']=null,_0x355fc7['setClearAlpha'](0x0),_0x355fc7['render'](_0x35df38,_0x1835a5);}['recoverBackgroundTransparency'](){if(!this['cfg']['setBackgroundTransparent'])return;const _0x1ca9a3=this['viewer'],_0x56088f=_0x1ca9a3['scene'],_0x560101=_0x1ca9a3['renderer'],_0x13ff51=this['viewer']['camera'];_0x56088f['background']=this['originalBackground'],_0x560101['setClearAlpha'](this['originalClearAlpha']),_0x560101['render'](_0x56088f,_0x13ff51),this['originalBackground']=undefined,this['originalClearAlpha']=0x1;}}ScreenshotPlugin['DEFAULT_ID']='ScreenshotPlugin';

const AxisX$1=new THREE['Vector3'](0x1,0x0,0x0);const AxisY$1=new THREE['Vector3'](0x0,0x1,0x0);const AxisZ$1=new THREE['Vector3'](0x0,0x0,0x1);var ActionType;(function(_0x21ebee){_0x21ebee['None']='',_0x21ebee['TranslateX']='TranslateX',_0x21ebee['TranslateY']='TranslateY',_0x21ebee['TranslateZ']='TranslateZ',_0x21ebee['RotateX']='RotateX',_0x21ebee['RotateY']='RotateY',_0x21ebee['RotateZ']='RotateZ';}(ActionType||(ActionType={})));

const up=new THREE['Vector3'](0x0,0x1,0x0),matrix=new THREE['Matrix4'](),defaultSize=0x2;class SectionGizmo extends THREE['Group']{constructor(_0x284d5c=AxisX$1){super(),this['redMaterial']=new THREE['MeshBasicMaterial']({'color':0xff0000,'depthTest':![]}),this['greenMaterial']=new THREE['MeshBasicMaterial']({'color':0xff00,'depthTest':![]}),this['blueMaterial']=new THREE['MeshBasicMaterial']({'color':0xff,'depthTest':![]}),this['highlightMaterial']=new THREE['MeshBasicMaterial']({'color':0xffff00,'depthTest':![]}),this['pickableMaterial']=new THREE['MeshBasicMaterial']({'color':0x95a5a6,'depthTest':![]}),this['initIgnoreClipMaterial'](),this['initOrUpdateByAxis'](_0x284d5c);}['initIgnoreClipMaterial'](){[this['redMaterial'],this['greenMaterial'],this['blueMaterial'],this['highlightMaterial'],this['pickableMaterial']]['forEach'](_0x5222e8=>{_0x5222e8['onBeforeCompile']=function(_0x3f9448,_0x34999d){_0x3f9448['fragmentShader']=_0x3f9448['fragmentShader']['replace']('#include\x20<clipping_planes_pars_fragment>','')['replace']('#include\x20<clipping_planes_fragment>',''),_0x3f9448['vertexShader']=_0x3f9448['vertexShader']['replace']('#include\x20<clipping_planes_pars_vertex>','')['replace']('#include\x20<clipping_planes_vertex>','');};});}['setDirection'](_0x3caca8){const _0x1a8b86=new THREE['Quaternion']();_0x1a8b86['setFromUnitVectors'](AxisX$1,_0x3caca8),this['applyQuaternion'](_0x1a8b86);}['initOrUpdateByAxis'](_0x43fae1){this['clear']();const _0x47d966=[{'actionType':ActionType['TranslateX'],'direction':AxisX$1,'material':this['redMaterial']},{'actionType':ActionType['TranslateY'],'direction':AxisY$1,'material':this['greenMaterial']},{'actionType':ActionType['TranslateZ'],'direction':AxisZ$1,'material':this['blueMaterial']}];_0x47d966['forEach'](_0x1cbb91=>{const {actionType:_0xb81a97,direction:_0x3499c1,material:_0x22b617}=_0x1cbb91,_0x3da467=_0x3499c1['angleTo'](_0x43fae1)===0x0?_0x22b617:this['pickableMaterial'],_0x47924e=this['createTranslateGizmo'](_0xb81a97,_0x3499c1,defaultSize,_0x3da467);this['add'](_0x47924e);});const _0x5b0dba=[{'actionType':ActionType['RotateX'],'direction':AxisX$1,'material':this['redMaterial'],'degree':0x5a},{'actionType':ActionType['RotateY'],'direction':AxisY$1,'material':this['greenMaterial'],'degree':0x5a},{'actionType':ActionType['RotateZ'],'direction':AxisZ$1,'material':this['blueMaterial'],'degree':0x5a}];_0x5b0dba['forEach'](_0x1d5ff4=>{const {actionType:_0x31f451,direction:_0x137259,material:_0x4cc953,degree:_0x329cfc}=_0x1d5ff4;if(_0x137259['angleTo'](_0x43fae1)!==0x0){const _0x6c952e=this['createRotateGizmo'](_0x31f451,_0x137259,defaultSize,_0x4cc953,_0x329cfc);this['add'](_0x6c952e);}}),this['createSphere'](0x1,this['pickableMaterial']),this['createSphere'](0x1,this['pickableMaterial'],new THREE['Vector3'](defaultSize*0xc,0x0,0x0)),this['createSphere'](0x1,this['pickableMaterial'],new THREE['Vector3'](0x0,defaultSize*0xc,0x0)),this['createSphere'](0x1,this['pickableMaterial'],new THREE['Vector3'](0x0,0x0,defaultSize*0xc));}['createTranslateGizmo'](_0x5b5e63,_0x35bebd,_0x4268f4,_0xf0818){const _0x3e86cf=_0x35bebd['angleTo'](up),_0x6212bf=up['clone']()['cross'](_0x35bebd);matrix['makeRotationAxis'](_0x6212bf,_0x3e86cf);const _0x1e91fd=new THREE['CylinderGeometry'](_0x4268f4/0x5,_0x4268f4/0x5,_0x4268f4*0x14),_0x11c9b3=_0x4268f4*0xa;_0x1e91fd['translate'](0x0,_0x11c9b3,0x0),_0x1e91fd['applyMatrix4'](matrix);const _0x1ae97a=new THREE['CylinderGeometry'](0x0,_0x4268f4,_0x4268f4*0x3),_0x2e4f29=_0x11c9b3*0x2;_0x1ae97a['translate'](0x0,_0x2e4f29,0x0),_0x1ae97a['applyMatrix4'](matrix);const _0xdcce70=THREEAddons['BufferGeometryUtils']['mergeGeometries']([_0x1ae97a,_0x1e91fd]),_0x16101a=new THREE['Mesh'](_0xdcce70,_0xf0818);return _0x16101a['layers']['enable'](LayerForSelectableObjects),_0x16101a['userData']['actionType']=_0x5b5e63,_0xf0818===this['pickableMaterial']&&_0x16101a['layers']['disable'](LayerForSelectableObjects),_0x16101a;}['createRotateGizmo'](_0x19f3cd,_0x914449,_0x4bc9b2,_0x375b4d,_0x5264f7){const _0x24e54c=new THREE['Vector3'](0x0,0x0,0x1),_0x53e2b8=_0x914449['clone']()['cross'](_0x24e54c),_0x20e643=_0x914449['angleTo'](_0x24e54c);matrix['makeRotationAxis'](_0x53e2b8,_0x20e643);const _0x6657f5=new THREE['TorusGeometry'](_0x4bc9b2*0xc,_0x4bc9b2/0x5,0x18,0x24,THREE['MathUtils']['degToRad'](_0x5264f7));_0x6657f5['applyMatrix4'](matrix);const _0x14f242=new THREE['Mesh'](_0x6657f5,_0x375b4d);return _0x14f242['layers']['enable'](LayerForSelectableObjects),_0x14f242['userData']['actionType']=_0x19f3cd,_0x14f242;}['createSphere'](_0x417c52,_0x9005b3,_0x4ae64d=new THREE['Vector3']()){const _0x57060e=new THREE['SphereGeometry'](_0x417c52,0x20,0x10),_0x1f8027=new THREE['Mesh'](_0x57060e,_0x9005b3);_0x1f8027['position']['copy'](_0x4ae64d),_0x1f8027['layers']['disable'](LayerForSelectableObjects),this['add'](_0x1f8027);}['setActiveAxis'](_0x207e72){this['initOrUpdateByAxis'](_0x207e72);}['createHoverRotateObjectByAxis'](_0x3d62ac){let _0x58d15e=AxisX$1;switch(_0x3d62ac){case ActionType['RotateX']:_0x58d15e=AxisX$1;break;case ActionType['RotateY']:_0x58d15e=AxisY$1;break;case ActionType['RotateZ']:_0x58d15e=AxisZ$1;break;}return this['createRotateGizmo'](ActionType['None'],_0x58d15e,defaultSize,this['highlightMaterial'],0x168);}['setActive'](_0x5465d5,_0x1a02fb){var _0xbd8155;const _0x1412af=_0x1a02fb['userData']['actionType'];[ActionType['RotateX'],ActionType['RotateY'],ActionType['RotateZ']]['includes'](_0x1412af)?_0x5465d5?(this['hoverObject']=this['createHoverRotateObjectByAxis'](_0x1412af),this['add'](this['hoverObject']),_0x1a02fb['visible']=![]):((_0xbd8155=this['hoverObject'])===null||_0xbd8155===void 0x0?void 0x0:_0xbd8155['removeFromParent'](),_0x1a02fb['visible']=!![],this['hoverObject']=undefined):_0x5465d5?(this['originalMaterial']=_0x1a02fb['material'],_0x1a02fb['material']=this['highlightMaterial']):this['originalMaterial']&&(_0x1a02fb['material']=this['originalMaterial']);}['adjustSize'](_0x308040){const _0x5ee373=new THREE['Vector3']();this['getWorldPosition'](_0x5ee373);const _0x554de3=_0x308040['position'];let _0x435f49=0x1;if(_0x308040 instanceof THREE['OrthographicCamera'])_0x435f49=(_0x308040['top']-_0x308040['bottom'])/_0x308040['zoom'];else _0x308040 instanceof THREE['PerspectiveCamera']&&(_0x435f49=_0x5ee373['distanceTo'](_0x554de3)*Math['min'](1.9*Math['tan'](Math['PI']*_0x308040['fov']/0x168)/_0x308040['zoom'],0x7));this['scale']['set'](0x1,0x1,0x1)['multiplyScalar'](_0x435f49/0xb4),this['updateWorldMatrix'](!![],!![]);}}

class BaseSection{constructor(_0x277786,_0x1edfd9){this['raycaster']=new THREE['Raycaster'](),this['sectionBox']=new THREE['Box3'](),this['lastWorldPos']=new THREE['Vector3'](),this['mouseMoved']=![],this['dragStarted']=![],this['refrencePlane']=new THREE['Plane'](),this['active']=![],this['capsVisibility']=![],this['capsWireframeMaterial']=new THREE['MeshBasicMaterial']({'color':0xffff54,'side':THREE['DoubleSide'],'transparent':![]}),this['showSectionPlane']=![],this['mousedown']=_0x289119=>{const _0x515d6f=_0x289119['button']===0x0;if(!_0x515d6f)return;if(!this['selectedObject']){const _0x32c197=this['getIntersection'](_0x289119);if(!_0x32c197)return;this['activateSelectedObject'](![]),this['selectedObject']=_0x32c197['object'];}this['inputManager']['setCursor']('grabbing'),this['dragStarted']=!![],this['setControlsEnabled'](![]),this['onDragStart'](_0x289119),this['viewer']['enableRender']();},this['mousemove']=_0x249f63=>{var _0x48a564;if(this['dragStarted'])this['updateRaycasterByMouse'](_0x249f63),this['onDragMove'](_0x249f63);else {this['activateSelectedObject'](![]),this['selectedObject']=undefined;const _0x54df56=this['getIntersection'](_0x249f63);let _0x4fe117='default';_0x54df56&&_0x54df56['object']['visible']&&((_0x48a564=_0x54df56['object']['parent'])===null||_0x48a564===void 0x0?void 0x0:_0x48a564['visible'])&&(this['selectedObject']=_0x54df56['object'],this['activateSelectedObject'](!![]),_0x4fe117='grab'),this['inputManager']['setCursor'](_0x4fe117);}this['viewer']['enableRender']();},this['mouseup']=_0x132a13=>{const _0x325767=_0x132a13['button']===0x0;if(!_0x325767)return;this['dragStarted']&&(this['onDragEnd'](_0x132a13),this['setControlsEnabled'](!![])),this['dragStarted']=![],this['activateSelectedObject'](![]),this['selectedObject']=undefined,this['inputManager']['setCursor']('default');},this['keydown']=_0x3c5e17=>{_0x3c5e17['code']==='Escape'&&this['deactivate']();},this['viewer']=_0x277786,this['inputManager']=_0x1edfd9,this['scene']=_0x277786['scene'],this['renderer']=_0x277786['renderer'],this['raycaster']['layers']['set'](LayerForSelectableObjects),this['capsScene']=new THREE['Scene'](),this['capsScene']['matrixAutoUpdate']=!![],this['capsScene']['matrixWorldAutoUpdate']=!![];}get['canvas'](){var _0x32aa01;return (_0x32aa01=this['viewer']['renderer'])===null||_0x32aa01===void 0x0?void 0x0:_0x32aa01['domElement'];}get['isActive'](){return !!this['active'];}get['camera'](){return this['viewer']['camera'];}['setGlobalClippingEnabled'](_0x2690d2){if(!this['clipPlanes'])return;const _0x47d60a=_0x2690d2?this['clipPlanes']:[];this['viewer']['setGlobalClipPlanes'](_0x47d60a);}['setObjectClippingEnabled'](_0x2ccf69){var _0x526af2,_0x192388;if(!this['clipPlanes']||!((_0x526af2=this['clippingObjetIds'])===null||_0x526af2===void 0x0?void 0x0:_0x526af2['length']))return;this['renderer']['localClippingEnabled']=_0x2ccf69;const _0x13d66f=_0x2ccf69?this['clipPlanes']:[];(_0x192388=this['clippingObjetIds'])===null||_0x192388===void 0x0?void 0x0:_0x192388['forEach'](_0x4df894=>{const _0x2dbef8=this['scene']['getObjectById'](_0x4df894);_0x2dbef8&&_0x2dbef8['traverse'](_0x56f024=>{if(_0x56f024['material']){if(Array['isArray'](_0x56f024['material']))_0x56f024['material']['forEach'](_0x3d9a9e=>{_0x3d9a9e['clippingPlanes']=_0x13d66f,_0x3d9a9e['clipIntersection']=![];});else _0x56f024['material']&&(_0x56f024['material']['clippingPlanes']=_0x13d66f,_0x56f024['material']['clipIntersection']=![]);}});});}['clearClippingObjectIds'](){this['setObjectClippingEnabled'](![]),this['clippingObjetIds']=[];}['setClippingEnabled'](_0x2d77eb){var _0x496169;((_0x496169=this['clippingObjetIds'])===null||_0x496169===void 0x0?void 0x0:_0x496169['length'])?(this['setGlobalClippingEnabled'](![]),this['setObjectClippingEnabled'](_0x2d77eb)):this['setGlobalClippingEnabled'](_0x2d77eb);}['activate'](){this['inputManager']['addEventListener']('pointerdown',this['mousedown']),this['inputManager']['addEventListener']('pointermove',this['mousemove']),this['inputManager']['addEventListener']('pointerup',this['mouseup']),this['inputManager']['addEventListener']('keydown',this['keydown']);if(this['sectionBox']['isEmpty']()){const _0x3fffe1=this['viewer']['getBBox']();_0x3fffe1&&this['sectionBox']['copy'](_0x3fffe1);}this['active']=!![];}['deactivate'](_0x4da044=![]){var _0x171ad3;this['inputManager']['removeEventListener']('pointerdown',this['mousedown']),this['inputManager']['removeEventListener']('pointermove',this['mousemove']),this['inputManager']['removeEventListener']('pointerup',this['mouseup']),this['inputManager']['removeEventListener']('keydown',this['keydown']),!_0x4da044&&this['setClippingEnabled'](![]),(_0x171ad3=this['selectedObject'])===null||_0x171ad3===void 0x0?void 0x0:_0x171ad3['removeFromParent'](),this['selectedObject']=undefined,this['dragStarted']=![],this['active']=![],this['inputManager']['setCursor']('default'),this['setControlsEnabled'](!![]);}['setCapsVisible'](_0xf7175d){this['capsVisibility']=_0xf7175d;}['getCapsVisible'](){return this['capsVisibility'];}['setControlsEnabled'](_0x4e602d){this['viewer']['enableRotate'](_0x4e602d);}['getIntersection'](_0x42c8e1){if(!this['raycaster'])return;this['updateRaycasterByMouse'](_0x42c8e1);const _0x42e171=this['raycaster']['intersectObjects'](this['getIntersectObjects']())||[],_0x50332f=_0x42e171['find'](_0x34c154=>{return _0x34c154['object']&&_0x34c154['object']['parent']instanceof SectionGizmo;});if(_0x50332f)return _0x50332f;return _0x42e171[0x0];}['updateRaycasterByMouse'](_0x3dcd92){if(!this['raycaster'])return;const _0x209089=new THREE['Vector2'](_0x3dcd92['x'],_0x3dcd92['y']),_0x14a272=CoordinateUtils['screen2Ndc'](_0x209089,this['camera'],this['canvas']);this['raycaster']['setFromCamera'](_0x14a272,this['camera']);}['destroy'](){this['deactivate']();}}

const box=new THREE['Box3'](),q=new THREE['Quaternion']();class SectionPlaneMesh extends THREE['Mesh']{constructor(_0x63afaf,_0x1251b9){super(),this['vertices']=[],this['layers']['enable'](LayerForSelectableObjects),this['actionType']=_0x63afaf,this['geometry']=new THREE['BufferGeometry'](),this['vertices']=_0x1251b9,this['geometry']['setFromPoints'](_0x1251b9),this['geometry']['setAttribute']('uv',new THREE['Float32BufferAttribute']([0x0,0x1,0x1,0x1,0x0,0x0,0x1,0x0],0x2)),this['geometry']['setIndex']([0x0,0x1,0x2,0x0,0x2,0x3]),this['material']=new THREE['MeshBasicMaterial']({'depthTest':![],'color':SectionPlaneMesh['normalPlaneColor'],'transparent':!![],'opacity':0.01,'side':THREE['DoubleSide']}),this['createIgnoreClipMaterials'](this['material']),this['geometry']['computeVertexNormals'](),this['edge']=this['createEdge'](_0x1251b9),this['add'](this['edge']);}['createIgnoreClipMaterials'](_0x2c5d2d){_0x2c5d2d['onBeforeCompile']=function(_0x1eceef,_0x28abbe){_0x1eceef['fragmentShader']=_0x1eceef['fragmentShader']['replace']('#include\x20<clipping_planes_pars_fragment>','')['replace']('#include\x20<clipping_planes_fragment>',''),_0x1eceef['vertexShader']=_0x1eceef['vertexShader']['replace']('#include\x20<clipping_planes_pars_vertex>','')['replace']('#include\x20<clipping_planes_vertex>','');};}['createEdge'](_0x5a46cc){const _0x5596c8=new THREE['BufferGeometry']();_0x5596c8['setFromPoints'](_0x5a46cc),_0x5596c8['setIndex']([0x0,0x1,0x1,0x2,0x2,0x3,0x3,0x0]);const _0x53d2fb=new THREE['LineBasicMaterial']({'color':SectionPlaneMesh['normalLineColor']});this['createIgnoreClipMaterials'](_0x53d2fb);const _0x2d521c=new THREE['Line'](_0x5596c8,_0x53d2fb);return _0x2d521c;}['createLine'](){var _0x32eff7;(_0x32eff7=this['wireframe'])===null||_0x32eff7===void 0x0?void 0x0:_0x32eff7['removeFromParent']();const _0x234fce=this['vertices'][0x0]['distanceTo'](this['vertices'][0x1]),_0x18e578=this['vertices'][0x1]['distanceTo'](this['vertices'][0x2]),_0x44dcce=[];for(let _0x3bfe1b=0.5*_0x234fce,_0x303a0d=0.5*_0x18e578,_0x276b04=0x1;_0x276b04<_0x234fce+_0x18e578;_0x276b04+=0x1){let _0x44bd90,_0x48ce0f;_0x276b04<_0x18e578?(_0x44bd90=this['vertices'][0x1]['clone']()['sub'](this['vertices'][0x2])['normalize']()['multiplyScalar'](-_0x303a0d+_0x276b04),_0x44bd90['add'](this['vertices'][0x1]['clone']()['sub'](this['vertices'][0x0])['normalize']()['multiplyScalar'](-_0x3bfe1b))):(_0x44bd90=this['vertices'][0x1]['clone']()['sub'](this['vertices'][0x2])['normalize']()['multiplyScalar'](_0x303a0d),_0x44bd90['add'](this['vertices'][0x2]['clone']()['sub'](this['vertices'][0x3])['normalize']()['multiplyScalar'](-_0x3bfe1b+(_0x276b04-_0x18e578)))),_0x276b04<_0x234fce?(_0x48ce0f=this['vertices'][0x1]['clone']()['sub'](this['vertices'][0x2])['normalize']()['multiplyScalar'](-_0x303a0d),_0x48ce0f['add'](this['vertices'][0x1]['clone']()['sub'](this['vertices'][0x0])['normalize']()['multiplyScalar'](-_0x3bfe1b+_0x276b04))):(_0x48ce0f=this['vertices'][0x0]['clone']()['sub'](this['vertices'][0x3])['normalize']()['multiplyScalar'](-_0x303a0d+(_0x276b04-_0x234fce)),_0x48ce0f['add'](this['vertices'][0x2]['clone']()['sub'](this['vertices'][0x3])['normalize']()['multiplyScalar'](_0x3bfe1b))),_0x44dcce['push'](_0x44bd90),_0x44dcce['push'](_0x48ce0f);}const _0x1c618f=new THREE['BufferGeometry']()['setFromPoints'](_0x44dcce),_0x243adf=new THREE['LineBasicMaterial']({'color':0x0,'transparent':![]});this['createIgnoreClipMaterials'](_0x243adf);const _0x2680ea=new THREE['LineSegments'](_0x1c618f,_0x243adf);_0x2680ea['position']['copy'](this['vertices'][0x0]['clone']()['add'](this['vertices'][0x2])['multiplyScalar'](0.5)),_0x2680ea['position']['add'](this['getPlaneNormal']()['multiplyScalar'](0.1)),_0x2680ea['updateMatrix'](),_0x2680ea['updateMatrixWorld'](),this['add'](_0x2680ea),this['wireframe']=_0x2680ea;}['update'](_0x46a11a){this['geometry']['setFromPoints'](_0x46a11a),this['geometry']['computeBoundingSphere'](),this['geometry']['computeVertexNormals'](),this['edge']['geometry']['setFromPoints'](_0x46a11a),this['vertices']=_0x46a11a,this['wireframe']&&this['createLine']();}['rotatePlane'](_0x233be8,_0x23e468){const _0x1bff5b=this['getPlaneCenter']();q['setFromAxisAngle'](_0x233be8,_0x23e468),this['vertices']=this['vertices']['map'](_0x45765e=>_0x45765e['sub'](_0x1bff5b)['applyQuaternion'](q)['add'](_0x1bff5b)),this['update'](this['vertices']);}['setDirection'](_0x2af2ee){const _0x44864f=new THREE['Quaternion']();_0x44864f['setFromUnitVectors'](AxisX$1,_0x2af2ee);const _0x58cb43=this['getPlaneCenter']();this['vertices']=this['vertices']['map'](_0x5b2b33=>_0x5b2b33['sub'](_0x58cb43)['applyQuaternion'](_0x44864f)['add'](_0x58cb43)),this['update'](this['vertices']);}['getPlaneNormal'](){const [_0x3eaeb2,_0x4610a7,_0x2598e6]=this['vertices'],_0x465cca=new THREE['Vector3']();return THREE['Triangle']['getNormal'](_0x3eaeb2,_0x4610a7,_0x2598e6,_0x465cca),_0x465cca;}['setActive'](_0x4f7ad9){this['material']['opacity']=_0x4f7ad9?0.1:0.01;}['getPlaneCenter'](){box['setFromPoints'](this['vertices']);const _0x271a7b=new THREE['Vector3']();return box['getCenter'](_0x271a7b),_0x271a7b;}}SectionPlaneMesh['normalPlaneColor']=new THREE['Color'](0x0,0.855,0.718),SectionPlaneMesh['activePlaneColor']=new THREE['Color'](0x1,0x1,0x0),SectionPlaneMesh['normalLineColor']=0xffffff;

var AxisType;(function(_0x67e8dc){_0x67e8dc['X']='X',_0x67e8dc['Y']='Y',_0x67e8dc['Z']='Z';}(AxisType||(AxisType={})));class AxisPlaneSection extends BaseSection{constructor(_0x37cbe7,_0x2da617){super(_0x37cbe7,_0x2da617),this['activeAxis']=AxisType['X'],this['mousedown']=_0x267825=>{const _0x13a642=_0x267825['button']===0x0;if(!_0x13a642)return;if(!this['selectedObject']){const _0xcf0a78=this['getIntersection'](_0x267825);if(!_0xcf0a78)return;this['activateSelectedObject'](![]),this['selectedObject']=_0xcf0a78['object'];}if(!(this['selectedObject']['parent']instanceof SectionGizmo))return;this['inputManager']['setCursor']('grabbing'),this['dragStarted']=!![],this['setControlsEnabled'](![]),this['onDragStart'](_0x267825),this['viewer']['enableRender']();},this['mousemove']=_0x4c6cb7=>{var _0x176c2a;if(this['dragStarted'])this['updateRaycasterByMouse'](_0x4c6cb7),this['onDragMove'](_0x4c6cb7);else {this['activateSelectedObject'](![]),this['selectedObject']=undefined;const _0x3e2ad3=this['getIntersection'](_0x4c6cb7);let _0x12751c='default';_0x3e2ad3&&_0x3e2ad3['object']['visible']&&((_0x176c2a=_0x3e2ad3['object']['parent'])===null||_0x176c2a===void 0x0?void 0x0:_0x176c2a['visible'])&&(this['selectedObject']=_0x3e2ad3['object'],this['activateSelectedObject'](!![]),this['selectedObject']['parent']instanceof SectionGizmo&&(_0x12751c='grab')),this['inputManager']['setCursor'](_0x12751c);}this['viewer']['enableRender']();},this['center']=new THREE['Vector3'](),this['axisInfoMap']={[AxisType['X']]:{'normal':new THREE['Vector3'](0x1,0x0,0x0)},[AxisType['Y']]:{'normal':new THREE['Vector3'](0x0,0x1,0x0)},[AxisType['Z']]:{'normal':new THREE['Vector3'](0x0,0x0,0x1)}},this['showSectionPlane']=!![],this['viewer']['addEventListener'](ViewerEvent['BeforeRender'],()=>{var _0x1b65ed,_0xcca2b5;this['isActive']&&((_0x1b65ed=this['gizmo'])===null||_0x1b65ed===void 0x0?void 0x0:_0x1b65ed['adjustSize'](this['camera']),(_0xcca2b5=this['planeMesh'])===null||_0xcca2b5===void 0x0?void 0x0:_0xcca2b5['updateWorldMatrix'](!![],!![]));});}['activate'](_0x162eca=AxisType['X'],_0x482caf){super['activate'](),this['setActiveAxis'](_0x162eca,_0x482caf);}['deactivate'](_0x2074c8=![]){var _0x5207b1,_0x3f2606;super['deactivate'](_0x2074c8),(_0x5207b1=this['planeMesh'])===null||_0x5207b1===void 0x0?void 0x0:_0x5207b1['removeFromParent'](),(_0x3f2606=this['gizmo'])===null||_0x3f2606===void 0x0?void 0x0:_0x3f2606['removeFromParent'](),this['planeMesh']=undefined,this['gizmo']=undefined;}['reset'](){var _0x3f0235,_0x3c209e;(_0x3f0235=this['planeMesh'])===null||_0x3f0235===void 0x0?void 0x0:_0x3f0235['removeFromParent'](),(_0x3c209e=this['gizmo'])===null||_0x3c209e===void 0x0?void 0x0:_0x3c209e['removeFromParent'](),this['setClippingEnabled'](![]),this['planeMesh']=undefined,this['gizmo']=undefined,this['setActiveAxis'](this['activeAxis']);}['setActiveAxis'](_0x7ce662,_0x1783eb){this['activeAxis']=_0x7ce662,this['sectionBox']&&this['sectionBox']['getCenter'](this['center']),this['clipPlaneConstant']=_0x1783eb,this['initOrUpdateGizmo'](),this['initOrUpdateSectionPlaneMeshes'](),this['initOrUpdateClipPlanes'](),this['setClippingEnabled'](!![]),this['clipPlaneConstant']=undefined,this['viewer']['enableRender']();}['setSectionPlaneVisible'](_0x44b4c0){this['gizmo']&&this['planeMesh']&&(this['gizmo']['visible']=_0x44b4c0,this['planeMesh']['visible']=_0x44b4c0),this['showSectionPlane']=_0x44b4c0,this['viewer']['enableRender']();}['initOrUpdateClipPlanes'](){switch(this['activeAxis']){case AxisType['X']:{const _0x2da859=this['clipPlaneConstant']||this['center']['x'];this['clipPlane']=new THREE['Plane'](new THREE['Vector3'](-0x1,0x0,0x0),_0x2da859);break;}case AxisType['Y']:{const _0xe99300=this['clipPlaneConstant']||this['center']['y'];this['clipPlane']=new THREE['Plane'](new THREE['Vector3'](0x0,-0x1,0x0),_0xe99300);break;}case AxisType['Z']:{const _0x40cb09=this['clipPlaneConstant']||this['center']['z'];this['clipPlane']=new THREE['Plane'](new THREE['Vector3'](0x0,0x0,-0x1),_0x40cb09);break;}}this['clipPlane']&&(this['clipPlanes']=[this['clipPlane']]);}['initOrUpdateSectionPlaneMeshes'](){var _0x2e3d71;const _0x2a3fbb=new THREE['Vector3']();this['sectionBox']['getSize'](_0x2a3fbb);const _0x29f8ba=_0x2a3fbb['length'](),_0x5a67a4=this['center']['clone']();this['adjustPositionByClipPlaneConstant'](_0x5a67a4);const _0x495fb5=new THREE['Box3']()['setFromCenterAndSize'](_0x5a67a4,new THREE['Vector3'](_0x29f8ba,_0x29f8ba,_0x29f8ba)),{min:_0x2d142d,max:_0x1d5e6b}=_0x495fb5;(_0x2e3d71=this['planeMesh'])===null||_0x2e3d71===void 0x0?void 0x0:_0x2e3d71['removeFromParent']();switch(this['activeAxis']){case AxisType['X']:this['planeMesh']=new SectionPlaneMesh(AxisType['X'],[new THREE['Vector3'](_0x5a67a4['x'],_0x1d5e6b['y'],_0x2d142d['z']),new THREE['Vector3'](_0x5a67a4['x'],_0x1d5e6b['y'],_0x1d5e6b['z']),new THREE['Vector3'](_0x5a67a4['x'],_0x2d142d['y'],_0x1d5e6b['z']),new THREE['Vector3'](_0x5a67a4['x'],_0x2d142d['y'],_0x2d142d['z'])]);break;case AxisType['Y']:this['planeMesh']=new SectionPlaneMesh(AxisType['Y'],[new THREE['Vector3'](_0x1d5e6b['x'],_0x5a67a4['y'],_0x2d142d['z']),new THREE['Vector3'](_0x2d142d['x'],_0x5a67a4['y'],_0x2d142d['z']),new THREE['Vector3'](_0x2d142d['x'],_0x5a67a4['y'],_0x1d5e6b['z']),new THREE['Vector3'](_0x1d5e6b['x'],_0x5a67a4['y'],_0x1d5e6b['z'])]);break;case AxisType['Z']:this['planeMesh']=new SectionPlaneMesh(AxisType['Z'],[new THREE['Vector3'](_0x1d5e6b['x'],_0x1d5e6b['y'],_0x5a67a4['z']),new THREE['Vector3'](_0x2d142d['x'],_0x1d5e6b['y'],_0x5a67a4['z']),new THREE['Vector3'](_0x2d142d['x'],_0x2d142d['y'],_0x5a67a4['z']),new THREE['Vector3'](_0x1d5e6b['x'],_0x2d142d['y'],_0x5a67a4['z'])]);break;}this['planeMesh']&&(this['planeMesh']['visible']=this['showSectionPlane'],this['scene']['add'](this['planeMesh'])),this['createCapsWireframe'](),this['viewer']['enableRender']();}['createCapsWireframe'](){var _0x2b9a0;if(!this['planeMesh'])return;const {actionType:_0xe3f86,vertices:_0x2b9a3a}=this['planeMesh'];(_0x2b9a0=this['capsWireframe'])===null||_0x2b9a0===void 0x0?void 0x0:_0x2b9a0['removeFromParent'](),this['capsWireframe']=new SectionPlaneMesh(_0xe3f86,_0x2b9a3a);const _0x515d52=this['capsWireframeMaterial'];this['capsWireframe']['createIgnoreClipMaterials'](_0x515d52),this['capsWireframe']['material']=_0x515d52,this['capsWireframe']['createLine'](),this['setCapsVisible'](![]),this['capsScene']['add'](this['capsWireframe']);}['initOrUpdateGizmo'](){var _0x330c74,_0xeada8e;(_0x330c74=this['gizmo'])===null||_0x330c74===void 0x0?void 0x0:_0x330c74['removeFromParent']();const _0x2ac3bb=this['axisInfoMap'][this['activeAxis']]['normal'],_0x4b212d=new SectionGizmo();_0x4b212d['setDirection'](_0x2ac3bb),this['sectionBox']['getCenter'](_0x4b212d['position']),this['adjustPositionByClipPlaneConstant'](_0x4b212d['position']),_0x4b212d['adjustSize'](this['camera']),_0x4b212d['visible']=this['showSectionPlane'],(_0xeada8e=this['scene'])===null||_0xeada8e===void 0x0?void 0x0:_0xeada8e['add'](_0x4b212d),this['gizmo']=_0x4b212d;}['onDragStart'](_0x163c1c){var _0x4d5d86;if(this['selectedObject']instanceof SectionPlaneMesh)return;log['info']('[Section]\x20onDragStart:',_0x163c1c);const _0x3ae62c=new THREE['Vector3']();this['sectionBox']['getCenter'](_0x3ae62c),this['refrencePlane']['setFromNormalAndCoplanarPoint'](this['camera']['getWorldDirection'](this['refrencePlane']['normal']),_0x3ae62c),(_0x4d5d86=this['raycaster'])===null||_0x4d5d86===void 0x0?void 0x0:_0x4d5d86['ray']['intersectPlane'](this['refrencePlane'],this['lastWorldPos']);}['onDragMove'](_0x175d20){var _0x44a0fc,_0x80a981,_0x34cd3a,_0x40013e,_0x23054c,_0x5c8906,_0x5c6e83;if(!this['lastWorldPos']||!this['selectedObject']||!this['clipPlane']||!this['planeMesh']||!this['gizmo']||this['selectedObject']&&this['selectedObject']instanceof SectionPlaneMesh)return;const _0x2b8b9d=new THREE['Vector3']();(_0x44a0fc=this['raycaster'])===null||_0x44a0fc===void 0x0?void 0x0:_0x44a0fc['ray']['intersectPlane'](this['refrencePlane'],_0x2b8b9d);const _0x294f71=this['selectedObject']['userData']['actionType'],_0x575b29=new THREE['Vector3']()['subVectors'](this['lastWorldPos'],this['center'])['normalize'](),_0x55c6e5=new THREE['Vector3']()['subVectors'](_0x2b8b9d,this['center'])['normalize'](),_0x4c89f6=new THREE['Vector3']()['subVectors'](_0x2b8b9d,this['lastWorldPos'])['projectOnVector'](AxisX$1['clone']()['applyQuaternion'](this['gizmo']['quaternion']));let _0x43a23a=_0x575b29['angleTo'](_0x55c6e5);const _0x3a9b48=new THREE['Vector3']()['crossVectors'](_0x575b29,_0x55c6e5),_0x45bd7e=new THREE['Vector3']();this['sectionBox']['getSize'](_0x45bd7e);const _0x510d2b=Math['max'](_0x45bd7e['x'],_0x45bd7e['y'],_0x45bd7e['z']);let _0x57b611;switch(_0x294f71){case ActionType['TranslateX']:case ActionType['TranslateY']:case ActionType['TranslateZ']:_0x57b611=new THREE['Vector3']()['addVectors'](this['gizmo']['position'],_0x4c89f6);this['sectionBox']['clone']()['setFromCenterAndSize'](this['center'],new THREE['Vector3'](_0x510d2b,_0x510d2b,_0x510d2b))['containsPoint'](_0x57b611)&&((_0x80a981=this['gizmo'])===null||_0x80a981===void 0x0?void 0x0:_0x80a981['position']['add'](_0x4c89f6),(_0x34cd3a=this['planeMesh'])===null||_0x34cd3a===void 0x0?void 0x0:_0x34cd3a['position']['add'](_0x4c89f6),(_0x40013e=this['capsWireframe'])===null||_0x40013e===void 0x0?void 0x0:_0x40013e['position']['add'](_0x4c89f6));break;case ActionType['RotateX']:{const _0x3602ff=AxisX$1['clone']()['applyQuaternion'](this['gizmo']['quaternion']),_0x2b1706=_0x3a9b48['dot'](_0x3602ff);_0x2b1706<0x0&&(_0x43a23a=-_0x43a23a),this['gizmo']['rotateX'](_0x43a23a),this['planeMesh']['rotatePlane'](_0x3602ff,_0x43a23a),(_0x23054c=this['capsWireframe'])===null||_0x23054c===void 0x0?void 0x0:_0x23054c['rotatePlane'](_0x3602ff,_0x43a23a);}break;case ActionType['RotateY']:{const _0x3e34c4=AxisY$1['clone']()['applyQuaternion'](this['gizmo']['quaternion']),_0x54d52f=_0x3a9b48['dot'](_0x3e34c4);_0x54d52f<0x0&&(_0x43a23a=-_0x43a23a),this['gizmo']['rotateY'](_0x43a23a),this['planeMesh']['rotatePlane'](_0x3e34c4,_0x43a23a),(_0x5c8906=this['capsWireframe'])===null||_0x5c8906===void 0x0?void 0x0:_0x5c8906['rotatePlane'](_0x3e34c4,_0x43a23a);}break;case ActionType['RotateZ']:{const _0x1e9469=AxisZ$1['clone']()['applyQuaternion'](this['gizmo']['quaternion']),_0x2bfdc6=_0x3a9b48['dot'](_0x1e9469);_0x2bfdc6<0x0&&(_0x43a23a=-_0x43a23a),this['gizmo']['rotateZ'](_0x43a23a),this['planeMesh']['rotatePlane'](_0x1e9469,_0x43a23a),(_0x5c6e83=this['capsWireframe'])===null||_0x5c6e83===void 0x0?void 0x0:_0x5c6e83['rotatePlane'](_0x1e9469,_0x43a23a);}break;}this['clipPlane']['setFromNormalAndCoplanarPoint'](this['planeMesh']['getPlaneNormal']()['negate'](),this['gizmo']['position']),this['lastWorldPos']=_0x2b8b9d;}['onDragEnd'](_0x5eb528){if(this['selectedObject']instanceof SectionPlaneMesh)return;log['info']('[Section]\x20onDragEnd:',_0x5eb528);}['getIntersectObjects'](){if(!this['planeMesh']||!this['gizmo'])return [];return [this['planeMesh'],this['gizmo']];}['activateSelectedObject'](_0x475944){if(!this['selectedObject'])return;if(this['selectedObject']instanceof SectionPlaneMesh)this['selectedObject']['setActive'](_0x475944);else this['selectedObject']['parent']instanceof SectionGizmo&&this['selectedObject']['parent']['setActive'](_0x475944,this['selectedObject']);}['adjustPositionByClipPlaneConstant'](_0x2668e9){if(this['clipPlaneConstant']!=null){if(this['activeAxis']===AxisType['X'])_0x2668e9['setX'](this['clipPlaneConstant']);else {if(this['activeAxis']===AxisType['Y'])_0x2668e9['setY'](this['clipPlaneConstant']);else this['activeAxis']===AxisType['Z']&&_0x2668e9['setZ'](this['clipPlaneConstant']);}}}}

class ObjectsBoxSection extends BaseSection{constructor(_0x29fdf2,_0x11cd34){super(_0x29fdf2,_0x11cd34),this['sectionRange']={};}['activate'](){super['activate']();const _0x405b97=this['viewer']['getBBox']();if(_0x405b97){const {min:_0x135c2c,max:_0x2c18f4}=_0x405b97;this['sectionRange']={'x':[_0x135c2c['x'],_0x2c18f4['x']],'y':[_0x135c2c['y'],_0x2c18f4['y']],'z':[_0x135c2c['z'],_0x2c18f4['z']]};}this['initOrUpdateClipPlanes'](),this['initOrUpdateVertices'](),this['initOrUpdateSectionPlaneMeshes'](),this['initOrUpdateCapsWireframes'](),this['setCapsVisible'](![]),this['setClippingEnabled'](!![]);}['deactivate'](_0x15a5cc=![]){super['deactivate'](_0x15a5cc),this['planeMeshes']&&this['scene']['remove'](...this['planeMeshes']),this['capsWireframes']&&this['capsScene']['remove'](...this['capsWireframes']),this['planeMeshes']=undefined,this['capsWireframes']=undefined;}['initOrUpdateVertices'](){if(!this['sectionBox'])return;const {min:_0x4d3498,max:_0xa21fcd}=this['sectionBox'];this['vertices']=[new THREE['Vector3'](_0xa21fcd['x'],_0xa21fcd['y'],_0xa21fcd['z']),new THREE['Vector3'](_0x4d3498['x'],_0xa21fcd['y'],_0xa21fcd['z']),new THREE['Vector3'](_0x4d3498['x'],_0x4d3498['y'],_0xa21fcd['z']),new THREE['Vector3'](_0xa21fcd['x'],_0x4d3498['y'],_0xa21fcd['z']),new THREE['Vector3'](_0xa21fcd['x'],_0xa21fcd['y'],_0x4d3498['z']),new THREE['Vector3'](_0x4d3498['x'],_0xa21fcd['y'],_0x4d3498['z']),new THREE['Vector3'](_0x4d3498['x'],_0x4d3498['y'],_0x4d3498['z']),new THREE['Vector3'](_0xa21fcd['x'],_0x4d3498['y'],_0x4d3498['z'])];}['initOrUpdateClipPlanes'](){const {min:_0x5af8f3,max:_0x576683}=this['sectionBox'];!this['clipPlanes']?this['clipPlanes']=[new THREE['Plane'](new THREE['Vector3'](-0x1,0x0,0x0),_0x576683['x']),new THREE['Plane'](new THREE['Vector3'](0x1,0x0,0x0),-_0x5af8f3['x']),new THREE['Plane'](new THREE['Vector3'](0x0,-0x1,0x0),_0x576683['y']),new THREE['Plane'](new THREE['Vector3'](0x0,0x1,0x0),-_0x5af8f3['y']),new THREE['Plane'](new THREE['Vector3'](0x0,0x0,-0x1),_0x576683['z']),new THREE['Plane'](new THREE['Vector3'](0x0,0x0,0x1),-_0x5af8f3['z'])]:(this['clipPlanes'][0x0]['constant']=_0x576683['x'],this['clipPlanes'][0x1]['constant']=-_0x5af8f3['x'],this['clipPlanes'][0x2]['constant']=_0x576683['y'],this['clipPlanes'][0x3]['constant']=-_0x5af8f3['y'],this['clipPlanes'][0x4]['constant']=_0x576683['z'],this['clipPlanes'][0x5]['constant']=-_0x5af8f3['z']);}['initOrUpdateSectionPlaneMeshes'](){const _0x17dd0e=this['vertices'];if(!_0x17dd0e)return;if(!this['planeMeshes']){const _0x5e58d6=[new SectionPlaneMesh(ViewDirection['Right'],[_0x17dd0e[0x4],_0x17dd0e[0x0],_0x17dd0e[0x3],_0x17dd0e[0x7]]),new SectionPlaneMesh(ViewDirection['Left'],[_0x17dd0e[0x1],_0x17dd0e[0x5],_0x17dd0e[0x6],_0x17dd0e[0x2]]),new SectionPlaneMesh(ViewDirection['Top'],[_0x17dd0e[0x4],_0x17dd0e[0x5],_0x17dd0e[0x1],_0x17dd0e[0x0]]),new SectionPlaneMesh(ViewDirection['Bottom'],[_0x17dd0e[0x6],_0x17dd0e[0x7],_0x17dd0e[0x3],_0x17dd0e[0x2]]),new SectionPlaneMesh(ViewDirection['Front'],[_0x17dd0e[0x0],_0x17dd0e[0x1],_0x17dd0e[0x2],_0x17dd0e[0x3]]),new SectionPlaneMesh(ViewDirection['Back'],[_0x17dd0e[0x5],_0x17dd0e[0x4],_0x17dd0e[0x7],_0x17dd0e[0x6]])];this['planeMeshes']=_0x5e58d6,this['scene']['add'](..._0x5e58d6);}else this['planeMeshes'][0x0]['update']([_0x17dd0e[0x4],_0x17dd0e[0x0],_0x17dd0e[0x3],_0x17dd0e[0x7]]),this['planeMeshes'][0x1]['update']([_0x17dd0e[0x1],_0x17dd0e[0x5],_0x17dd0e[0x6],_0x17dd0e[0x2]]),this['planeMeshes'][0x2]['update']([_0x17dd0e[0x4],_0x17dd0e[0x5],_0x17dd0e[0x1],_0x17dd0e[0x0]]),this['planeMeshes'][0x3]['update']([_0x17dd0e[0x6],_0x17dd0e[0x7],_0x17dd0e[0x3],_0x17dd0e[0x2]]),this['planeMeshes'][0x4]['update']([_0x17dd0e[0x0],_0x17dd0e[0x1],_0x17dd0e[0x2],_0x17dd0e[0x3]]),this['planeMeshes'][0x5]['update']([_0x17dd0e[0x5],_0x17dd0e[0x4],_0x17dd0e[0x7],_0x17dd0e[0x6]]);this['viewer']['enableRender']();}['initOrUpdateCapsWireframes'](){const _0x3261a7=this['vertices'];if(!_0x3261a7)return;if(!this['capsWireframes']){const _0x49f070=[this['createCapsWireframe'](ViewDirection['Right'],[_0x3261a7[0x4],_0x3261a7[0x0],_0x3261a7[0x3],_0x3261a7[0x7]]),this['createCapsWireframe'](ViewDirection['Left'],[_0x3261a7[0x1],_0x3261a7[0x5],_0x3261a7[0x6],_0x3261a7[0x2]]),this['createCapsWireframe'](ViewDirection['Top'],[_0x3261a7[0x4],_0x3261a7[0x5],_0x3261a7[0x1],_0x3261a7[0x0]]),this['createCapsWireframe'](ViewDirection['Bottom'],[_0x3261a7[0x6],_0x3261a7[0x7],_0x3261a7[0x3],_0x3261a7[0x2]]),this['createCapsWireframe'](ViewDirection['Front'],[_0x3261a7[0x0],_0x3261a7[0x1],_0x3261a7[0x2],_0x3261a7[0x3]]),this['createCapsWireframe'](ViewDirection['Back'],[_0x3261a7[0x5],_0x3261a7[0x4],_0x3261a7[0x7],_0x3261a7[0x6]])];this['capsWireframes']=_0x49f070,this['capsScene']['add'](..._0x49f070);}else this['capsWireframes'][0x0]['update']([_0x3261a7[0x4],_0x3261a7[0x0],_0x3261a7[0x3],_0x3261a7[0x7]]),this['capsWireframes'][0x1]['update']([_0x3261a7[0x1],_0x3261a7[0x5],_0x3261a7[0x6],_0x3261a7[0x2]]),this['capsWireframes'][0x2]['update']([_0x3261a7[0x4],_0x3261a7[0x5],_0x3261a7[0x1],_0x3261a7[0x0]]),this['capsWireframes'][0x3]['update']([_0x3261a7[0x6],_0x3261a7[0x7],_0x3261a7[0x3],_0x3261a7[0x2]]),this['capsWireframes'][0x4]['update']([_0x3261a7[0x0],_0x3261a7[0x1],_0x3261a7[0x2],_0x3261a7[0x3]]),this['capsWireframes'][0x5]['update']([_0x3261a7[0x5],_0x3261a7[0x4],_0x3261a7[0x7],_0x3261a7[0x6]]);this['viewer']['enableRender']();}['createCapsWireframe'](_0x5418b8,_0x22aa22){const _0x505650=new SectionPlaneMesh(_0x5418b8,_0x22aa22);return _0x505650['material']=this['capsWireframeMaterial'],_0x505650['createIgnoreClipMaterials'](_0x505650['material']),_0x505650['createLine'](),_0x505650;}['activateSelectedObject'](_0x1b9c8c){var _0x2b8b27;(_0x2b8b27=this['selectedObject'])===null||_0x2b8b27===void 0x0?void 0x0:_0x2b8b27['setActive'](_0x1b9c8c);}['onDragStart'](_0x3c2a38){var _0xc230b5;if(!this['selectedObject'])return;log['info']('[Section]\x20onDragStart:',_0x3c2a38),this['refrencePlane']['setFromNormalAndCoplanarPoint'](this['camera']['getWorldDirection'](this['refrencePlane']['normal']),this['selectedObject']['getPlaneCenter']()),(_0xc230b5=this['raycaster'])===null||_0xc230b5===void 0x0?void 0x0:_0xc230b5['ray']['intersectPlane'](this['refrencePlane'],this['lastWorldPos']);}['onDragMove'](_0x3c41cb){var _0x50b645;if(!this['lastWorldPos']||!this['selectedObject'])return;const _0xd465aa=new THREE['Vector3']();(_0x50b645=this['raycaster'])===null||_0x50b645===void 0x0?void 0x0:_0x50b645['ray']['intersectPlane'](this['refrencePlane'],_0xd465aa);const _0x291371=this['selectedObject']['actionType'];switch(_0x291371){case ViewDirection['Top']:case ViewDirection['Bottom']:this['dragTranslateSectionPlane'](AxisY$1,this['lastWorldPos'],_0xd465aa,_0x291371);break;case ViewDirection['Left']:case ViewDirection['Right']:this['dragTranslateSectionPlane'](AxisX$1,this['lastWorldPos'],_0xd465aa,_0x291371);break;case ViewDirection['Front']:case ViewDirection['Back']:this['dragTranslateSectionPlane'](AxisZ$1,this['lastWorldPos'],_0xd465aa,_0x291371);break;}this['lastWorldPos']=_0xd465aa;}['onDragEnd'](_0x51d6d0){log['info']('[Section]\x20onDragEnd:',_0x51d6d0);}['dragTranslateSectionPlane'](_0x3688fe,_0x4828bd,_0x84ddeb,_0x1092e3){const {min:_0x8e7d24,max:_0x24f550}=this['sectionBox'],_0x1a89b0=_0x84ddeb['clone']()['sub'](_0x4828bd)['projectOnVector'](_0x3688fe);let _0x12153f;switch(_0x1092e3){case ViewDirection['Top']:_0x12153f=_0x24f550['y']+_0x1a89b0['y'];this['isInRange'](_0x12153f,this['sectionRange']['y'])&&(_0x24f550['y']=_0x12153f);break;case ViewDirection['Bottom']:_0x12153f=_0x8e7d24['y']+_0x1a89b0['y'];this['isInRange'](_0x12153f,this['sectionRange']['y'])&&(_0x8e7d24['y']=_0x12153f);break;case ViewDirection['Left']:_0x12153f=_0x8e7d24['x']+_0x1a89b0['x'];this['isInRange'](_0x12153f,this['sectionRange']['x'])&&(_0x8e7d24['x']=_0x12153f);break;case ViewDirection['Right']:_0x12153f=_0x24f550['x']+_0x1a89b0['x'];this['isInRange'](_0x12153f,this['sectionRange']['x'])&&(_0x24f550['x']=_0x12153f);break;case ViewDirection['Front']:_0x12153f=_0x24f550['z']+_0x1a89b0['z'];this['isInRange'](_0x12153f,this['sectionRange']['z'])&&(_0x24f550['z']=_0x12153f);break;case ViewDirection['Back']:_0x12153f=_0x8e7d24['z']+_0x1a89b0['z'];this['isInRange'](_0x12153f,this['sectionRange']['z'])&&(_0x8e7d24['z']=_0x12153f);break;}this['initOrUpdateVertices'](),this['initOrUpdateSectionPlaneMeshes'](),this['initOrUpdateClipPlanes'](),this['initOrUpdateCapsWireframes'](),this['viewer']['enableRender']();}['isInRange'](_0xad7f44,_0x2c82a0){return _0xad7f44>_0x2c82a0[0x0]&&_0xad7f44<_0x2c82a0[0x1];}['getIntersection'](_0x3445de){if(!this['raycaster'])return;this['updateRaycasterByMouse'](_0x3445de);const _0x4bf82d=this['raycaster']['intersectObjects'](this['getIntersectObjects']())||[];return _0x4bf82d[0x0];}['getIntersectObjects'](){return this['planeMeshes']||[];}['reset'](){this['sectionBox']=this['viewer']['getBBox'](),this['initOrUpdateVertices'](),this['initOrUpdateSectionPlaneMeshes'](),this['initOrUpdateCapsWireframes'](),this['initOrUpdateClipPlanes'](),this['viewer']['enableRender']();}['setSectionPlaneVisible'](_0x445c7f){var _0x5f392e;(_0x5f392e=this['planeMeshes'])===null||_0x5f392e===void 0x0?void 0x0:_0x5f392e['forEach'](_0x1dc668=>_0x1dc668['visible']=_0x445c7f),this['showSectionPlane']=_0x445c7f,this['viewer']['enableRender']();}['setCapsVisible'](_0x3460a1){var _0x4d1856;super['setCapsVisible'](_0x3460a1),(_0x4d1856=this['capsWireframes'])===null||_0x4d1856===void 0x0?void 0x0:_0x4d1856['forEach'](_0x59395a=>{_0x59395a['visible']=_0x3460a1;}),this['viewer']['enableRender']();}}

const en$7={'pickSectionPlane':'Click\x20to\x20pick\x20a\x20section\x20plane','axisSection':'Axis\x20Section','hideSectionPlane':'Hide\x20Section\x20Panel','showSectionPlane':'Show\x20Section\x20Panel','reset':'Reset'};const cn$7={'pickSectionPlane':'点击确定剖切面','axisSection':'轴剖切','hideSectionPlane':'隐藏剖切面','showSectionPlane':'显示剖切面','reset':'重置'};const i18n$7=i18next['createInstance']();const lng$7='en';i18n$7['init']({'lng':lng$7,'debug':![],'resources':{'en':{'translation':en$7},'cn':{'translation':cn$7}}});

class PickPlaneSection extends BaseSection{constructor(_0x28776b,_0x58396f){super(_0x28776b,_0x58396f),this['mousedown']=_0xf617f9=>{var _0x58cab3;const _0x4816db=_0xf617f9['button']===0x0;if(!_0x4816db)return;if(!this['pickedFaceInfo']){let _0xdf1898=this['pickObject'](_0xf617f9);!_0xdf1898&&this['lastMouseMoveIntersection']&&(_0xdf1898=this['lastMouseMoveIntersection']);if(_0xdf1898&&_0xdf1898['face']){const _0x4a6e2c=_0xdf1898['face']['normal'],_0x3ac358=new THREE['Matrix3']();_0x4a6e2c['applyNormalMatrix'](_0x3ac358['getNormalMatrix'](_0xdf1898['object']['matrixWorld'])),this['pickedFaceInfo']={'position':_0xdf1898['point'],'normal':_0x4a6e2c['normalize']()},this['setSection'](),(_0x58cab3=this['tooltip'])===null||_0x58cab3===void 0x0?void 0x0:_0x58cab3['hide']();}return;}if(!this['selectedObject']){const _0x1a2651=this['getIntersection'](_0xf617f9);if(!_0x1a2651)return;this['activateSelectedObject'](![]),this['selectedObject']=_0x1a2651['object'];}if(!(this['selectedObject']['parent']instanceof SectionGizmo))return;this['inputManager']['setCursor']('grabbing'),this['dragStarted']=!![],this['setControlsEnabled'](![]),this['onDragStart'](_0xf617f9),this['viewer']['enableRender']();},this['mousemove']=_0x15b215=>{var _0x466516,_0x347bb1,_0x437703;if(!this['pickedFaceInfo']){const _0x4af015=this['pickObject'](_0x15b215);_0x4af015?(_0x466516=this['tooltip'])===null||_0x466516===void 0x0?void 0x0:_0x466516['show']():(_0x347bb1=this['tooltip'])===null||_0x347bb1===void 0x0?void 0x0:_0x347bb1['hide']();this['lastMouseMoveIntersection']=_0x4af015;return;}if(this['dragStarted'])this['updateRaycasterByMouse'](_0x15b215),this['onDragMove'](_0x15b215);else {this['activateSelectedObject'](![]),this['selectedObject']=undefined;const _0x452d25=this['getIntersection'](_0x15b215);let _0xd5c93b='default';_0x452d25&&_0x452d25['object']['visible']&&((_0x437703=_0x452d25['object']['parent'])===null||_0x437703===void 0x0?void 0x0:_0x437703['visible'])&&(this['selectedObject']=_0x452d25['object'],this['activateSelectedObject'](!![]),this['selectedObject']['parent']instanceof SectionGizmo&&(_0xd5c93b='grab')),this['inputManager']['setCursor'](_0xd5c93b);}this['viewer']['enableRender']();},this['center']=new THREE['Vector3'](),this['viewer']['addEventListener'](ViewerEvent['BeforeRender'],()=>{var _0x3acd43,_0x32c774,_0x4025f8;this['isActive']&&((_0x3acd43=this['gizmo'])===null||_0x3acd43===void 0x0?void 0x0:_0x3acd43['adjustSize'](this['camera']),(_0x32c774=this['planeMesh'])===null||_0x32c774===void 0x0?void 0x0:_0x32c774['updateWorldMatrix'](!![],!![]),(_0x4025f8=this['capsWireframe'])===null||_0x4025f8===void 0x0?void 0x0:_0x4025f8['updateWorldMatrix'](!![],!![]));});}['activate'](){super['activate'](),this['sectionBox']['getCenter'](this['center']),this['tooltip']=new Tooltip('pick-section-plane',i18n$7['t']('pickSectionPlane'),{'parentNode':this['viewer']['widgetContainer'],'followPointer':!![]});}['deactivate'](_0x1eb47b=![]){var _0x1808c4,_0x369f85,_0x436149;super['deactivate'](_0x1eb47b),(_0x1808c4=this['planeMesh'])===null||_0x1808c4===void 0x0?void 0x0:_0x1808c4['removeFromParent'](),(_0x369f85=this['gizmo'])===null||_0x369f85===void 0x0?void 0x0:_0x369f85['removeFromParent'](),this['planeMesh']=undefined,this['gizmo']=undefined,this['pickedFaceInfo']=undefined,this['lastMouseMoveIntersection']=undefined,(_0x436149=this['tooltip'])===null||_0x436149===void 0x0?void 0x0:_0x436149['destroy'](),this['tooltip']=undefined;}['setSection'](){this['initOrUpdateGizmo'](),this['initOrUpdateSectionPlaneMeshes'](),this['initOrUpdateClipPlanes'](),this['setClippingEnabled'](!![]),this['viewer']['enableRender']();}['reset'](){var _0x574936,_0x12647a,_0x4ef434;(_0x574936=this['planeMesh'])===null||_0x574936===void 0x0?void 0x0:_0x574936['removeFromParent'](),(_0x12647a=this['gizmo'])===null||_0x12647a===void 0x0?void 0x0:_0x12647a['removeFromParent'](),this['setClippingEnabled'](![]),this['planeMesh']=undefined,this['gizmo']=undefined,this['pickedFaceInfo']=undefined,this['lastMouseMoveIntersection']=undefined,(_0x4ef434=this['tooltip'])===null||_0x4ef434===void 0x0?void 0x0:_0x4ef434['show'](),this['viewer']['enableRender']();}['setSectionPlaneVisible'](_0x242a99){this['gizmo']&&this['planeMesh']&&(this['gizmo']['visible']=_0x242a99,this['planeMesh']['visible']=_0x242a99),this['showSectionPlane']=_0x242a99,this['viewer']['enableRender']();}['initOrUpdateClipPlanes'](){if(!this['pickedFaceInfo'])return;const {normal:_0x11761a,position:_0x4152fc}=this['pickedFaceInfo'];this['clipPlane']=new THREE['Plane']()['setFromNormalAndCoplanarPoint'](_0x11761a['clone']()['negate'](),_0x4152fc),this['clipPlane']&&(this['clipPlanes']=[this['clipPlane']]);}['initOrUpdateSectionPlaneMeshes'](){var _0x2d1989;if(!this['pickedFaceInfo'])return;const {normal:_0x41b631,position:_0x8fd089}=this['pickedFaceInfo'],_0x3b63ea=new THREE['Vector3']();this['sectionBox']['getSize'](_0x3b63ea);const _0x274845=_0x3b63ea['length'](),_0x7654a6=_0x8fd089,_0x2abb19=new THREE['Box3']()['setFromCenterAndSize'](_0x7654a6,new THREE['Vector3'](_0x274845,_0x274845,_0x274845)),{min:_0x2386c8,max:_0x46aa71}=_0x2abb19;(_0x2d1989=this['planeMesh'])===null||_0x2d1989===void 0x0?void 0x0:_0x2d1989['removeFromParent'](),this['planeMesh']=new SectionPlaneMesh('Plane',[new THREE['Vector3'](_0x7654a6['x'],_0x46aa71['y'],_0x2386c8['z']),new THREE['Vector3'](_0x7654a6['x'],_0x46aa71['y'],_0x46aa71['z']),new THREE['Vector3'](_0x7654a6['x'],_0x2386c8['y'],_0x46aa71['z']),new THREE['Vector3'](_0x7654a6['x'],_0x2386c8['y'],_0x2386c8['z'])]),this['planeMesh']['setDirection'](_0x41b631),this['planeMesh']&&this['scene']['add'](this['planeMesh']),this['createCapsWireframe'](),this['viewer']['enableRender']();}['createCapsWireframe'](){var _0x356924;if(!this['planeMesh'])return;const {actionType:_0x4ccb8e,vertices:_0xa305b9}=this['planeMesh'];(_0x356924=this['capsWireframe'])===null||_0x356924===void 0x0?void 0x0:_0x356924['removeFromParent'](),this['capsWireframe']=new SectionPlaneMesh(_0x4ccb8e,_0xa305b9);const _0x1aaf56=this['capsWireframeMaterial'];this['capsWireframe']['createIgnoreClipMaterials'](_0x1aaf56),this['capsWireframe']['material']=_0x1aaf56,this['capsWireframe']['createLine'](),this['setCapsVisible'](![]),this['capsWireframe']&&this['capsScene']['add'](this['capsWireframe']);}['initOrUpdateGizmo'](){var _0x1268e0,_0x197ae6;if(!this['pickedFaceInfo'])return;(_0x1268e0=this['gizmo'])===null||_0x1268e0===void 0x0?void 0x0:_0x1268e0['removeFromParent']();const {normal:_0x456644,position:_0x3f2eea}=this['pickedFaceInfo'],_0x4b7530=new SectionGizmo();_0x4b7530['setDirection'](_0x456644),_0x4b7530['position']['copy'](_0x3f2eea),_0x4b7530['adjustSize'](this['camera']),(_0x197ae6=this['scene'])===null||_0x197ae6===void 0x0?void 0x0:_0x197ae6['add'](_0x4b7530),_0x4b7530['updateMatrix'](),_0x4b7530['updateMatrixWorld'](!![]),this['gizmo']=_0x4b7530;}['onDragStart'](_0x4e73ed){var _0x21e7e2;if(!this['pickedFaceInfo']||this['selectedObject']instanceof SectionPlaneMesh)return;log['info']('[Section]\x20onDragStart:',_0x4e73ed);const {position:_0x5eb7b0}=this['pickedFaceInfo'];this['refrencePlane']['setFromNormalAndCoplanarPoint'](this['camera']['getWorldDirection'](this['refrencePlane']['normal']),_0x5eb7b0),(_0x21e7e2=this['raycaster'])===null||_0x21e7e2===void 0x0?void 0x0:_0x21e7e2['ray']['intersectPlane'](this['refrencePlane'],this['lastWorldPos']);}['onDragMove'](_0x59868a){var _0x5893c2,_0x2001d7,_0x3aaa86,_0x5c9755,_0x1bee32,_0x1be717,_0x27e38f;if(!this['lastWorldPos']||!this['selectedObject']||!this['clipPlane']||!this['planeMesh']||!this['gizmo']||!this['gizmo']['visible']||!this['pickedFaceInfo']||this['selectedObject']&&this['selectedObject']instanceof SectionPlaneMesh)return;const _0x32972b=new THREE['Vector3']();(_0x5893c2=this['raycaster'])===null||_0x5893c2===void 0x0?void 0x0:_0x5893c2['ray']['intersectPlane'](this['refrencePlane'],_0x32972b);const _0x83b0aa=this['selectedObject']['userData']['actionType'],{position:_0x26c870}=this['pickedFaceInfo'],_0x438c7e=new THREE['Vector3']()['subVectors'](this['lastWorldPos'],_0x26c870)['normalize'](),_0x24c0f8=new THREE['Vector3']()['subVectors'](_0x32972b,_0x26c870)['normalize'](),_0x1d111d=new THREE['Vector3']()['subVectors'](_0x32972b,this['lastWorldPos'])['projectOnVector'](AxisX$1['clone']()['applyQuaternion'](this['gizmo']['quaternion']));let _0x31599c=_0x438c7e['angleTo'](_0x24c0f8);const _0x422134=new THREE['Vector3']()['crossVectors'](_0x438c7e,_0x24c0f8),_0x441b39=new THREE['Vector3']();this['sectionBox']['getSize'](_0x441b39);const _0x3ae146=Math['max'](_0x441b39['x'],_0x441b39['y'],_0x441b39['z']);let _0x4df968;switch(_0x83b0aa){case ActionType['TranslateX']:case ActionType['TranslateY']:case ActionType['TranslateZ']:_0x4df968=new THREE['Vector3']()['addVectors'](this['gizmo']['position'],_0x1d111d);this['sectionBox']['clone']()['setFromCenterAndSize'](this['center'],new THREE['Vector3'](_0x3ae146,_0x3ae146,_0x3ae146))['containsPoint'](_0x4df968)&&((_0x2001d7=this['gizmo'])===null||_0x2001d7===void 0x0?void 0x0:_0x2001d7['position']['add'](_0x1d111d),(_0x3aaa86=this['planeMesh'])===null||_0x3aaa86===void 0x0?void 0x0:_0x3aaa86['position']['add'](_0x1d111d),(_0x5c9755=this['capsWireframe'])===null||_0x5c9755===void 0x0?void 0x0:_0x5c9755['position']['add'](_0x1d111d));break;case ActionType['RotateX']:{const _0x1da705=AxisX$1['clone']()['applyQuaternion'](this['gizmo']['quaternion']),_0x5d2218=_0x422134['dot'](_0x1da705);_0x5d2218<0x0&&(_0x31599c=-_0x31599c),this['gizmo']['rotateX'](_0x31599c),this['planeMesh']['rotatePlane'](_0x1da705,_0x31599c),(_0x1bee32=this['capsWireframe'])===null||_0x1bee32===void 0x0?void 0x0:_0x1bee32['rotatePlane'](_0x1da705,_0x31599c);}break;case ActionType['RotateY']:{const _0x4c3c11=AxisY$1['clone']()['applyQuaternion'](this['gizmo']['quaternion']),_0x3d22a4=_0x422134['dot'](_0x4c3c11);_0x3d22a4<0x0&&(_0x31599c=-_0x31599c),this['gizmo']['rotateY'](_0x31599c),this['planeMesh']['rotatePlane'](_0x4c3c11,_0x31599c),(_0x1be717=this['capsWireframe'])===null||_0x1be717===void 0x0?void 0x0:_0x1be717['rotatePlane'](_0x4c3c11,_0x31599c);}break;case ActionType['RotateZ']:{const _0x1c14ca=AxisZ$1['clone']()['applyQuaternion'](this['gizmo']['quaternion']),_0x31e857=_0x422134['dot'](_0x1c14ca);_0x31e857<0x0&&(_0x31599c=-_0x31599c),this['gizmo']['rotateZ'](_0x31599c),this['planeMesh']['rotatePlane'](_0x1c14ca,_0x31599c),(_0x27e38f=this['capsWireframe'])===null||_0x27e38f===void 0x0?void 0x0:_0x27e38f['rotatePlane'](_0x1c14ca,_0x31599c);}break;}this['clipPlane']['setFromNormalAndCoplanarPoint'](this['planeMesh']['getPlaneNormal']()['negate'](),this['gizmo']['position']),this['lastWorldPos']=_0x32972b;}['onDragEnd'](_0x703c2d){if(this['selectedObject']instanceof SectionPlaneMesh)return;log['info']('[Section]\x20onDragEnd:',_0x703c2d);}['getIntersectObjects'](){if(!this['planeMesh']||!this['gizmo'])return [];return [this['planeMesh'],this['gizmo']];}['activateSelectedObject'](_0x592403){if(!this['selectedObject'])return;if(this['selectedObject']instanceof SectionPlaneMesh)this['selectedObject']['setActive'](_0x592403);else this['selectedObject']['parent']instanceof SectionGizmo&&this['selectedObject']['parent']['setActive'](_0x592403,this['selectedObject']);}['pickObject'](_0x1e49b7){const _0x31fdff=new THREE['Vector2'](_0x1e49b7['x'],_0x1e49b7['y']);return this['viewer']['pickObject'](_0x31fdff);}['setCapsVisible'](_0x5bffbc){super['setCapsVisible'](_0x5bffbc),this['capsWireframe']&&(this['capsWireframe']['visible']=_0x5bffbc),this['viewer']['enableRender']();}}

var SectionType;(function(_0x4b72f8){_0x4b72f8['ObjectsBoxSection']='ObjectsBoxSection',_0x4b72f8['PickPlaneSection']='PickPlaneSection',_0x4b72f8['AxisPlaneSection']='AxisPlaneSection';}(SectionType||(SectionType={})));class SectionPlugin extends Plugin{constructor(_0x1eece6,_0x5e81ba){const _0x174a84=(_0x5e81ba===null||_0x5e81ba===void 0x0?void 0x0:_0x5e81ba['id'])||SectionPlugin['DEFAULT_ID'];super(_0x1eece6,{'id':_0x174a84}),this['sections']={},this['lastRenderAutoClear']=!![],this['onBeforeRender']=()=>{if(!this['activeSectionType'])return;const _0x3e199d=this['sections'][this['activeSectionType']],_0x3be2b9=_0x3e199d['capsScene'];if(!_0x3e199d['getCapsVisible']())return;this['lastRenderAutoClear']=this['viewer']['renderer']['autoClear'],this['render'](_0x3be2b9);},this['onAfterRender']=()=>{this['viewer']['renderer']['autoClear']=this['lastRenderAutoClear'];},this['cfg']=_0x5e81ba||{},this['initLocalization'](),this['viewer']=_0x1eece6;const _0xfb9e3a=_0x1eece6['getInputManager']();_0xfb9e3a&&(this['sections'][SectionType['ObjectsBoxSection']]=new ObjectsBoxSection(_0x1eece6,_0xfb9e3a),this['sections'][SectionType['AxisPlaneSection']]=new AxisPlaneSection(_0x1eece6,_0xfb9e3a),this['sections'][SectionType['PickPlaneSection']]=new PickPlaneSection(_0x1eece6,_0xfb9e3a)),this['createCapStencilMaterials'](),this['viewer']['addEventListener'](ViewerEvent['BeforeRender'],this['onBeforeRender']),this['viewer']['addEventListener'](ViewerEvent['AfterRender'],this['onAfterRender']);}['initLocalization'](){const _0x371c60=this['cfg']['language']||DefaultLanguage;i18n$7['changeLanguage'](_0x371c60);}get['raycaster'](){return this['viewer']['getRaycaster']();}['createCapStencilMaterials'](){this['backMaterial']=new THREE['MeshBasicMaterial']({'color':0xff0000,'colorWrite':![],'depthWrite':![],'side':THREE['BackSide']}),this['frontMaterial']=new THREE['MeshBasicMaterial']({'color':0xff,'colorWrite':![],'depthWrite':![],'side':THREE['FrontSide']});}['render'](_0x111f6a){const _0x534a0e=this['viewer'],_0x31a64f=_0x534a0e['renderer'],_0x3504fc=_0x31a64f['getClearAlpha']();_0x31a64f['autoClear']&&(_0x31a64f['clear'](),_0x31a64f['setClearAlpha'](0x0),_0x31a64f['autoClear']=![]);const _0x3829a9=this['viewer']['name']===ViewerName['Viewer3d']||this['viewer']['name']===ViewerName['BimTilesViewer'];_0x3829a9&&_0x534a0e['getSsaoEnabled']()&&_0x31a64f['clear']();const _0x263007=_0x31a64f['getContext'](),_0x43e9a0=_0x31a64f['state'];_0x43e9a0['buffers']['stencil']['setTest'](!![]),_0x43e9a0['buffers']['stencil']['setLocked'](!![]),_0x43e9a0['buffers']['stencil']['setFunc'](_0x263007['ALWAYS'],0x1,0xff),_0x43e9a0['buffers']['stencil']['setOp'](_0x263007['KEEP'],_0x263007['KEEP'],_0x263007['INCR']),_0x534a0e['scene']['overrideMaterial']=this['backMaterial'],_0x534a0e['scene']['userData']['backFrontStencil']=!![],_0x31a64f['render'](_0x534a0e['scene'],_0x534a0e['camera']),_0x43e9a0['buffers']['stencil']['setFunc'](_0x263007['ALWAYS'],0x1,0xff),_0x43e9a0['buffers']['stencil']['setOp'](_0x263007['KEEP'],_0x263007['KEEP'],_0x263007['DECR']),_0x534a0e['scene']['overrideMaterial']=this['frontMaterial'],_0x31a64f['render'](_0x534a0e['scene'],_0x534a0e['camera']),_0x534a0e['scene']['userData']['backFrontStencil']=![],_0x43e9a0['buffers']['stencil']['setFunc'](_0x263007['LEQUAL'],0x1,0xff),_0x43e9a0['buffers']['stencil']['setOp'](_0x263007['KEEP'],_0x263007['KEEP'],_0x263007['KEEP']),_0x31a64f['render'](_0x111f6a,_0x534a0e['camera']),_0x43e9a0['buffers']['stencil']['setTest'](![]),_0x43e9a0['buffers']['stencil']['setLocked'](![]),_0x31a64f['setClearAlpha'](_0x3504fc),_0x534a0e['scene']['overrideMaterial']=null;}['activate'](_0x409811){this['activeSectionType']&&this['deactivate'](![]),this['activeSectionType']=_0x409811,this['sections'][_0x409811]['activate'](),this['enableSelection']=this['viewer']['enableSelection'],this['viewer']['enableSelection']=![];}['deactivate'](_0x5bc924=![]){const _0x42ed63=this['activeSectionType'];_0x42ed63&&this['sections'][_0x42ed63]['deactivate'](_0x5bc924),this['activeSectionType']=undefined,this['enableSelection']!=null&&(this['viewer']['enableSelection']=this['enableSelection']),this['enableSelection']=undefined;}['reset'](){const _0x4de8c6=this['activeSectionType'];if(_0x4de8c6){const _0x3ac5dc=this['sections'][_0x4de8c6];_0x3ac5dc['reset']();}}['setSectionPlaneVisible'](_0x5e7bc9){const _0x53dac4=this['activeSectionType'];if(_0x53dac4){const _0x467962=this['sections'][_0x53dac4];_0x467962['setSectionPlaneVisible'](_0x5e7bc9);}}['isActive'](){const _0x34e65a=this['activeSectionType'];if(_0x34e65a)return this['sections'][_0x34e65a]['isActive'];return !!this['getActiveSectionType']();}['getActiveSectionType'](){return this['activeSectionType'];}['getActiveSection'](){if(!this['activeSectionType'])return undefined;return this['sections'][this['activeSectionType']];}['setClippingObjectIds'](_0x750cd0){for(const _0x5a1f61 in this['sections']){this['setClippingObjectIdsForType'](_0x5a1f61,_0x750cd0);}}['setClippingObjectIdsForType'](_0x496757,_0x2a1cd7){this['sections'][_0x496757]['clearClippingObjectIds'](),(_0x2a1cd7===null||_0x2a1cd7===void 0x0?void 0x0:_0x2a1cd7['length'])&&(this['sections'][_0x496757]['clippingObjetIds']=_0x2a1cd7,this['sections'][_0x496757]['setClippingEnabled'](!![]));}['destroy'](){var _0x1315c3,_0xe38983;(_0x1315c3=this['backMaterial'])===null||_0x1315c3===void 0x0?void 0x0:_0x1315c3['dispose'](),(_0xe38983=this['frontMaterial'])===null||_0xe38983===void 0x0?void 0x0:_0xe38983['dispose'](),this['viewer']['removeEventListener'](ViewerEvent['BeforeRender'],this['onBeforeRender']),this['viewer']['removeEventListener'](ViewerEvent['AfterRender'],this['onAfterRender']),Object['keys'](this['sections'])['forEach'](_0x572696=>{const _0x421bb5=_0x572696;this['sections'][_0x421bb5]['destroy']();});}}SectionPlugin['DEFAULT_ID']='SectionPlugin';

class Viewer3dDatGuiPlugin extends Plugin{constructor(_0x4eb32f){super(_0x4eb32f,{'id':'Viewer3dDatGuiPlugin'}),this['controls']={'showGroundGrid':![],'showGroundGrass':![],'skyMode':['None','Black\x20Background','White\x20Background','Gradient\x20ramp','Cloudy'],'environments':['None','Default\x20(City\x20Streat\x2064x32)','Venice\x20Sunset','Footprint\x20Court\x20(HDR\x20Labs)','City\x20Street'],'homeView':()=>console['log']('[DGH]\x20Go\x20to\x20home\x20view'),'views':['Top','Bottom','Front','Back','Left','Right'],'OrthographicCamera':![],'viewpoints':![],'annotations':![],'takeSnapshot':()=>console['log']('[DGH]\x20Taking\x20snapshot...'),'takeSnapshotForViewerBBox':()=>console['log']('[DGH]\x20Taking\x20snapshot\x20for\x20objects...'),'fullScreen':()=>console['log']('[DGH]\x20Full\x20screen...'),'webcam':![],'uploadFile':()=>console['log']('[DGH]\x20Upload\x20file...'),'showTreeView':![],'showPropertyPanel':![],'transparentMode':![],'enableOutline':![],'doubleSidedMaterial':![],'showVertexNormals':![],'explode':0x1,'sectionMode':['No\x20section','Box\x20section','Pick\x20plane\x20section','Axis\x20plane\x20section'],'alVisible':!![],'alColor':'#cccccc','alIntensity':0x1,'dlColor':'#dddddd','showDlHelper':![],'hlVisible':!![],'hlIntensity':0x1,'hlColor':[0xff,0xff,0xff,0.6],'hlGroundColor':[0xc8,0xff,0xc8,0.6],'fogEnabled':![],'fogColor':0xdddddd,'fogNearDistance':0x1,'fogFarDistance':0x3e8,'distanceCullingFactor':0x64,'errorTarget':0x8},this['viewer']=_0x4eb32f,this['init']();}['init'](){if(!this['viewer']||!this['viewer']['renderer']||!this['viewer']['scene'])throw new Error('Need\x20to\x20initialize\x20renderer,\x20scene\x20first!');const _0x385e21=this['viewer'],_0x2a1046=this['viewer']['scene'],_0xdef9f3=this['controls'];this['gui']=new GUI$1({'name':'controls','autoPlace':!![],'width':0x12c,'closed':!![]}),this['gui']['domElement']['style']['opacity']='0.6';const _0x3d2e00=this['gui']['addFolder']('Common\x20settings');_0x3d2e00['add'](_0xdef9f3,'showGroundGrid')['name']('Show\x20ground\x20grid')['onChange'](_0x2376f0=>{let _0x36c8d1=_0x385e21['findPlugin']('GroundGridPlugin');!_0x36c8d1?_0x36c8d1=new GroundGridPlugin(_0x385e21):_0x36c8d1['setVisible'](_0x2376f0);}),_0x3d2e00['add'](_0xdef9f3,'showGroundGrass')['name']('Show\x20ground\x20grass')['onChange'](_0x4ae0f2=>{let _0x418e3c=_0x385e21['findPlugin']('GroundGrassPlugin');!_0x418e3c?_0x418e3c=new GroundGrassPlugin(_0x385e21):_0x418e3c['setVisible'](_0x4ae0f2);});const _0x5b8c23=_0x3d2e00['add'](_0xdef9f3,'environments',_0xdef9f3['environments'])['name']('Environments');_0x5b8c23['onChange'](_0x1b83bd=>{let _0x2bd144='';if(_0x1b83bd==='Default\x20(City\x20Streat\x2064x32)'){_0x385e21['setEnvironmentData']();return;}else {if(_0x1b83bd==='Venice\x20Sunset')_0x2bd144='venice_sunset_1k.hdr';else {if(_0x1b83bd==='Footprint\x20Court\x20(HDR\x20Labs)')_0x2bd144='footprint_court_2k.hdr';else _0x1b83bd==='City\x20Street'&&(_0x2bd144='city_street_256.hdr');}}_0x2bd144===''?(_0x2a1046['environment']=null,_0x385e21['enableRender']()):(_0x2bd144=window['location']['origin']+'/demo/images/envmap/'+_0x2bd144,_0x385e21['setEnvironment'](_0x2bd144));}),_0x3d2e00['add'](_0xdef9f3,'homeView')['name']('Go\x20to\x20home\x20view')['onChange'](()=>{_0x385e21['goToHomeView']();}),_0x3d2e00['add'](_0xdef9f3,'views',_0xdef9f3['views'])['name']('Views')['onChange'](_0x456239=>{const _0x5da2bd=_0x5fb28a=>{const _0x29917b=new THREE['Vector3'](0x1,0x0,0x0);if(_0x5fb28a===ViewDirection['Top'])_0x29917b['set'](0x0,-0x1,0x0);else {if(_0x5fb28a===ViewDirection['Bottom'])_0x29917b['set'](0x0,0x1,0x0);else {if(_0x5fb28a===ViewDirection['Front'])_0x29917b['set'](0x0,0x0,-0x1);else {if(_0x5fb28a===ViewDirection['Back'])_0x29917b['set'](0x0,0x0,0x1);else {if(_0x5fb28a===ViewDirection['Left'])_0x29917b['set'](0x1,0x0,0x0);else _0x5fb28a===ViewDirection['Right']&&_0x29917b['set'](-0x1,0x0,0x0);}}}}return _0x29917b;},_0x198fb0=_0x5da2bd(_0x456239);_0x385e21['flyToDirection'](_0x198fb0);}),_0x3d2e00['add'](_0xdef9f3,'OrthographicCamera')['name']('Orth\x20Camera')['onChange'](_0x553ab5=>{_0x385e21['setCameraProjection'](_0x553ab5?CameraProjection['Orthographic']:CameraProjection['Perspective']);}),_0x3d2e00['add'](_0xdef9f3,'takeSnapshot')['name']('Take\x20snapshot')['onChange'](()=>{let _0x116d67=_0x385e21['findPlugin']('ScreenshotPlugin');!_0x116d67&&(_0x116d67=new ScreenshotPlugin(_0x385e21));const _0x370957=_0x116d67['getScreenshot'](),_0x3bd97f=document['createElement']('a');_0x3bd97f['href']=_0x370957,_0x3bd97f['download']='',_0x3bd97f['click']();}),_0x3d2e00['add'](_0xdef9f3,'takeSnapshotForViewerBBox')['name']('Take\x20snapshot\x20for\x20viewer\x20bbox')['onChange'](()=>{let _0x2f6781=_0x385e21['findPlugin']('ScreenshotPlugin');!_0x2f6781&&(_0x2f6781=new ScreenshotPlugin(_0x385e21));const _0xa25e16=async()=>{const _0x56f3b0=_0x385e21['getBBox'](),_0x180c33=await _0x2f6781['getScreenshotByWorldBBox'](_0x56f3b0),_0xcffd57=document['createElement']('a');_0xcffd57['href']=_0x180c33,_0xcffd57['download']='',_0xcffd57['click']();};_0xa25e16();}),_0x3d2e00['add'](_0xdef9f3,'fullScreen')['name']('Full\x20screen')['onChange'](()=>{_0x260427&&_0x260427['isEnabled']&&_0x260427['request'](),_0x385e21['enableRender']();});_0x385e21 instanceof Viewer3d&&_0x3d2e00['add'](_0xdef9f3,'uploadFile')['name']('Upload\x20file')['onChange'](()=>{const _0x210c0b=new LocalModelUploader(_0x385e21);_0x210c0b['openFileBrowserToUpload']();});const _0xd1be0b=this['gui']['addFolder']('Model\x20operations');_0xd1be0b['add'](_0xdef9f3,'transparentMode',_0xdef9f3['transparentMode'])['name']('Transparent\x20mode')['onChange'](_0x2b23f1=>{_0x2b23f1?_0x385e21['setModelsOpacity'](0.03):_0x385e21['clearModelsOpacity'](),_0x385e21['enableRender']();}),_0xd1be0b['add'](_0xdef9f3,'enableOutline',_0xdef9f3['enableOutline'])['name']('Show\x20outlines')['onChange'](_0x424ea0=>{_0x385e21['enableModelsOutline'](_0x424ea0),_0x385e21['enableRender']();}),_0xd1be0b['add'](_0xdef9f3,'doubleSidedMaterial',_0xdef9f3['doubleSidedMaterial'])['name']('Double-sided\x20material')['onChange'](_0x506f1e=>{_0x506f1e?_0x385e21['setDoubleSidedMaterials']():_0x385e21['revertDoubleSidedMaterials'](),_0x385e21['enableRender']();}),_0xd1be0b['add'](_0xdef9f3,'showVertexNormals',_0xdef9f3['showVertexNormals'])['name']('Show\x20Vertex\x20Normals')['onChange'](_0x1ed2fa=>{_0x385e21['showVertexNormals'](_0x1ed2fa),_0x385e21['enableRender']();}),_0xd1be0b['add'](_0xdef9f3,'explode',0x1,0x5)['name']('Explode\x20tool')['onChange'](_0x14608f=>{let _0x43f7ba=_0x385e21['findPlugin']('ExplodePlugin');!_0x43f7ba&&(_0x43f7ba=new ExplodePlugin(_0x385e21)),_0x43f7ba['explode'](_0x14608f);}),_0xd1be0b['add'](_0xdef9f3,'sectionMode',_0xdef9f3['sectionMode'])['name']('Section\x20mode')['onChange'](_0x3668e0=>{let _0x2d4a9d=_0x385e21['findPlugin']('SectionPlugin');!_0x2d4a9d&&(_0x2d4a9d=new SectionPlugin(_0x385e21));if(_0x3668e0==='No\x20section')_0x2d4a9d['deactivate']();else {if(_0x3668e0==='Box\x20section')_0x2d4a9d['activate'](SectionType['ObjectsBoxSection']);else {if(_0x3668e0==='Pick\x20plane\x20section')_0x2d4a9d['activate'](SectionType['PickPlaneSection']);else _0x3668e0==='Axis\x20plane\x20section'&&_0x2d4a9d['activate'](SectionType['AxisPlaneSection']);}}_0x385e21['enableRender']();});const _0x13f787=this['viewer']['getLights']()['ambient'],_0x3d0516=this['gui']['addFolder']('Ambient\x20light');_0x3d0516['add'](_0xdef9f3,'alVisible',_0xdef9f3['alVisible'])['name']('visible')['onChange'](_0x39e493=>{_0x13f787&&(_0x13f787['visible']=_0x39e493),_0x385e21['enableRender']();}),_0x3d0516['addColor'](_0xdef9f3,'alColor')['name']('color')['onChange'](_0x14ac41=>{_0x13f787&&(_0x13f787['color']=new THREE['Color'](_0x14ac41)),_0x385e21['enableRender']();}),_0x3d0516['add'](_0xdef9f3,'alIntensity',0x0,0x5)['name']('intensity')['onChange'](_0x2de308=>{_0x13f787&&(_0x13f787['intensity']=_0x2de308),_0x385e21['enableRender']();});const _0x237bae=this['viewer']['getLights']()['sun'];if(_0x237bae){const _0x93f886=this['gui']['addFolder']('Directional\x20light');_0x93f886['add'](_0x237bae,'visible')['name']('visible')['onChange'](_0x565b04=>{_0x237bae&&(_0x237bae['visible']=_0x565b04),_0x385e21['enableRender']();}),_0x93f886['addColor'](_0xdef9f3,'dlColor')['name']('color')['onChange'](_0x501c20=>{_0x237bae&&(_0x237bae['color']=new THREE['Color'](_0x501c20)),_0x385e21['enableRender']();}),_0x93f886['add'](_0x237bae,'intensity',0x0,0x5)['name']('intensity')['onChange'](_0x2002a1=>{_0x237bae&&(_0x237bae['intensity']=_0x2002a1),_0x385e21['enableRender']();}),_0x93f886['add'](_0x237bae,'castShadow')['name']('castShadow')['onChange'](_0x2546fc=>{_0x237bae&&(_0x237bae['castShadow']=_0x2546fc),_0x385e21['enableRender']();}),_0x93f886['add'](_0xdef9f3,'showDlHelper')['name']('showDlHelper')['onChange'](_0x327fcd=>{_0x385e21['debugLights'](_0x327fcd),_0x385e21['enableRender']();});}const _0x14aad6=this['viewer']['getLights']()['hemisphere'],_0x31d198=this['gui']['addFolder']('Hemisphere\x20Light');_0x31d198['add'](_0xdef9f3,'hlVisible',_0xdef9f3['hlVisible'])['name']('visible')['onChange'](_0x187fe8=>{_0x14aad6&&(_0x14aad6['visible']=_0x187fe8),_0x385e21['enableRender']();}),_0x31d198['add'](_0xdef9f3,'hlIntensity',0x0,0x5)['name']('intensity')['onChange'](_0x10badc=>{_0x14aad6&&(_0x14aad6['intensity']=_0x10badc),_0x385e21['enableRender']();}),_0x31d198['addColor'](_0xdef9f3,'hlColor')['name']('color')['onChange'](_0x13c52f=>{_0x14aad6&&(_0x14aad6['color']=new THREE['Color'](_0x13c52f)),_0x385e21['enableRender']();}),_0x31d198['addColor'](_0xdef9f3,'hlGroundColor')['name']('groundColor')['onChange'](_0x225912=>{_0x14aad6&&(_0x14aad6['groundColor']=new THREE['Color'](_0x225912)),_0x385e21['enableRender']();});const _0xd2541=this['gui']['addFolder']('Fog');_0xd2541['add'](_0xdef9f3,'fogEnabled',_0xdef9f3['fogEnabled'])['name']('Enabled')['onChange'](_0x4d7ce7=>{_0x4d7ce7?_0x2a1046['fog']=new THREE['Fog'](_0xdef9f3['fogColor'],_0xdef9f3['fogNearDistance'],_0xdef9f3['fogFarDistance']):_0x2a1046['fog']=null,_0x385e21['enableRender']();}),_0xd2541['add'](_0xdef9f3,'fogNearDistance',0x0,0x64)['name']('Near')['onChange'](_0x5c20b3=>{_0xdef9f3['fogEnabled']&&_0x2a1046&&(_0x2a1046['fog']=new THREE['Fog'](_0xdef9f3['fogColor'],_0x5c20b3,_0xdef9f3['fogFarDistance'])),_0x385e21['enableRender']();}),_0xd2541['add'](_0xdef9f3,'fogFarDistance',0x64,0x7d0)['name']('Far')['onChange'](_0x438b8a=>{_0xdef9f3['fogEnabled']&&_0x2a1046&&(_0x2a1046['fog']=new THREE['Fog'](_0xdef9f3['fogColor'],_0xdef9f3['fogNearDistance'],_0x438b8a)),_0x385e21['enableRender']();});const _0xe3609c=this['gui']['addFolder']('Performance');_0x385e21['getDistanceCullingFactor']&&_0xe3609c['add'](_0xdef9f3,'distanceCullingFactor',0xa,0x3e8)['name']('Distance\x20Culling\x20Factor')['onChange'](_0x5d9f34=>{_0x385e21['setDistanceCullingFactor'](_0x5d9f34),_0x385e21['enableRender']();})['setValue'](_0x385e21['getDistanceCullingFactor']()),_0x385e21['getErrorTarget']&&_0xe3609c['add'](_0xdef9f3,'errorTarget',0x0,0x14,0.1)['name']('Error\x20Target')['onChange'](_0x264deb=>{_0x385e21['setErrorTarget'](_0x264deb),_0x385e21['enableRender']();})['setValue'](_0x385e21['getErrorTarget']());}['open'](){this['gui']&&this['gui']['open']();}['close'](){this['gui']&&this['gui']['close']();}['destroy'](){super['destroy'](),this['gui']&&this['gui']['destroy'](),this['gui']=undefined;}}

var css_248z$a = ".layer-manager{height:350px;left:20px;top:30px;width:330px}.layer-manager .content .layer-list-item{align-items:center;border-bottom:1px solid #ccc;display:flex;padding:6px;white-space:nowrap}.layer-manager .content .layer-list-item:hover{background-color:#f0f8ff}.layer-manager .content .popup-layer-color{display:inline-block;font-size:12px;margin-left:5px;width:20px}.layer-manager .content .item-color{border:1px solid #000;font-size:12px;height:16px;margin-left:8px;min-width:18px;width:18px}.layer-manager .content .item-layer-name{display:inline-block;font-size:12px;margin-left:10px;overflow:hidden;padding:1px 0;text-overflow:ellipsis;width:280px}.layer-manager .content .popup-freeze{color:#ccc;font-size:12px;margin-right:5px;width:50px}";
styleInject(css_248z$a);

class LayerManagerPlugin extends Plugin{constructor(_0x3dd42d,_0x195711){const _0x33514b=(_0x195711===null||_0x195711===void 0x0?void 0x0:_0x195711['id'])||LayerManagerPlugin['DEFAULT_ID'];super(_0x3dd42d,{'id':_0x33514b}),this['cfg']=_0x195711||{},this['cfg']['visible']!==![]&&this['init']();}['init'](){var _0x2b37c6;const _0x1a7a89=this['viewer'];this['cfg']['containerId']&&(this['container']=document['getElementById'](this['cfg']['containerId'])),!this['container']&&(this['container']=_0x1a7a89['widgetContainer']),this['dxfLayersArray']=_0x1a7a89['getLayers'](),this['basePanel']=new BasePanel({'container':this['container'],'title':'Layers','cssClass':'layer-manager','onClose':()=>this['onClose'](),'viewportContainer':this['viewer']['viewerContainer']}),this['content']=(_0x2b37c6=this['basePanel'])===null||_0x2b37c6===void 0x0?void 0x0:_0x2b37c6['content'],this['addContent']();}['setVisible'](_0x2d542a){_0x2d542a&&!this['basePanel']&&this['init'](),this['basePanel']&&(this['basePanel']['setVisible'](_0x2d542a),this['dispatchEvent']('visibilitychange',_0x2d542a));}['isVisible'](){var _0x1ca0e6;return !!((_0x1ca0e6=this['basePanel'])===null||_0x1ca0e6===void 0x0?void 0x0:_0x1ca0e6['isVisible']());}['onClose'](){this['dispatchEvent']('visibilitychange',![]);}['destroy'](){var _0x1f793e,_0x3e3c82,_0x30c221;super['destroy'](),super['destroy'](),(_0x1f793e=this['checkboxes'])===null||_0x1f793e===void 0x0?void 0x0:_0x1f793e['forEach'](_0x30ea1f=>{_0x30ea1f['removeEventListener']('change',()=>{this['checkboxHandler'](_0x30ea1f);});}),(_0x3e3c82=this['content'])===null||_0x3e3c82===void 0x0?void 0x0:_0x3e3c82['remove'](),(_0x30c221=this['basePanel'])===null||_0x30c221===void 0x0?void 0x0:_0x30c221['destroy']();}['addContent'](){var _0x2a0f0a;if(!this['content'])return;let _0x4b6640='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22layer-list-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22toggleAllLayers\x22\x20checked\x20class=\x22checkbox\x22></input>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22popup-layer-color\x22>Color</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22item-layer-name\x22>&nbsp;&nbsp;Layer\x20name</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';this['layerList']=document['createElement']('div'),this['layerList']['classList']['add']('layer-list'),this['content']['appendChild'](this['layerList']),this['updateHeaderText']();if(this['dxfLayersArray']){const _0x318b94=this['dxfLayersArray']['length']>0x1;for(let _0x16222e=0x0;_0x16222e<this['dxfLayersArray']['length'];++_0x16222e){const _0x1806a9=this['dxfLayersArray'][_0x16222e]['layers'];let _0x3869d9=Object['keys'](_0x1806a9);_0x3869d9=_0x3869d9['sort']((_0x3c6933,_0x4266d2)=>{const _0x2a9abb=/[a-zA-Z0-9]/,_0x294234=_0x3c6933['toString'](),_0x286ef5=_0x4266d2['toString']();if(_0x2a9abb['test'](_0x294234[0x0])||_0x2a9abb['test'](_0x286ef5[0x0])){if(_0x294234>_0x286ef5)return 0x1;else return _0x294234<_0x286ef5?-0x1:0x0;}else return _0x294234['localeCompare'](_0x286ef5);});for(const _0x28b699 of _0x3869d9){const _0x1b066a=_0x1806a9[_0x28b699],_0x4cf15b=_0x318b94?'&lt;'+this['dxfLayersArray'][_0x16222e]['modelId']+'&gt;\x20'+_0x28b699:_0x28b699,_0x348e7f=this['convertDecimalToHex'](_0x1b066a['color']),_0x343755=this['generateListItem'](_0x4cf15b,_0x1b066a['visible'],_0x348e7f);_0x4b6640+=_0x343755;}}}this['layerList']&&(this['layerList']['innerHTML']=_0x4b6640);const _0x3045fc=(_0x2a0f0a=this['content'])===null||_0x2a0f0a===void 0x0?void 0x0:_0x2a0f0a['querySelectorAll']('input[type=checkbox]');this['checkboxes']=[]['slice']['call'](_0x3045fc,0x0),this['checkboxes']['forEach'](_0x1f091e=>{_0x1f091e['addEventListener']('change',()=>{this['checkboxHandler'](_0x1f091e);});});}['generateListItem'](_0x3fc8c0,_0x307225,_0x34f437){const _0x160264=_0x34f437?'background-color:\x20'+_0x34f437:'opacity:\x200.1',_0x9d337d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22layer-list-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22'+_0x3fc8c0+'\x22\x20'+(_0x307225?'checked':'')+'\x20class=\x22checkbox\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-color\x22\x20style=\x22'+_0x160264+'\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22item-layer-name\x22\x20title=\x22'+_0x3fc8c0+'\x22>'+_0x3fc8c0+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';return _0x9d337d;}['checkboxHandler'](_0x2922e5){var _0x3a31ad;if(!this['dxfLayersArray']||!this['checkboxes'])return;const _0x43bee5=this['viewer'];if(_0x2922e5['id']==='toggleAllLayers'){for(let _0xac677f=0x0;_0xac677f<this['dxfLayersArray']['length'];++_0xac677f){const _0x2c0a18=this['dxfLayersArray'][_0xac677f]['modelId'],_0x27844d=this['dxfLayersArray'][_0xac677f]['layers'];Object['keys'](_0x27844d)['forEach'](_0x190721=>{_0x43bee5['setLayerVisibility'](_0x190721,_0x2922e5['checked'],_0x2c0a18);});}(_0x3a31ad=this['checkboxes'])===null||_0x3a31ad===void 0x0?void 0x0:_0x3a31ad['forEach'](_0x4ae8bc=>_0x4ae8bc['checked']=_0x2922e5['checked']);return;}let _0x391a64='',_0x19c601=_0x2922e5['value'];const _0x9a41b2=_0x19c601['indexOf']('>');_0x9a41b2!==-0x1&&(_0x391a64=_0x19c601['slice'](0x1,_0x9a41b2),_0x19c601=_0x19c601['slice'](_0x9a41b2+0x2)),!_0x391a64&&(_0x391a64=this['dxfLayersArray'][0x0]['modelId']),_0x43bee5['setLayerVisibility'](_0x19c601,_0x2922e5['checked'],_0x391a64);}['updatePage'](){if(!this['dxfLayersArray'])return;const _0x242b68=this['viewer'],_0x536c20=_0x242b68['getLayers']();if(_0x536c20['length']===this['dxfLayersArray']['length'])return;this['dxfLayersArray']=_0x536c20,this['addContent'](),this['updateHeaderText']();}['updateHeaderText'](){if(!this['dxfLayersArray']||!this['basePanel'])return;let _0x1b02cf=0x0;for(let _0x2bb749=0x0;_0x2bb749<this['dxfLayersArray']['length'];++_0x2bb749){const _0x46fb13=this['dxfLayersArray'][_0x2bb749]['layers'];_0x1b02cf+=Object['keys'](_0x46fb13)['length'];}this['basePanel']['setTitle']('Layers\x20(count:\x20'+_0x1b02cf+')');}['convertDecimalToHex'](_0x3c99af){if(_0x3c99af===undefined)return undefined;const _0x49464e=_0x3c99af['toString'](0x10);return '#'+_0x49464e['padStart'](0x6,'0');}}LayerManagerPlugin['DEFAULT_ID']='LayerManagerPlugin';

var css_248z$9 = ".export-plugin{left:50%;top:50%;transform:translate(-50%,-50%)}.export-plugin .content{display:flex;flex:1 1 auto;flex-direction:column}.export-plugin .content .export{flex:1 1 auto;list-style:none;margin-bottom:5px}.export-plugin .content .export li{list-style:none;margin:2px;padding:8px;vertical-align:text-top}.export-plugin .content .export li:hover{box-shadow:0 4px 8px rgba(0,0,0,.1)}.export-plugin .content .export span,.export-plugin .content label{margin-right:5px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:50%}.export-plugin .content .export select{vertical-align:middle;width:45%}.export-plugin .content .foot{background:#fff;box-shadow:0 -2px 8px rgba(0,0,0,.04);flex-shrink:0;padding:10px;text-align:right;width:100%}";
styleInject(css_248z$9);

var ExportFormats;(function(_0x10ac16){_0x10ac16['Glb']='glb',_0x10ac16['Gltf']='gltf',_0x10ac16['Obj']='obj',_0x10ac16['Stl']='stl',_0x10ac16['Ply']='ply';}(ExportFormats||(ExportFormats={})));const DefaultGltfExportOptions={'trs':![],'binary':!![],'embedImages':!![],'onlyVisible':!![],'includeCustomExtensions':!![]};class ExportPlugin extends Plugin{constructor(_0x25f618,_0x5dfcf1){const _0x18b65c=(_0x5dfcf1===null||_0x5dfcf1===void 0x0?void 0x0:_0x5dfcf1['id'])||ExportPlugin['DEFAULT_ID'];super(_0x25f618,{'id':_0x18b65c}),this['saveArrayBufferAsFile']=(_0x525e36,_0x2586c0)=>{this['saveBlobAsFile'](new Blob([_0x525e36],{'type':'application/octet-stream'}),_0x2586c0);},this['cfg']=_0x5dfcf1||{'id':_0x18b65c},this['viewer3d']=_0x25f618;}['exportGltf'](_0x2c3dae,_0x34ead6=DefaultGltfExportOptions,_0x259223=null){this['viewer3d']['clearSelection']();let _0xe676f0=[];if(_0x259223)_0xe676f0=_0x259223;else {const _0x2249c7=this['viewer']['getSceneManager']()['getModelsRoot']();_0xe676f0=_0x2249c7['children'];}const _0x5dfedc=new THREEAddons['GLTFExporter']();_0x5dfedc['parse'](_0xe676f0,_0x3f76b2=>{if(_0x3f76b2 instanceof ArrayBuffer)this['saveArrayBufferAsFile'](_0x3f76b2,(_0x2c3dae||'scene')+'.glb');else {const _0x227c83=JSON['stringify'](_0x3f76b2,null,0x2);console['log'](_0x227c83),this['saveStringAsFile'](_0x227c83,(_0x2c3dae||'scene')+'.gltf');}},_0x5db4e7=>{console['error'](_0x5db4e7);},_0x34ead6);}['exportObj'](_0x36ef04,_0x32468b=null){if(!THREEAddons['OBJExporter']){console['error']('OBJExporter\x20is\x20not\x20available\x20in\x20THREEAddons.');return;}this['viewer3d']['clearSelection']();let _0x1e7f1a=_0x32468b;if(!_0x1e7f1a){_0x1e7f1a=new THREE['Group']();const _0x371f10=this['viewer']['getSceneManager']()['getModelsRoot']();_0x371f10['children']['forEach'](_0x17389a=>_0x1e7f1a===null||_0x1e7f1a===void 0x0?void 0x0:_0x1e7f1a['add'](_0x17389a['clone'](!![])));}const _0x429a73=new THREEAddons['OBJExporter'](),_0x38dde4=_0x429a73['parse'](_0x1e7f1a);typeof _0x38dde4==='string'?this['saveStringAsFile'](_0x38dde4,(_0x36ef04||'scene')+'.obj'):console['error']('Unexpected\x20OBJ\x20export\x20result\x20type.');}['exportStl'](_0x5b4590,_0x5877d5=null){if(!THREEAddons['STLExporter']){console['error']('STLExporter\x20is\x20not\x20available\x20in\x20THREEAddons.');return;}this['viewer3d']['clearSelection']();let _0x55bd52=_0x5877d5;if(!_0x55bd52){_0x55bd52=new THREE['Group']();const _0x3bc342=this['viewer']['getSceneManager']()['getModelsRoot']();_0x3bc342['children']['forEach'](_0x215e19=>_0x55bd52===null||_0x55bd52===void 0x0?void 0x0:_0x55bd52['add'](_0x215e19['clone'](!![])));}const _0xeba21d=new THREEAddons['STLExporter'](),_0x1b4016=_0xeba21d['parse'](_0x55bd52);if(typeof _0x1b4016==='string'||_0x1b4016 instanceof ArrayBuffer){const _0x4ecdc8=typeof _0x1b4016==='string'?new Blob([_0x1b4016],{'type':'model/stl'}):new Blob([_0x1b4016],{'type':'application/octet-stream'});this['saveBlobAsFile'](_0x4ecdc8,(_0x5b4590||'scene')+'.stl');}else console['error']('Unexpected\x20STL\x20export\x20result\x20type.');}['exportPly'](_0x2c1bcc,_0x2df62c=!![],_0x11f6e5=null){if(!THREEAddons['PLYExporter']){console['error']('PLYExporter\x20is\x20not\x20available\x20in\x20THREEAddons.');return;}this['viewer3d']['clearSelection']();let _0x2bf984=_0x11f6e5;if(!_0x2bf984){_0x2bf984=new THREE['Group']();const _0x5133a4=this['viewer']['getSceneManager']()['getModelsRoot']();_0x5133a4['children']['forEach'](_0xda8ca8=>_0x2bf984===null||_0x2bf984===void 0x0?void 0x0:_0x2bf984['add'](_0xda8ca8['clone'](!![])));}const _0x57416c=new THREEAddons['PLYExporter'](),_0x444328=_0x57416c['parse'](_0x2bf984,()=>{log['info']('PLY\x20export\x20completed.');},{'binary':_0x2df62c});if(typeof _0x444328==='string')this['saveStringAsFile'](_0x444328,(_0x2c1bcc||'scene')+'.ply');else _0x444328 instanceof ArrayBuffer?this['saveArrayBufferAsFile'](_0x444328,(_0x2c1bcc||'scene')+'.ply'):console['error']('Unexpected\x20PLY\x20export\x20result\x20type.');}['showExportPanel'](_0x3abbd1=ExportFormats['Glb'],_0x2572e2='scene',_0x2ab76f=null){!this['basePanel']&&(this['basePanel']=new BasePanel({'container':this['viewer3d']['widgetContainer'],'title':'Export\x20Options','cssClass':'export-plugin','viewportContainer':this['viewer3d']['viewerContainer']}));const _0xa3c792=this['basePanel']['content'];let _0x445770='';Object['values'](ExportFormats)['forEach'](_0x573fc9=>{_0x445770+='<option\x20value=\x22'+_0x573fc9+'\x22\x20'+(_0x573fc9===_0x3abbd1?'selected':'')+'>'+_0x573fc9['toUpperCase']()+'</option>';}),_0xa3c792['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22export\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22targetFormat\x22>Format</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22targetFormat\x22>\x20'+_0x445770+'\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22embedTextures\x22\x20type=\x22checkbox\x22}>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22embedTextures\x22>Embed\x20Textures</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22embedGeometry\x22\x20type=\x22checkbox\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22embedGeometry\x22>Embed\x20Geometry</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22useTrsTransforms\x22\x20type=\x22checkbox\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22useTrsTransforms\x22>Use\x20TRS\x20Transforms</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22visibleObjects\x22\x20type=\x22checkbox\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22visibleObjects\x22>Visible\x20Objects</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22customExtensions\x22\x20type=\x22checkbox\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22customExtensions\x22>Custom\x20Extensions</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li><!--\x20for\x20ply\x20-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22binary\x22\x20type=\x22checkbox\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22binary\x22>Binary</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22filename\x22>Filename</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22filename\x22\x20type=\x22text\x22\x20value=\x22'+_0x2572e2+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22foot\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22exportBtn\x22\x20type=\x22button\x22\x20class=\x22export-btn\x22\x20value=\x22Export\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';const _0x42972a=_0xa3c792['querySelector']('#targetFormat');_0x42972a['addEventListener']('change',()=>_0x5f2087());const _0x4d492c=_0xa3c792['querySelector']('#exportBtn');_0x4d492c['onclick']=()=>{var _0x355e79;const _0x1e52d5=_0xa3c792['querySelector']('#targetFormat'),_0xb0488b=_0x1e52d5['value'],_0x3bbba0=_0xa3c792['querySelector']('#filename'),_0x148e1a=_0x3bbba0['value']['replace'](/\.[^/.]+$/,''),_0x2b8c0=_0x148e1a||'scene';if(_0xb0488b===ExportFormats['Glb']||_0xb0488b===ExportFormats['Gltf']){const _0x45fa94=_0xa3c792['querySelector']('#embedTextures'),_0x1eea65=_0xa3c792['querySelector']('#useTrsTransforms'),_0x50d34f=_0xa3c792['querySelector']('#visibleObjects'),_0x133f0d=_0xa3c792['querySelector']('#customExtensions'),_0x162bc3={'trs':_0x1eea65['checked'],'binary':_0xb0488b===ExportFormats['Glb'],'embedImages':_0x45fa94['checked'],'onlyVisible':_0x50d34f['checked'],'includeCustomExtensions':_0x133f0d['checked']};this['exportGltf'](_0x2b8c0,_0x162bc3,_0x2ab76f);}else {if(_0xb0488b===ExportFormats['Obj'])this['exportObj'](_0x2b8c0,_0x2ab76f);else {if(_0xb0488b===ExportFormats['Stl'])this['exportStl'](_0x2b8c0,_0x2ab76f);else {if(_0xb0488b===ExportFormats['Ply']){const _0x3c6040=_0xa3c792['querySelector']('#binary');this['exportPly'](_0x2b8c0,_0x3c6040['checked'],_0x2ab76f);}}}}(_0x355e79=this['basePanel'])===null||_0x355e79===void 0x0?void 0x0:_0x355e79['setVisible'](![]);};const _0x5f2087=()=>{const _0xbf7407=_0xa3c792['querySelector']('#targetFormat'),_0x5aff24=_0xbf7407['value'],_0x5d7f68=_0x5aff24===ExportFormats['Glb'],_0x4f63ba=_0x5aff24===ExportFormats['Gltf'],_0x251719=_0x5d7f68||_0x4f63ba?'block':'none',_0x2e044f=_0xa3c792['querySelector']('#embedTextures'),_0x22cfae=_0xa3c792['querySelector']('#embedGeometry'),_0x5234a1=_0xa3c792['querySelector']('#useTrsTransforms'),_0x231ca0=_0xa3c792['querySelector']('#visibleObjects'),_0x2d58c2=_0xa3c792['querySelector']('#customExtensions'),_0x25ad0c=_0xa3c792['querySelector']('#binary');_0x2e044f['parentElement']['style']['display']=_0x251719,_0x22cfae['parentElement']['style']['display']=_0x251719,_0x5234a1['parentElement']['style']['display']=_0x251719,_0x231ca0['parentElement']['style']['display']=_0x251719,_0x2d58c2['parentElement']['style']['display']=_0x251719,_0x25ad0c['parentElement']['style']['display']=_0x5aff24===ExportFormats['Ply']?'block':'none';if(_0x5aff24===ExportFormats['Glb'])_0x2e044f['checked']=!![],_0x22cfae['checked']=!![],_0x2e044f['disabled']=!![],_0x22cfae['disabled']=!![];else _0x5aff24===ExportFormats['Gltf']&&(_0x2e044f['checked']=![],_0x22cfae['checked']=![],_0x2e044f['disabled']=![],_0x22cfae['disabled']=![]);const _0x2fae2e=_0xa3c792['querySelector']('#filename');_0x2fae2e['value']=_0x2572e2+'.'+_0x5aff24['toLowerCase']();};_0x5f2087(),this['basePanel']['setVisible'](!![]);}['saveBlobAsFile'](_0x2a4329,_0x4aa19a){const _0x43f005=document['createElement']('a');_0x43f005['style']['display']='none',document['body']['appendChild'](_0x43f005),_0x43f005['href']=URL['createObjectURL'](_0x2a4329),_0x43f005['download']=_0x4aa19a,_0x43f005['click']();}['saveStringAsFile'](_0x378773,_0x5bcd66){this['saveBlobAsFile'](new Blob([_0x378773],{'type':'text/plain'}),_0x5bcd66);}['destroy'](){super['destroy']();}}ExportPlugin['DEFAULT_ID']='ExportPlugin';

const DefaultBlur=0x5,DefaultDarkness=0.8,DefaultUpdateDelay=0x7d0;class GroundShadowPlugin extends Plugin{constructor(_0x1abc4f,_0x26dbbc){const _0x21784e=(_0x26dbbc===null||_0x26dbbc===void 0x0?void 0x0:_0x26dbbc['id'])||GroundShadowPlugin['DEFAULT_ID'];super(_0x1abc4f,{'id':_0x21784e}),this['enabled']=!![],this['shouldRender']=![],this['onModelUpdate']=()=>{if(!this['enabled'])return;this['timeout']&&clearTimeout(this['timeout']),this['timeout']=setTimeout(()=>{this['update']();},this['cfg']['updateDelay']||DefaultUpdateDelay);},this['onShadowRender']=()=>{var _0x3aac52,_0x26d9b3,_0x466993,_0x5eff53,_0x39d45b;this['shouldRender']&&(this['render'](),(_0x3aac52=this['shadowCamera'])===null||_0x3aac52===void 0x0?void 0x0:_0x3aac52['removeFromParent'](),this['shadowCamera']=undefined,(_0x26d9b3=this['blurPlane'])===null||_0x26d9b3===void 0x0?void 0x0:_0x26d9b3['removeFromParent'](),this['blurPlane']=undefined,(_0x466993=this['depthMaterial'])===null||_0x466993===void 0x0?void 0x0:_0x466993['dispose'](),this['depthMaterial']=undefined,(_0x5eff53=this['horizontalBlurMaterial'])===null||_0x5eff53===void 0x0?void 0x0:_0x5eff53['dispose'](),this['horizontalBlurMaterial']=undefined,(_0x39d45b=this['verticalBlurMaterial'])===null||_0x39d45b===void 0x0?void 0x0:_0x39d45b['dispose'](),this['verticalBlurMaterial']=undefined,this['shouldRender']=![]);},this['cfg']=_0x26dbbc||{'id':_0x21784e},this['cfg']['blur']===undefined&&(this['cfg']['blur']=DefaultBlur),this['cfg']['darkness']===undefined&&(this['cfg']['darkness']=DefaultDarkness),this['cfg']['updateDelay']===undefined&&(this['cfg']['updateDelay']=DefaultUpdateDelay),this['cfg']['enabled']===undefined&&(this['cfg']['enabled']=!![]),this['enabled']=this['cfg']['enabled'],this['viewer']['addEventListener'](ViewerEvent['ModelLoad'],this['onModelUpdate']),this['viewer']['addEventListener'](ViewerEvent['ModelRemove'],this['onModelUpdate']),this['viewer']['addEventListener'](ViewerEvent['BeforeRender'],this['onShadowRender']);}get['scene'](){return this['viewer']['scene'];}get['renderer'](){return this['viewer']['renderer'];}['setEnabled'](_0x35acf3){this['enabled']=_0x35acf3,this['enabled']?this['update']():this['shadowGroup']&&(this['shadowGroup']['removeFromParent'](),this['shadowGroup']=undefined),this['viewer']['enableRender']();}['isEnabled'](){return this['enabled'];}['update'](){if(!this['enabled'])return;this['initMaterial'](),this['initRenderTarget'](),this['updateGroundShadow'](),this['shouldRender']=!![],this['viewer']['enableRender']();}['initMaterial'](){this['depthMaterial']=new THREE['MeshDepthMaterial'](),this['depthMaterial']['userData']['darkness']={'value':this['cfg']['darkness']},this['depthMaterial']['onBeforeCompile']=_0x4bbb43=>{var _0x47ac98;_0x4bbb43['uniforms']['darkness']=(_0x47ac98=this['depthMaterial'])===null||_0x47ac98===void 0x0?void 0x0:_0x47ac98['userData']['darkness'],_0x4bbb43['fragmentShader']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20darkness;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4bbb43['fragmentShader']['replace']('gl_FragColor\x20=\x20vec4(\x20vec3(\x201.0\x20-\x20fragCoordZ\x20),\x20opacity\x20);','gl_FragColor\x20=\x20vec4(\x20vec3(\x200.0\x20),\x20(\x201.0\x20-\x20fragCoordZ\x20)\x20*\x20darkness\x20);')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';},this['depthMaterial']['depthTest']=![],this['depthMaterial']['depthWrite']=![],this['horizontalBlurMaterial']=new THREE['ShaderMaterial'](THREEAddons['HorizontalBlurShader']),this['horizontalBlurMaterial']['depthTest']=![],this['verticalBlurMaterial']=new THREE['ShaderMaterial'](THREEAddons['VerticalBlurShader']),this['verticalBlurMaterial']['depthTest']=![];}['initRenderTarget'](){const _0x57c541=0x80;this['renderTarget']=new THREE['WebGLRenderTarget'](_0x57c541,_0x57c541),this['renderTarget']['texture']['generateMipmaps']=![],this['renderTargetBlur']=new THREE['WebGLRenderTarget'](_0x57c541,_0x57c541),this['renderTargetBlur']['texture']['generateMipmaps']=![];}['updateGroundShadow'](){var _0x238de3,_0x4b983c,_0x23997c;const _0x27777d=this['viewer']['getBBox'](),_0x959f57=new THREE['Group']();_0x959f57['name']='ground-shadow',ObjectUtils['disableLayerChannels'](_0x959f57,[LayerForSelectableObjects,LayerForSnapableObjects]),(_0x238de3=this['scene'])===null||_0x238de3===void 0x0?void 0x0:_0x238de3['add'](_0x959f57);const {min:_0x3dca1b,max:_0x463dbd}=_0x27777d,_0x14ede1=new THREE['Vector3']();_0x27777d['getSize'](_0x14ede1),_0x14ede1['multiplyScalar'](0x2);const _0x4f5ce9=new THREE['Vector3']();_0x27777d['getCenter'](_0x4f5ce9);const _0xb1d7cf=new THREE['PlaneGeometry'](_0x14ede1['x'],_0x14ede1['z'])['rotateX'](Math['PI']/0x2),_0x1fc013=new THREE['MeshBasicMaterial']({'map':(_0x4b983c=this['renderTarget'])===null||_0x4b983c===void 0x0?void 0x0:_0x4b983c['texture'],'transparent':!![],'depthWrite':![]}),_0x866a67=new THREE['Mesh'](_0xb1d7cf,_0x1fc013);_0x866a67['renderOrder']=0x1,_0x866a67['position']['set'](_0x4f5ce9['x'],_0x3dca1b['y'],_0x4f5ce9['z']),_0x866a67['scale']['y']=-0x1,_0x959f57===null||_0x959f57===void 0x0?void 0x0:_0x959f57['add'](_0x866a67),this['shadowCamera']=new THREE['OrthographicCamera'](-_0x14ede1['x']/0x2,_0x14ede1['x']/0x2,_0x14ede1['z']/0x2,-_0x14ede1['z']/0x2,-_0x14ede1['y']/0x2,_0x14ede1['y']),this['shadowCamera']['position']['set'](_0x4f5ce9['x'],_0x3dca1b['y'],_0x4f5ce9['z']),this['shadowCamera']['lookAt'](_0x4f5ce9['x'],_0x463dbd['y'],_0x4f5ce9['z']),this['shadowCamera']['updateProjectionMatrix'](),_0x959f57['add'](this['shadowCamera']);const _0x2baa8c=new THREE['Mesh'](_0xb1d7cf);_0x2baa8c['position']['set'](_0x4f5ce9['x'],_0x3dca1b['y'],_0x4f5ce9['z']),_0x2baa8c['visible']=![],_0x959f57['add'](_0x2baa8c),this['blurPlane']=_0x2baa8c,(_0x23997c=this['shadowGroup'])===null||_0x23997c===void 0x0?void 0x0:_0x23997c['removeFromParent'](),this['shadowGroup']=_0x959f57,this['shadowGroup']['updateWorldMatrix'](!![],!![]);}['blurShadow'](_0x2a4880){if(!this['renderer']||!this['blurPlane']||!this['renderTarget']||!this['renderTargetBlur']||!this['shadowCamera']||!this['horizontalBlurMaterial']||!this['verticalBlurMaterial'])return;this['blurPlane']['visible']=!![],this['blurPlane']['material']=this['horizontalBlurMaterial'],this['horizontalBlurMaterial']['uniforms']['tDiffuse']['value']=this['renderTarget']['texture'],this['horizontalBlurMaterial']['uniforms']['h']['value']=_0x2a4880*0x1/0x100,this['renderer']['setRenderTarget'](this['renderTargetBlur']),this['renderer']['render'](this['blurPlane'],this['shadowCamera']),this['blurPlane']['material']=this['verticalBlurMaterial'],this['verticalBlurMaterial']['uniforms']['tDiffuse']['value']=this['renderTargetBlur']['texture'],this['verticalBlurMaterial']['uniforms']['v']['value']=_0x2a4880*0x1/0x100,this['renderer']['setRenderTarget'](this['renderTarget']),this['renderer']['render'](this['blurPlane'],this['shadowCamera']),this['blurPlane']['visible']=![];}['render'](){if(!this['enabled'])return;if(!this['renderer']||!this['scene']||!this['renderTarget']||!this['shadowCamera']||!this['depthMaterial'])return;const _0x153557=this['scene']['background'];this['scene']['background']=null,this['scene']['overrideMaterial']=this['depthMaterial'];const _0x51cce0=this['renderer']['getClearAlpha']();this['renderer']['setClearAlpha'](0x0),this['renderer']['setRenderTarget'](this['renderTarget']),this['renderer']['render'](this['scene'],this['shadowCamera']),this['scene']['overrideMaterial']=null;const _0x168ac8=this['cfg']['blur']||0x5;this['blurShadow'](_0x168ac8),this['blurShadow'](_0x168ac8*0.4),this['renderer']['setRenderTarget'](null),this['renderer']['setClearAlpha'](_0x51cce0),this['scene']['background']=_0x153557;}['destroy'](){var _0xbe58a6,_0x2b601e,_0x598826,_0x95b0e8,_0x137469,_0xbe3910,_0x4ef7d0;super['destroy'](),this['viewer']['removeEventListener'](ViewerEvent['ModelLoad'],this['onModelUpdate']),this['viewer']['removeEventListener'](ViewerEvent['BeforeRender'],this['onShadowRender']),(_0xbe58a6=this['shadowCamera'])===null||_0xbe58a6===void 0x0?void 0x0:_0xbe58a6['removeFromParent'](),this['shadowCamera']=undefined,(_0x2b601e=this['blurPlane'])===null||_0x2b601e===void 0x0?void 0x0:_0x2b601e['removeFromParent'](),this['blurPlane']=undefined,(_0x598826=this['depthMaterial'])===null||_0x598826===void 0x0?void 0x0:_0x598826['dispose'](),this['depthMaterial']=undefined,(_0x95b0e8=this['horizontalBlurMaterial'])===null||_0x95b0e8===void 0x0?void 0x0:_0x95b0e8['dispose'](),this['horizontalBlurMaterial']=undefined,(_0x137469=this['verticalBlurMaterial'])===null||_0x137469===void 0x0?void 0x0:_0x137469['dispose'](),this['verticalBlurMaterial']=undefined,(_0xbe3910=this['renderTarget'])===null||_0xbe3910===void 0x0?void 0x0:_0xbe3910['dispose'](),this['renderTarget']=undefined,(_0x4ef7d0=this['renderTargetBlur'])===null||_0x4ef7d0===void 0x0?void 0x0:_0x4ef7d0['dispose'](),this['renderTargetBlur']=undefined;}}GroundShadowPlugin['DEFAULT_ID']='GroundShadowPlugin';

class HotpointPlugin extends Plugin{constructor(_0x1db364){super(_0x1db364,{'id':'HotpointPlugin'}),this['onAfterRender']=()=>{var _0x2d079f;const _0x3952c4=this['viewer']['scene'],_0x575273=this['viewer']['camera'];if(!_0x3952c4||!_0x575273||!this['hotpointRoot']||this['hotpointRoot']['children']['length']===0x0)return;(_0x2d079f=this['css2dRenderer'])===null||_0x2d079f===void 0x0?void 0x0:_0x2d079f['render'](_0x3952c4,_0x575273);},this['css2dRenderer']=this['viewer']['getCssRender'](),this['viewer']['addEventListener'](ViewerEvent['AfterRender'],this['onAfterRender']);}['add'](_0xc12147){var _0x1d2db0;const _0x207529=this['has'](_0xc12147['hotpointId']);if(_0x207529){log['warn']('[Hotpoint]\x20Hotpoint\x20with\x20id\x20\x27'+_0xc12147['hotpointId']+'\x27\x20already\x20exist!');return;}const _0xec4def=_0xc12147['anchorPosition'],_0x4166c9=CSS2DObjectUtils['createHotpoint'](_0xc12147['html']);_0x4166c9['position']['set'](_0xec4def[0x0]||0x0,_0xec4def[0x1]||0x0,_0xec4def[0x2]||0x0),_0x4166c9['visible']=_0xc12147['visible']!==![],_0x4166c9['userData']['hotpoint']=_0xc12147,!this['hotpointRoot']&&(this['hotpointRoot']=new THREE['Group'](),this['hotpointRoot']['matrixAutoUpdate']=MatrixAutoUpdate,this['hotpointRoot']['matrixWorldAutoUpdate']=![],this['hotpointRoot']['name']='HotpointRoot',(_0x1d2db0=this['viewer']['scene'])===null||_0x1d2db0===void 0x0?void 0x0:_0x1d2db0['add'](this['hotpointRoot'])),this['hotpointRoot']['add'](_0x4166c9),_0x4166c9['updateWorldMatrix'](![],![]),this['viewer']['enableRender']();}['remove'](_0x3e3947){var _0x559dd3,_0x4b084b;const _0x499760=((_0x559dd3=this['hotpointRoot'])===null||_0x559dd3===void 0x0?void 0x0:_0x559dd3['children'])||[];for(let _0x93d91d=0x0;_0x93d91d<_0x499760['length'];++_0x93d91d){const _0x540b24=_0x499760[_0x93d91d];((_0x4b084b=_0x540b24['userData']['hotpoint'])===null||_0x4b084b===void 0x0?void 0x0:_0x4b084b['hotpointId'])===_0x3e3947&&_0x540b24['removeFromParent']();}}['clear'](){var _0x8a641;(_0x8a641=this['hotpointRoot'])===null||_0x8a641===void 0x0?void 0x0:_0x8a641['clear']();}['has'](_0x3195f7){return !!this['findHotpointObject'](_0x3195f7);}['move'](_0x322744,_0x1b10a1){const _0x52e28a=this['findHotpointObject'](_0x322744);if(_0x52e28a){const _0x21c9de=_0x1b10a1['z']||0x0;_0x52e28a['position']['set'](_0x1b10a1['x'],_0x1b10a1['y'],_0x21c9de),_0x52e28a['updateWorldMatrix'](![],![]),this['viewer']['enableRender']();}}['setVisible'](_0x589252,_0x5ca889){const _0x1d4d96=this['findHotpointObject'](_0x589252);_0x1d4d96&&(_0x1d4d96['visible']=_0x5ca889);}['findHotpointObject'](_0x329488){var _0x4693b6;const _0x4f8e18=((_0x4693b6=this['hotpointRoot'])===null||_0x4693b6===void 0x0?void 0x0:_0x4693b6['children'])||[],_0xb5c1e2=_0x4f8e18['find'](_0x53c760=>{var _0x5a6f3d;return ((_0x5a6f3d=_0x53c760['userData']['hotpoint'])===null||_0x5a6f3d===void 0x0?void 0x0:_0x5a6f3d['hotpointId'])===_0x329488;});return _0xb5c1e2;}['flyToHotpoint'](_0xd5a866){const _0x18e440=this['findHotpointObject'](_0xd5a866);if(!_0x18e440)return;_0x18e440['updateWorldMatrix'](![],![]);const _0x43a309=_0x18e440['position'],_0x115a5c=this['viewer']['camera']['position'],_0x28ada3=new THREE['Vector3'](_0x43a309['x'],_0x43a309['y'],_0x115a5c['z']),_0x586bd7=new THREE['Vector3'](_0x43a309['x'],_0x43a309['y'],0x0);this['viewer']['flyTo'](_0x28ada3,_0x586bd7);}['destroy'](){super['destroy'](),this['clear']();}}

var css_248z$8 = ".drag-drop-zone{align-items:center;background:transparent;border:2px dashed #0a0;color:#0a0;display:none;font-size:1.5rem;height:100%;justify-content:center;pointer-events:none;position:absolute;top:0;transition:border-color .2s;width:100%}";
styleInject(css_248z$8);

var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};

function getDefaultExportFromCjs (x) {
	return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;
}

var clipper = {exports: {}};

(function(_0x180052){(function(){var _0x23c0c3={};_0x23c0c3['version']='6.4.2.2',_0x23c0c3['use_lines']=!![],_0x23c0c3['use_xyz']=![];var _0x3514dc=![];if(_0x180052['exports'])_0x180052['exports']=_0x23c0c3,_0x3514dc=!![];else {if(typeof document!=='undefined')window['ClipperLib']=_0x23c0c3;else self['ClipperLib']=_0x23c0c3;}var _0x391230;if(!_0x3514dc){var _0x71d334=navigator['userAgent']['toString']()['toLowerCase']();_0x391230=navigator['appName'];}else {var _0x71d334='chrome';_0x391230='Netscape';}var _0x5d5b0a={};if(_0x71d334['indexOf']('chrome')!=-0x1&&_0x71d334['indexOf']('chromium')==-0x1)_0x5d5b0a['chrome']=0x1;else _0x5d5b0a['chrome']=0x0;if(_0x71d334['indexOf']('chromium')!=-0x1)_0x5d5b0a['chromium']=0x1;else _0x5d5b0a['chromium']=0x0;if(_0x71d334['indexOf']('safari')!=-0x1&&_0x71d334['indexOf']('chrome')==-0x1&&_0x71d334['indexOf']('chromium')==-0x1)_0x5d5b0a['safari']=0x1;else _0x5d5b0a['safari']=0x0;if(_0x71d334['indexOf']('firefox')!=-0x1)_0x5d5b0a['firefox']=0x1;else _0x5d5b0a['firefox']=0x0;if(_0x71d334['indexOf']('firefox/17')!=-0x1)_0x5d5b0a['firefox17']=0x1;else _0x5d5b0a['firefox17']=0x0;if(_0x71d334['indexOf']('firefox/15')!=-0x1)_0x5d5b0a['firefox15']=0x1;else _0x5d5b0a['firefox15']=0x0;if(_0x71d334['indexOf']('firefox/3')!=-0x1)_0x5d5b0a['firefox3']=0x1;else _0x5d5b0a['firefox3']=0x0;if(_0x71d334['indexOf']('opera')!=-0x1)_0x5d5b0a['opera']=0x1;else _0x5d5b0a['opera']=0x0;if(_0x71d334['indexOf']('msie\x2010')!=-0x1)_0x5d5b0a['msie10']=0x1;else _0x5d5b0a['msie10']=0x0;if(_0x71d334['indexOf']('msie\x209')!=-0x1)_0x5d5b0a['msie9']=0x1;else _0x5d5b0a['msie9']=0x0;if(_0x71d334['indexOf']('msie\x208')!=-0x1)_0x5d5b0a['msie8']=0x1;else _0x5d5b0a['msie8']=0x0;if(_0x71d334['indexOf']('msie\x207')!=-0x1)_0x5d5b0a['msie7']=0x1;else _0x5d5b0a['msie7']=0x0;if(_0x71d334['indexOf']('msie\x20')!=-0x1)_0x5d5b0a['msie']=0x1;else _0x5d5b0a['msie']=0x0;_0x23c0c3['biginteger_used']=null;var _0x5b3c19;function _0xe5670c(_0x2cfaf0,_0x1d4f4e,_0x2304c3){_0x23c0c3['biginteger_used']=0x1;if(_0x2cfaf0!=null){if('number'==typeof _0x2cfaf0&&'undefined'==typeof _0x1d4f4e)this['fromInt'](_0x2cfaf0);else {if('number'==typeof _0x2cfaf0)this['fromNumber'](_0x2cfaf0,_0x1d4f4e,_0x2304c3);else {if(_0x1d4f4e==null&&'string'!=typeof _0x2cfaf0)this['fromString'](_0x2cfaf0,0x100);else this['fromString'](_0x2cfaf0,_0x1d4f4e);}}}}function _0x3308fc(){return new _0xe5670c(null,undefined,undefined);}function _0x25ebe1(_0x20b70f,_0x4f9c5d,_0x150ca8,_0x1d0547,_0x5d7138,_0x517bc2){while(--_0x517bc2>=0x0){var _0x4beee9=_0x4f9c5d*this[_0x20b70f++]+_0x150ca8[_0x1d0547]+_0x5d7138;_0x5d7138=Math['floor'](_0x4beee9/0x4000000),_0x150ca8[_0x1d0547++]=_0x4beee9&0x3ffffff;}return _0x5d7138;}function _0xc2cd63(_0x47be8d,_0x4d23d1,_0x55c0a6,_0x856509,_0x53e62a,_0x4240d3){var _0x20e353=_0x4d23d1&0x7fff,_0x5e9ed1=_0x4d23d1>>0xf;while(--_0x4240d3>=0x0){var _0x1130ab=this[_0x47be8d]&0x7fff,_0x546cc2=this[_0x47be8d++]>>0xf,_0x2c156f=_0x5e9ed1*_0x1130ab+_0x546cc2*_0x20e353;_0x1130ab=_0x20e353*_0x1130ab+((_0x2c156f&0x7fff)<<0xf)+_0x55c0a6[_0x856509]+(_0x53e62a&0x3fffffff),_0x53e62a=(_0x1130ab>>>0x1e)+(_0x2c156f>>>0xf)+_0x5e9ed1*_0x546cc2+(_0x53e62a>>>0x1e),_0x55c0a6[_0x856509++]=_0x1130ab&0x3fffffff;}return _0x53e62a;}function _0xb3b10f(_0x3913a9,_0x50182b,_0x36fd8b,_0x3a3deb,_0x70e17b,_0x101123){var _0x233888=_0x50182b&0x3fff,_0x2d8db1=_0x50182b>>0xe;while(--_0x101123>=0x0){var _0x272583=this[_0x3913a9]&0x3fff,_0x2db33a=this[_0x3913a9++]>>0xe,_0xa41692=_0x2d8db1*_0x272583+_0x2db33a*_0x233888;_0x272583=_0x233888*_0x272583+((_0xa41692&0x3fff)<<0xe)+_0x36fd8b[_0x3a3deb]+_0x70e17b,_0x70e17b=(_0x272583>>0x1c)+(_0xa41692>>0xe)+_0x2d8db1*_0x2db33a,_0x36fd8b[_0x3a3deb++]=_0x272583&0xfffffff;}return _0x70e17b;}if(_0x391230=='Microsoft\x20Internet\x20Explorer')_0xe5670c['prototype']['am']=_0xc2cd63,_0x5b3c19=0x1e;else _0x391230!='Netscape'?(_0xe5670c['prototype']['am']=_0x25ebe1,_0x5b3c19=0x1a):(_0xe5670c['prototype']['am']=_0xb3b10f,_0x5b3c19=0x1c);_0xe5670c['prototype']['DB']=_0x5b3c19,_0xe5670c['prototype']['DM']=(0x1<<_0x5b3c19)-0x1,_0xe5670c['prototype']['DV']=0x1<<_0x5b3c19;var _0x4caff6=0x34;_0xe5670c['prototype']['FV']=Math['pow'](0x2,_0x4caff6),_0xe5670c['prototype']['F1']=_0x4caff6-_0x5b3c19,_0xe5670c['prototype']['F2']=0x2*_0x5b3c19-_0x4caff6;var _0x522bff='0123456789abcdefghijklmnopqrstuvwxyz',_0x5007f9=new Array(),_0x506ab3,_0x459ae4;_0x506ab3='0'['charCodeAt'](0x0);for(_0x459ae4=0x0;_0x459ae4<=0x9;++_0x459ae4)_0x5007f9[_0x506ab3++]=_0x459ae4;_0x506ab3='a'['charCodeAt'](0x0);for(_0x459ae4=0xa;_0x459ae4<0x24;++_0x459ae4)_0x5007f9[_0x506ab3++]=_0x459ae4;_0x506ab3='A'['charCodeAt'](0x0);for(_0x459ae4=0xa;_0x459ae4<0x24;++_0x459ae4)_0x5007f9[_0x506ab3++]=_0x459ae4;function _0x4b38da(_0x232db5){return _0x522bff['charAt'](_0x232db5);}function _0x391016(_0x1ac600,_0x330639){var _0x4e168a=_0x5007f9[_0x1ac600['charCodeAt'](_0x330639)];return _0x4e168a==null?-0x1:_0x4e168a;}function _0x2fe6e1(_0x11f8e3){for(var _0x2891a5=this['t']-0x1;_0x2891a5>=0x0;--_0x2891a5)_0x11f8e3[_0x2891a5]=this[_0x2891a5];_0x11f8e3['t']=this['t'],_0x11f8e3['s']=this['s'];}function _0x2921ac(_0x1799c6){this['t']=0x1,this['s']=_0x1799c6<0x0?-0x1:0x0;if(_0x1799c6>0x0)this[0x0]=_0x1799c6;else {if(_0x1799c6<-0x1)this[0x0]=_0x1799c6+this['DV'];else this['t']=0x0;}}function _0x5f5669(_0x286145){var _0x106930=_0x3308fc();return _0x106930['fromInt'](_0x286145),_0x106930;}function _0x243512(_0x31a003,_0x2d2e23){var _0x3aa43c;if(_0x2d2e23==0x10)_0x3aa43c=0x4;else {if(_0x2d2e23==0x8)_0x3aa43c=0x3;else {if(_0x2d2e23==0x100)_0x3aa43c=0x8;else {if(_0x2d2e23==0x2)_0x3aa43c=0x1;else {if(_0x2d2e23==0x20)_0x3aa43c=0x5;else {if(_0x2d2e23==0x4)_0x3aa43c=0x2;else {this['fromRadix'](_0x31a003,_0x2d2e23);return;}}}}}}this['t']=0x0,this['s']=0x0;var _0x5d4e1d=_0x31a003['length'],_0x16a0f4=![],_0x3152b2=0x0;while(--_0x5d4e1d>=0x0){var _0x1e64b1=_0x3aa43c==0x8?_0x31a003[_0x5d4e1d]&0xff:_0x391016(_0x31a003,_0x5d4e1d);if(_0x1e64b1<0x0){if(_0x31a003['charAt'](_0x5d4e1d)=='-')_0x16a0f4=!![];continue;}_0x16a0f4=![];if(_0x3152b2==0x0)this[this['t']++]=_0x1e64b1;else {if(_0x3152b2+_0x3aa43c>this['DB'])this[this['t']-0x1]|=(_0x1e64b1&(0x1<<this['DB']-_0x3152b2)-0x1)<<_0x3152b2,this[this['t']++]=_0x1e64b1>>this['DB']-_0x3152b2;else this[this['t']-0x1]|=_0x1e64b1<<_0x3152b2;}_0x3152b2+=_0x3aa43c;if(_0x3152b2>=this['DB'])_0x3152b2-=this['DB'];}if(_0x3aa43c==0x8&&(_0x31a003[0x0]&0x80)!=0x0){this['s']=-0x1;if(_0x3152b2>0x0)this[this['t']-0x1]|=(0x1<<this['DB']-_0x3152b2)-0x1<<_0x3152b2;}this['clamp']();if(_0x16a0f4)_0xe5670c['ZERO']['subTo'](this,this);}function _0x227eb2(){var _0x8eff55=this['s']&this['DM'];while(this['t']>0x0&&this[this['t']-0x1]==_0x8eff55)--this['t'];}function _0x5608b4(_0x103f3a){if(this['s']<0x0)return '-'+this['negate']()['toString'](_0x103f3a);var _0x3b9039;if(_0x103f3a==0x10)_0x3b9039=0x4;else {if(_0x103f3a==0x8)_0x3b9039=0x3;else {if(_0x103f3a==0x2)_0x3b9039=0x1;else {if(_0x103f3a==0x20)_0x3b9039=0x5;else {if(_0x103f3a==0x4)_0x3b9039=0x2;else return this['toRadix'](_0x103f3a);}}}}var _0x473855=(0x1<<_0x3b9039)-0x1,_0x7a8d9,_0x793a8a=![],_0x355a25='',_0x489c40=this['t'],_0x49c44f=this['DB']-_0x489c40*this['DB']%_0x3b9039;if(_0x489c40-->0x0){_0x49c44f<this['DB']&&(_0x7a8d9=this[_0x489c40]>>_0x49c44f)>0x0&&(_0x793a8a=!![],_0x355a25=_0x4b38da(_0x7a8d9));while(_0x489c40>=0x0){_0x49c44f<_0x3b9039?(_0x7a8d9=(this[_0x489c40]&(0x1<<_0x49c44f)-0x1)<<_0x3b9039-_0x49c44f,_0x7a8d9|=this[--_0x489c40]>>(_0x49c44f+=this['DB']-_0x3b9039)):(_0x7a8d9=this[_0x489c40]>>(_0x49c44f-=_0x3b9039)&_0x473855,_0x49c44f<=0x0&&(_0x49c44f+=this['DB'],--_0x489c40));if(_0x7a8d9>0x0)_0x793a8a=!![];if(_0x793a8a)_0x355a25+=_0x4b38da(_0x7a8d9);}}return _0x793a8a?_0x355a25:'0';}function _0x49c6b3(){var _0x4aeab1=_0x3308fc();return _0xe5670c['ZERO']['subTo'](this,_0x4aeab1),_0x4aeab1;}function _0x182a40(){return this['s']<0x0?this['negate']():this;}function _0x38b433(_0x217bcc){var _0x4470a4=this['s']-_0x217bcc['s'];if(_0x4470a4!=0x0)return _0x4470a4;var _0x5c152a=this['t'];_0x4470a4=_0x5c152a-_0x217bcc['t'];if(_0x4470a4!=0x0)return this['s']<0x0?-_0x4470a4:_0x4470a4;while(--_0x5c152a>=0x0)if((_0x4470a4=this[_0x5c152a]-_0x217bcc[_0x5c152a])!=0x0)return _0x4470a4;return 0x0;}function _0x573d0e(_0x256da8){var _0x21b3a8=0x1,_0x20b326;return (_0x20b326=_0x256da8>>>0x10)!=0x0&&(_0x256da8=_0x20b326,_0x21b3a8+=0x10),(_0x20b326=_0x256da8>>0x8)!=0x0&&(_0x256da8=_0x20b326,_0x21b3a8+=0x8),(_0x20b326=_0x256da8>>0x4)!=0x0&&(_0x256da8=_0x20b326,_0x21b3a8+=0x4),(_0x20b326=_0x256da8>>0x2)!=0x0&&(_0x256da8=_0x20b326,_0x21b3a8+=0x2),(_0x20b326=_0x256da8>>0x1)!=0x0&&(_0x256da8=_0x20b326,_0x21b3a8+=0x1),_0x21b3a8;}function _0x16e853(){if(this['t']<=0x0)return 0x0;return this['DB']*(this['t']-0x1)+_0x573d0e(this[this['t']-0x1]^this['s']&this['DM']);}function _0x13eabd(_0x3b8a29,_0x2a9d70){var _0x1ec83c;for(_0x1ec83c=this['t']-0x1;_0x1ec83c>=0x0;--_0x1ec83c)_0x2a9d70[_0x1ec83c+_0x3b8a29]=this[_0x1ec83c];for(_0x1ec83c=_0x3b8a29-0x1;_0x1ec83c>=0x0;--_0x1ec83c)_0x2a9d70[_0x1ec83c]=0x0;_0x2a9d70['t']=this['t']+_0x3b8a29,_0x2a9d70['s']=this['s'];}function _0x162a9d(_0x1fb07c,_0x358707){for(var _0x531c07=_0x1fb07c;_0x531c07<this['t'];++_0x531c07)_0x358707[_0x531c07-_0x1fb07c]=this[_0x531c07];_0x358707['t']=Math['max'](this['t']-_0x1fb07c,0x0),_0x358707['s']=this['s'];}function _0x5edc1d(_0x533607,_0xb85a72){var _0x4ad8e6=_0x533607%this['DB'],_0x1214b3=this['DB']-_0x4ad8e6,_0xad42a1=(0x1<<_0x1214b3)-0x1,_0x46ffcb=Math['floor'](_0x533607/this['DB']),_0x568b86=this['s']<<_0x4ad8e6&this['DM'],_0x2b4372;for(_0x2b4372=this['t']-0x1;_0x2b4372>=0x0;--_0x2b4372){_0xb85a72[_0x2b4372+_0x46ffcb+0x1]=this[_0x2b4372]>>_0x1214b3|_0x568b86,_0x568b86=(this[_0x2b4372]&_0xad42a1)<<_0x4ad8e6;}for(_0x2b4372=_0x46ffcb-0x1;_0x2b4372>=0x0;--_0x2b4372)_0xb85a72[_0x2b4372]=0x0;_0xb85a72[_0x46ffcb]=_0x568b86,_0xb85a72['t']=this['t']+_0x46ffcb+0x1,_0xb85a72['s']=this['s'],_0xb85a72['clamp']();}function _0x3211de(_0x2470d2,_0x42deba){_0x42deba['s']=this['s'];var _0x2fa641=Math['floor'](_0x2470d2/this['DB']);if(_0x2fa641>=this['t']){_0x42deba['t']=0x0;return;}var _0x23b057=_0x2470d2%this['DB'],_0x5d170e=this['DB']-_0x23b057,_0x5ca3bd=(0x1<<_0x23b057)-0x1;_0x42deba[0x0]=this[_0x2fa641]>>_0x23b057;for(var _0x1bf033=_0x2fa641+0x1;_0x1bf033<this['t'];++_0x1bf033){_0x42deba[_0x1bf033-_0x2fa641-0x1]|=(this[_0x1bf033]&_0x5ca3bd)<<_0x5d170e,_0x42deba[_0x1bf033-_0x2fa641]=this[_0x1bf033]>>_0x23b057;}if(_0x23b057>0x0)_0x42deba[this['t']-_0x2fa641-0x1]|=(this['s']&_0x5ca3bd)<<_0x5d170e;_0x42deba['t']=this['t']-_0x2fa641,_0x42deba['clamp']();}function _0x2c4490(_0x903a9c,_0x1cce4c){var _0x152568=0x0,_0x6bda23=0x0,_0xd08fec=Math['min'](_0x903a9c['t'],this['t']);while(_0x152568<_0xd08fec){_0x6bda23+=this[_0x152568]-_0x903a9c[_0x152568],_0x1cce4c[_0x152568++]=_0x6bda23&this['DM'],_0x6bda23>>=this['DB'];}if(_0x903a9c['t']<this['t']){_0x6bda23-=_0x903a9c['s'];while(_0x152568<this['t']){_0x6bda23+=this[_0x152568],_0x1cce4c[_0x152568++]=_0x6bda23&this['DM'],_0x6bda23>>=this['DB'];}_0x6bda23+=this['s'];}else {_0x6bda23+=this['s'];while(_0x152568<_0x903a9c['t']){_0x6bda23-=_0x903a9c[_0x152568],_0x1cce4c[_0x152568++]=_0x6bda23&this['DM'],_0x6bda23>>=this['DB'];}_0x6bda23-=_0x903a9c['s'];}_0x1cce4c['s']=_0x6bda23<0x0?-0x1:0x0;if(_0x6bda23<-0x1)_0x1cce4c[_0x152568++]=this['DV']+_0x6bda23;else {if(_0x6bda23>0x0)_0x1cce4c[_0x152568++]=_0x6bda23;}_0x1cce4c['t']=_0x152568,_0x1cce4c['clamp']();}function _0x34657d(_0x569801,_0x7c29f9){var _0x39a02b=this['abs'](),_0x58314d=_0x569801['abs'](),_0x58f365=_0x39a02b['t'];_0x7c29f9['t']=_0x58f365+_0x58314d['t'];while(--_0x58f365>=0x0)_0x7c29f9[_0x58f365]=0x0;for(_0x58f365=0x0;_0x58f365<_0x58314d['t'];++_0x58f365)_0x7c29f9[_0x58f365+_0x39a02b['t']]=_0x39a02b['am'](0x0,_0x58314d[_0x58f365],_0x7c29f9,_0x58f365,0x0,_0x39a02b['t']);_0x7c29f9['s']=0x0,_0x7c29f9['clamp']();if(this['s']!=_0x569801['s'])_0xe5670c['ZERO']['subTo'](_0x7c29f9,_0x7c29f9);}function _0x2452ba(_0x4554d2){var _0x25c976=this['abs'](),_0x55cccc=_0x4554d2['t']=0x2*_0x25c976['t'];while(--_0x55cccc>=0x0)_0x4554d2[_0x55cccc]=0x0;for(_0x55cccc=0x0;_0x55cccc<_0x25c976['t']-0x1;++_0x55cccc){var _0x43bb21=_0x25c976['am'](_0x55cccc,_0x25c976[_0x55cccc],_0x4554d2,0x2*_0x55cccc,0x0,0x1);(_0x4554d2[_0x55cccc+_0x25c976['t']]+=_0x25c976['am'](_0x55cccc+0x1,0x2*_0x25c976[_0x55cccc],_0x4554d2,0x2*_0x55cccc+0x1,_0x43bb21,_0x25c976['t']-_0x55cccc-0x1))>=_0x25c976['DV']&&(_0x4554d2[_0x55cccc+_0x25c976['t']]-=_0x25c976['DV'],_0x4554d2[_0x55cccc+_0x25c976['t']+0x1]=0x1);}if(_0x4554d2['t']>0x0)_0x4554d2[_0x4554d2['t']-0x1]+=_0x25c976['am'](_0x55cccc,_0x25c976[_0x55cccc],_0x4554d2,0x2*_0x55cccc,0x0,0x1);_0x4554d2['s']=0x0,_0x4554d2['clamp']();}function _0x1b2fc5(_0x13f99e,_0x2b7d51,_0x54ba83){var _0x479758=_0x13f99e['abs']();if(_0x479758['t']<=0x0)return;var _0x54ca1d=this['abs']();if(_0x54ca1d['t']<_0x479758['t']){if(_0x2b7d51!=null)_0x2b7d51['fromInt'](0x0);if(_0x54ba83!=null)this['copyTo'](_0x54ba83);return;}if(_0x54ba83==null)_0x54ba83=_0x3308fc();var _0x99fb32=_0x3308fc(),_0x32118c=this['s'],_0x4ea32a=_0x13f99e['s'],_0x370b51=this['DB']-_0x573d0e(_0x479758[_0x479758['t']-0x1]);_0x370b51>0x0?(_0x479758['lShiftTo'](_0x370b51,_0x99fb32),_0x54ca1d['lShiftTo'](_0x370b51,_0x54ba83)):(_0x479758['copyTo'](_0x99fb32),_0x54ca1d['copyTo'](_0x54ba83));var _0x3fe176=_0x99fb32['t'],_0x1fbb18=_0x99fb32[_0x3fe176-0x1];if(_0x1fbb18==0x0)return;var _0x43a913=_0x1fbb18*(0x1<<this['F1'])+(_0x3fe176>0x1?_0x99fb32[_0x3fe176-0x2]>>this['F2']:0x0),_0x14099e=this['FV']/_0x43a913,_0x5187fb=(0x1<<this['F1'])/_0x43a913,_0x887671=0x1<<this['F2'],_0x5917b9=_0x54ba83['t'],_0x4618b8=_0x5917b9-_0x3fe176,_0xf99ef1=_0x2b7d51==null?_0x3308fc():_0x2b7d51;_0x99fb32['dlShiftTo'](_0x4618b8,_0xf99ef1);_0x54ba83['compareTo'](_0xf99ef1)>=0x0&&(_0x54ba83[_0x54ba83['t']++]=0x1,_0x54ba83['subTo'](_0xf99ef1,_0x54ba83));_0xe5670c['ONE']['dlShiftTo'](_0x3fe176,_0xf99ef1),_0xf99ef1['subTo'](_0x99fb32,_0x99fb32);while(_0x99fb32['t']<_0x3fe176)_0x99fb32[_0x99fb32['t']++]=0x0;while(--_0x4618b8>=0x0){var _0xb2b8e2=_0x54ba83[--_0x5917b9]==_0x1fbb18?this['DM']:Math['floor'](_0x54ba83[_0x5917b9]*_0x14099e+(_0x54ba83[_0x5917b9-0x1]+_0x887671)*_0x5187fb);if((_0x54ba83[_0x5917b9]+=_0x99fb32['am'](0x0,_0xb2b8e2,_0x54ba83,_0x4618b8,0x0,_0x3fe176))<_0xb2b8e2){_0x99fb32['dlShiftTo'](_0x4618b8,_0xf99ef1),_0x54ba83['subTo'](_0xf99ef1,_0x54ba83);while(_0x54ba83[_0x5917b9]<--_0xb2b8e2)_0x54ba83['subTo'](_0xf99ef1,_0x54ba83);}}if(_0x2b7d51!=null){_0x54ba83['drShiftTo'](_0x3fe176,_0x2b7d51);if(_0x32118c!=_0x4ea32a)_0xe5670c['ZERO']['subTo'](_0x2b7d51,_0x2b7d51);}_0x54ba83['t']=_0x3fe176,_0x54ba83['clamp']();if(_0x370b51>0x0)_0x54ba83['rShiftTo'](_0x370b51,_0x54ba83);if(_0x32118c<0x0)_0xe5670c['ZERO']['subTo'](_0x54ba83,_0x54ba83);}function _0x2f0aa0(_0x1d6223){var _0x2163be=_0x3308fc();this['abs']()['divRemTo'](_0x1d6223,null,_0x2163be);if(this['s']<0x0&&_0x2163be['compareTo'](_0xe5670c['ZERO'])>0x0)_0x1d6223['subTo'](_0x2163be,_0x2163be);return _0x2163be;}function _0x596cbb(_0x48e6d1){this['m']=_0x48e6d1;}function _0x41c61f(_0x31842a){if(_0x31842a['s']<0x0||_0x31842a['compareTo'](this['m'])>=0x0)return _0x31842a['mod'](this['m']);else return _0x31842a;}function _0x354b5b(_0x5b9be2){return _0x5b9be2;}function _0x4605a5(_0x5d1635){_0x5d1635['divRemTo'](this['m'],null,_0x5d1635);}function _0xcc4ede(_0x5c8f9b,_0x3ebbdc,_0x5dfea7){_0x5c8f9b['multiplyTo'](_0x3ebbdc,_0x5dfea7),this['reduce'](_0x5dfea7);}function _0x50277a(_0x1a8d06,_0x2778ca){_0x1a8d06['squareTo'](_0x2778ca),this['reduce'](_0x2778ca);}_0x596cbb['prototype']['convert']=_0x41c61f,_0x596cbb['prototype']['revert']=_0x354b5b,_0x596cbb['prototype']['reduce']=_0x4605a5,_0x596cbb['prototype']['mulTo']=_0xcc4ede,_0x596cbb['prototype']['sqrTo']=_0x50277a;function _0x4355e4(){if(this['t']<0x1)return 0x0;var _0x1c127b=this[0x0];if((_0x1c127b&0x1)==0x0)return 0x0;var _0x43ac07=_0x1c127b&0x3;return _0x43ac07=_0x43ac07*(0x2-(_0x1c127b&0xf)*_0x43ac07)&0xf,_0x43ac07=_0x43ac07*(0x2-(_0x1c127b&0xff)*_0x43ac07)&0xff,_0x43ac07=_0x43ac07*(0x2-((_0x1c127b&0xffff)*_0x43ac07&0xffff))&0xffff,_0x43ac07=_0x43ac07*(0x2-_0x1c127b*_0x43ac07%this['DV'])%this['DV'],_0x43ac07>0x0?this['DV']-_0x43ac07:-_0x43ac07;}function _0x4a0b40(_0x5868f8){this['m']=_0x5868f8,this['mp']=_0x5868f8['invDigit'](),this['mpl']=this['mp']&0x7fff,this['mph']=this['mp']>>0xf,this['um']=(0x1<<_0x5868f8['DB']-0xf)-0x1,this['mt2']=0x2*_0x5868f8['t'];}function _0x41eb33(_0xf8ad2){var _0x4b2c2f=_0x3308fc();_0xf8ad2['abs']()['dlShiftTo'](this['m']['t'],_0x4b2c2f),_0x4b2c2f['divRemTo'](this['m'],null,_0x4b2c2f);if(_0xf8ad2['s']<0x0&&_0x4b2c2f['compareTo'](_0xe5670c['ZERO'])>0x0)this['m']['subTo'](_0x4b2c2f,_0x4b2c2f);return _0x4b2c2f;}function _0x2b6b1c(_0x17e90b){var _0x13d38c=_0x3308fc();return _0x17e90b['copyTo'](_0x13d38c),this['reduce'](_0x13d38c),_0x13d38c;}function _0xa5e28c(_0x5b814e){while(_0x5b814e['t']<=this['mt2'])_0x5b814e[_0x5b814e['t']++]=0x0;for(var _0x3d4684=0x0;_0x3d4684<this['m']['t'];++_0x3d4684){var _0x44fb8e=_0x5b814e[_0x3d4684]&0x7fff,_0xb8ce5e=_0x44fb8e*this['mpl']+((_0x44fb8e*this['mph']+(_0x5b814e[_0x3d4684]>>0xf)*this['mpl']&this['um'])<<0xf)&_0x5b814e['DM'];_0x44fb8e=_0x3d4684+this['m']['t'],_0x5b814e[_0x44fb8e]+=this['m']['am'](0x0,_0xb8ce5e,_0x5b814e,_0x3d4684,0x0,this['m']['t']);while(_0x5b814e[_0x44fb8e]>=_0x5b814e['DV']){_0x5b814e[_0x44fb8e]-=_0x5b814e['DV'],_0x5b814e[++_0x44fb8e]++;}}_0x5b814e['clamp'](),_0x5b814e['drShiftTo'](this['m']['t'],_0x5b814e);if(_0x5b814e['compareTo'](this['m'])>=0x0)_0x5b814e['subTo'](this['m'],_0x5b814e);}function _0x3ba753(_0xc4ac97,_0x5f59a1){_0xc4ac97['squareTo'](_0x5f59a1),this['reduce'](_0x5f59a1);}function _0x4f6758(_0x1a97fc,_0x1171b6,_0x16f2d4){_0x1a97fc['multiplyTo'](_0x1171b6,_0x16f2d4),this['reduce'](_0x16f2d4);}_0x4a0b40['prototype']['convert']=_0x41eb33,_0x4a0b40['prototype']['revert']=_0x2b6b1c,_0x4a0b40['prototype']['reduce']=_0xa5e28c,_0x4a0b40['prototype']['mulTo']=_0x4f6758,_0x4a0b40['prototype']['sqrTo']=_0x3ba753;function _0x3d80ef(){return (this['t']>0x0?this[0x0]&0x1:this['s'])==0x0;}function _0x3e0445(_0x402253,_0x4050ad){if(_0x402253>0xffffffff||_0x402253<0x1)return _0xe5670c['ONE'];var _0x37c40e=_0x3308fc(),_0x438ee9=_0x3308fc(),_0x33cba5=_0x4050ad['convert'](this),_0xae146c=_0x573d0e(_0x402253)-0x1;_0x33cba5['copyTo'](_0x37c40e);while(--_0xae146c>=0x0){_0x4050ad['sqrTo'](_0x37c40e,_0x438ee9);if((_0x402253&0x1<<_0xae146c)>0x0)_0x4050ad['mulTo'](_0x438ee9,_0x33cba5,_0x37c40e);else {var _0xf3d87f=_0x37c40e;_0x37c40e=_0x438ee9,_0x438ee9=_0xf3d87f;}}return _0x4050ad['revert'](_0x37c40e);}function _0x89e1ba(_0x3ead13,_0x2cd658){var _0x4c9510;if(_0x3ead13<0x100||_0x2cd658['isEven']())_0x4c9510=new _0x596cbb(_0x2cd658);else _0x4c9510=new _0x4a0b40(_0x2cd658);return this['exp'](_0x3ead13,_0x4c9510);}_0xe5670c['prototype']['copyTo']=_0x2fe6e1,_0xe5670c['prototype']['fromInt']=_0x2921ac,_0xe5670c['prototype']['fromString']=_0x243512,_0xe5670c['prototype']['clamp']=_0x227eb2,_0xe5670c['prototype']['dlShiftTo']=_0x13eabd,_0xe5670c['prototype']['drShiftTo']=_0x162a9d,_0xe5670c['prototype']['lShiftTo']=_0x5edc1d,_0xe5670c['prototype']['rShiftTo']=_0x3211de,_0xe5670c['prototype']['subTo']=_0x2c4490,_0xe5670c['prototype']['multiplyTo']=_0x34657d,_0xe5670c['prototype']['squareTo']=_0x2452ba,_0xe5670c['prototype']['divRemTo']=_0x1b2fc5,_0xe5670c['prototype']['invDigit']=_0x4355e4,_0xe5670c['prototype']['isEven']=_0x3d80ef,_0xe5670c['prototype']['exp']=_0x3e0445,_0xe5670c['prototype']['toString']=_0x5608b4,_0xe5670c['prototype']['negate']=_0x49c6b3,_0xe5670c['prototype']['abs']=_0x182a40,_0xe5670c['prototype']['compareTo']=_0x38b433,_0xe5670c['prototype']['bitLength']=_0x16e853,_0xe5670c['prototype']['mod']=_0x2f0aa0,_0xe5670c['prototype']['modPowInt']=_0x89e1ba,_0xe5670c['ZERO']=_0x5f5669(0x0),_0xe5670c['ONE']=_0x5f5669(0x1);function _0x409cad(){var _0x3cd62e=_0x3308fc();return this['copyTo'](_0x3cd62e),_0x3cd62e;}function _0x422e0a(){if(this['s']<0x0){if(this['t']==0x1)return this[0x0]-this['DV'];else {if(this['t']==0x0)return -0x1;}}else {if(this['t']==0x1)return this[0x0];else {if(this['t']==0x0)return 0x0;}}return (this[0x1]&(0x1<<0x20-this['DB'])-0x1)<<this['DB']|this[0x0];}function _0x50b7f3(){return this['t']==0x0?this['s']:this[0x0]<<0x18>>0x18;}function _0x44553b(){return this['t']==0x0?this['s']:this[0x0]<<0x10>>0x10;}function _0x2aa038(_0x46c565){return Math['floor'](Math['LN2']*this['DB']/Math['log'](_0x46c565));}function _0x409852(){if(this['s']<0x0)return -0x1;else {if(this['t']<=0x0||this['t']==0x1&&this[0x0]<=0x0)return 0x0;else return 0x1;}}function _0x2e9919(_0x580f66){if(_0x580f66==null)_0x580f66=0xa;if(this['signum']()==0x0||_0x580f66<0x2||_0x580f66>0x24)return '0';var _0x2744ac=this['chunkSize'](_0x580f66),_0x58e3e2=Math['pow'](_0x580f66,_0x2744ac),_0x93971e=_0x5f5669(_0x58e3e2),_0x45ac8a=_0x3308fc(),_0x5e7431=_0x3308fc(),_0xa418b='';this['divRemTo'](_0x93971e,_0x45ac8a,_0x5e7431);while(_0x45ac8a['signum']()>0x0){_0xa418b=(_0x58e3e2+_0x5e7431['intValue']())['toString'](_0x580f66)['substr'](0x1)+_0xa418b,_0x45ac8a['divRemTo'](_0x93971e,_0x45ac8a,_0x5e7431);}return _0x5e7431['intValue']()['toString'](_0x580f66)+_0xa418b;}function _0x32d7af(_0x1570c9,_0x2a0d37){this['fromInt'](0x0);if(_0x2a0d37==null)_0x2a0d37=0xa;var _0x206cc0=this['chunkSize'](_0x2a0d37),_0x3efd04=Math['pow'](_0x2a0d37,_0x206cc0),_0x402524=![],_0x2bd626=0x0,_0x253270=0x0;for(var _0x13f852=0x0;_0x13f852<_0x1570c9['length'];++_0x13f852){var _0x13f64b=_0x391016(_0x1570c9,_0x13f852);if(_0x13f64b<0x0){if(_0x1570c9['charAt'](_0x13f852)=='-'&&this['signum']()==0x0)_0x402524=!![];continue;}_0x253270=_0x2a0d37*_0x253270+_0x13f64b,++_0x2bd626>=_0x206cc0&&(this['dMultiply'](_0x3efd04),this['dAddOffset'](_0x253270,0x0),_0x2bd626=0x0,_0x253270=0x0);}_0x2bd626>0x0&&(this['dMultiply'](Math['pow'](_0x2a0d37,_0x2bd626)),this['dAddOffset'](_0x253270,0x0));if(_0x402524)_0xe5670c['ZERO']['subTo'](this,this);}function _0x157205(_0x1a7e0d,_0x10af44,_0x5918ce){if('number'==typeof _0x10af44){if(_0x1a7e0d<0x2)this['fromInt'](0x1);else {this['fromNumber'](_0x1a7e0d,_0x5918ce);if(!this['testBit'](_0x1a7e0d-0x1))this['bitwiseTo'](_0xe5670c['ONE']['shiftLeft'](_0x1a7e0d-0x1),_0xd42ac1,this);if(this['isEven']())this['dAddOffset'](0x1,0x0);while(!this['isProbablePrime'](_0x10af44)){this['dAddOffset'](0x2,0x0);if(this['bitLength']()>_0x1a7e0d)this['subTo'](_0xe5670c['ONE']['shiftLeft'](_0x1a7e0d-0x1),this);}}}else {var _0x2feebc=new Array(),_0xc1f461=_0x1a7e0d&0x7;_0x2feebc['length']=(_0x1a7e0d>>0x3)+0x1,_0x10af44['nextBytes'](_0x2feebc);if(_0xc1f461>0x0)_0x2feebc[0x0]&=(0x1<<_0xc1f461)-0x1;else _0x2feebc[0x0]=0x0;this['fromString'](_0x2feebc,0x100);}}function _0x4c4642(){var _0x4a555d=this['t'],_0x565208=new Array();_0x565208[0x0]=this['s'];var _0x3ed3b1=this['DB']-_0x4a555d*this['DB']%0x8,_0x419494,_0x2ffe38=0x0;if(_0x4a555d-->0x0){if(_0x3ed3b1<this['DB']&&(_0x419494=this[_0x4a555d]>>_0x3ed3b1)!=(this['s']&this['DM'])>>_0x3ed3b1)_0x565208[_0x2ffe38++]=_0x419494|this['s']<<this['DB']-_0x3ed3b1;while(_0x4a555d>=0x0){_0x3ed3b1<0x8?(_0x419494=(this[_0x4a555d]&(0x1<<_0x3ed3b1)-0x1)<<0x8-_0x3ed3b1,_0x419494|=this[--_0x4a555d]>>(_0x3ed3b1+=this['DB']-0x8)):(_0x419494=this[_0x4a555d]>>(_0x3ed3b1-=0x8)&0xff,_0x3ed3b1<=0x0&&(_0x3ed3b1+=this['DB'],--_0x4a555d));if((_0x419494&0x80)!=0x0)_0x419494|=-0x100;if(_0x2ffe38==0x0&&(this['s']&0x80)!=(_0x419494&0x80))++_0x2ffe38;if(_0x2ffe38>0x0||_0x419494!=this['s'])_0x565208[_0x2ffe38++]=_0x419494;}}return _0x565208;}function _0x17f5da(_0x49e7b9){return this['compareTo'](_0x49e7b9)==0x0;}function _0x139d1d(_0x2e662a){return this['compareTo'](_0x2e662a)<0x0?this:_0x2e662a;}function _0x3c8970(_0x37ab7b){return this['compareTo'](_0x37ab7b)>0x0?this:_0x37ab7b;}function _0x20cb5b(_0x77059,_0xfa1aff,_0x5802e7){var _0x50a397,_0x2ebb26,_0x270356=Math['min'](_0x77059['t'],this['t']);for(_0x50a397=0x0;_0x50a397<_0x270356;++_0x50a397)_0x5802e7[_0x50a397]=_0xfa1aff(this[_0x50a397],_0x77059[_0x50a397]);if(_0x77059['t']<this['t']){_0x2ebb26=_0x77059['s']&this['DM'];for(_0x50a397=_0x270356;_0x50a397<this['t'];++_0x50a397)_0x5802e7[_0x50a397]=_0xfa1aff(this[_0x50a397],_0x2ebb26);_0x5802e7['t']=this['t'];}else {_0x2ebb26=this['s']&this['DM'];for(_0x50a397=_0x270356;_0x50a397<_0x77059['t'];++_0x50a397)_0x5802e7[_0x50a397]=_0xfa1aff(_0x2ebb26,_0x77059[_0x50a397]);_0x5802e7['t']=_0x77059['t'];}_0x5802e7['s']=_0xfa1aff(this['s'],_0x77059['s']),_0x5802e7['clamp']();}function _0x5ba0d7(_0x60db93,_0x16508f){return _0x60db93&_0x16508f;}function _0x488ff0(_0x36ffad){var _0x318d9a=_0x3308fc();return this['bitwiseTo'](_0x36ffad,_0x5ba0d7,_0x318d9a),_0x318d9a;}function _0xd42ac1(_0x26a968,_0x5d7def){return _0x26a968|_0x5d7def;}function _0x26a369(_0x3970cd){var _0x48fa1c=_0x3308fc();return this['bitwiseTo'](_0x3970cd,_0xd42ac1,_0x48fa1c),_0x48fa1c;}function _0x2391ba(_0x18664d,_0x998d16){return _0x18664d^_0x998d16;}function _0x3b50c8(_0x294b00){var _0x2253df=_0x3308fc();return this['bitwiseTo'](_0x294b00,_0x2391ba,_0x2253df),_0x2253df;}function _0x4eda55(_0x37815b,_0x44659d){return _0x37815b&~_0x44659d;}function _0x1daa93(_0x4bdf1f){var _0x10185d=_0x3308fc();return this['bitwiseTo'](_0x4bdf1f,_0x4eda55,_0x10185d),_0x10185d;}function _0xf9dd50(){var _0x3343a9=_0x3308fc();for(var _0x16e226=0x0;_0x16e226<this['t'];++_0x16e226)_0x3343a9[_0x16e226]=this['DM']&~this[_0x16e226];return _0x3343a9['t']=this['t'],_0x3343a9['s']=~this['s'],_0x3343a9;}function _0x476a76(_0x33f990){var _0x8989a9=_0x3308fc();if(_0x33f990<0x0)this['rShiftTo'](-_0x33f990,_0x8989a9);else this['lShiftTo'](_0x33f990,_0x8989a9);return _0x8989a9;}function _0xefb60b(_0x2f702f){var _0x685397=_0x3308fc();if(_0x2f702f<0x0)this['lShiftTo'](-_0x2f702f,_0x685397);else this['rShiftTo'](_0x2f702f,_0x685397);return _0x685397;}function _0x40b7d6(_0x241417){if(_0x241417==0x0)return -0x1;var _0x5ac32a=0x0;(_0x241417&0xffff)==0x0&&(_0x241417>>=0x10,_0x5ac32a+=0x10);(_0x241417&0xff)==0x0&&(_0x241417>>=0x8,_0x5ac32a+=0x8);(_0x241417&0xf)==0x0&&(_0x241417>>=0x4,_0x5ac32a+=0x4);(_0x241417&0x3)==0x0&&(_0x241417>>=0x2,_0x5ac32a+=0x2);if((_0x241417&0x1)==0x0)++_0x5ac32a;return _0x5ac32a;}function _0x432718(){for(var _0x25ec80=0x0;_0x25ec80<this['t'];++_0x25ec80)if(this[_0x25ec80]!=0x0)return _0x25ec80*this['DB']+_0x40b7d6(this[_0x25ec80]);if(this['s']<0x0)return this['t']*this['DB'];return -0x1;}function _0x231166(_0x225583){var _0x2bda87=0x0;while(_0x225583!=0x0){_0x225583&=_0x225583-0x1,++_0x2bda87;}return _0x2bda87;}function _0x16a7d7(){var _0x52c9b1=0x0,_0x309f46=this['s']&this['DM'];for(var _0x4f03ab=0x0;_0x4f03ab<this['t'];++_0x4f03ab)_0x52c9b1+=_0x231166(this[_0x4f03ab]^_0x309f46);return _0x52c9b1;}function _0x3e4bc9(_0x38e050){var _0x212f6a=Math['floor'](_0x38e050/this['DB']);if(_0x212f6a>=this['t'])return this['s']!=0x0;return (this[_0x212f6a]&0x1<<_0x38e050%this['DB'])!=0x0;}function _0x9a798(_0x43dbcb,_0x30d9a2){var _0x25c3b6=_0xe5670c['ONE']['shiftLeft'](_0x43dbcb);return this['bitwiseTo'](_0x25c3b6,_0x30d9a2,_0x25c3b6),_0x25c3b6;}function _0x8bbac2(_0xcb5ad8){return this['changeBit'](_0xcb5ad8,_0xd42ac1);}function _0x523ea8(_0xf787d4){return this['changeBit'](_0xf787d4,_0x4eda55);}function _0xa4f1bf(_0x4030c9){return this['changeBit'](_0x4030c9,_0x2391ba);}function _0x409a40(_0x27cc45,_0x120d06){var _0x56d100=0x0,_0x2a2720=0x0,_0x43a516=Math['min'](_0x27cc45['t'],this['t']);while(_0x56d100<_0x43a516){_0x2a2720+=this[_0x56d100]+_0x27cc45[_0x56d100],_0x120d06[_0x56d100++]=_0x2a2720&this['DM'],_0x2a2720>>=this['DB'];}if(_0x27cc45['t']<this['t']){_0x2a2720+=_0x27cc45['s'];while(_0x56d100<this['t']){_0x2a2720+=this[_0x56d100],_0x120d06[_0x56d100++]=_0x2a2720&this['DM'],_0x2a2720>>=this['DB'];}_0x2a2720+=this['s'];}else {_0x2a2720+=this['s'];while(_0x56d100<_0x27cc45['t']){_0x2a2720+=_0x27cc45[_0x56d100],_0x120d06[_0x56d100++]=_0x2a2720&this['DM'],_0x2a2720>>=this['DB'];}_0x2a2720+=_0x27cc45['s'];}_0x120d06['s']=_0x2a2720<0x0?-0x1:0x0;if(_0x2a2720>0x0)_0x120d06[_0x56d100++]=_0x2a2720;else {if(_0x2a2720<-0x1)_0x120d06[_0x56d100++]=this['DV']+_0x2a2720;}_0x120d06['t']=_0x56d100,_0x120d06['clamp']();}function _0x2350da(_0x3836b8){var _0x1af098=_0x3308fc();return this['addTo'](_0x3836b8,_0x1af098),_0x1af098;}function _0x3a0203(_0x28b9e2){var _0x13945c=_0x3308fc();return this['subTo'](_0x28b9e2,_0x13945c),_0x13945c;}function _0x25f19a(_0x3ab9f1){var _0x25d8fb=_0x3308fc();return this['multiplyTo'](_0x3ab9f1,_0x25d8fb),_0x25d8fb;}function _0x47624b(){var _0x5bb6fd=_0x3308fc();return this['squareTo'](_0x5bb6fd),_0x5bb6fd;}function _0x30ec1d(_0x2abf2b){var _0x58a2e6=_0x3308fc();return this['divRemTo'](_0x2abf2b,_0x58a2e6,null),_0x58a2e6;}function _0x2261e2(_0x510277){var _0x334fd7=_0x3308fc();return this['divRemTo'](_0x510277,null,_0x334fd7),_0x334fd7;}function _0x1bb8b7(_0x304e93){var _0x281ddd=_0x3308fc(),_0x1a5a98=_0x3308fc();return this['divRemTo'](_0x304e93,_0x281ddd,_0x1a5a98),new Array(_0x281ddd,_0x1a5a98);}function _0x46c314(_0x2af48e){this[this['t']]=this['am'](0x0,_0x2af48e-0x1,this,0x0,0x0,this['t']),++this['t'],this['clamp']();}function _0x3f7f4d(_0x57d9da,_0xdc52a6){if(_0x57d9da==0x0)return;while(this['t']<=_0xdc52a6)this[this['t']++]=0x0;this[_0xdc52a6]+=_0x57d9da;while(this[_0xdc52a6]>=this['DV']){this[_0xdc52a6]-=this['DV'];if(++_0xdc52a6>=this['t'])this[this['t']++]=0x0;++this[_0xdc52a6];}}function _0x2e6873(){}function _0x5aeacc(_0x3fbf8f){return _0x3fbf8f;}function _0x2a2125(_0x269f7c,_0xab845b,_0x49814b){_0x269f7c['multiplyTo'](_0xab845b,_0x49814b);}function _0x17818d(_0x7effcd,_0x545b05){_0x7effcd['squareTo'](_0x545b05);}_0x2e6873['prototype']['convert']=_0x5aeacc,_0x2e6873['prototype']['revert']=_0x5aeacc,_0x2e6873['prototype']['mulTo']=_0x2a2125,_0x2e6873['prototype']['sqrTo']=_0x17818d;function _0x8cabca(_0x153f40){return this['exp'](_0x153f40,new _0x2e6873());}function _0x2e9b18(_0x143955,_0x480cab,_0x5ee69c){var _0x160c4f=Math['min'](this['t']+_0x143955['t'],_0x480cab);_0x5ee69c['s']=0x0,_0x5ee69c['t']=_0x160c4f;while(_0x160c4f>0x0)_0x5ee69c[--_0x160c4f]=0x0;var _0x522d94;for(_0x522d94=_0x5ee69c['t']-this['t'];_0x160c4f<_0x522d94;++_0x160c4f)_0x5ee69c[_0x160c4f+this['t']]=this['am'](0x0,_0x143955[_0x160c4f],_0x5ee69c,_0x160c4f,0x0,this['t']);for(_0x522d94=Math['min'](_0x143955['t'],_0x480cab);_0x160c4f<_0x522d94;++_0x160c4f)this['am'](0x0,_0x143955[_0x160c4f],_0x5ee69c,_0x160c4f,0x0,_0x480cab-_0x160c4f);_0x5ee69c['clamp']();}function _0x495ed6(_0x523839,_0x488c14,_0x3c3de2){--_0x488c14;var _0xbd2b6e=_0x3c3de2['t']=this['t']+_0x523839['t']-_0x488c14;_0x3c3de2['s']=0x0;while(--_0xbd2b6e>=0x0)_0x3c3de2[_0xbd2b6e]=0x0;for(_0xbd2b6e=Math['max'](_0x488c14-this['t'],0x0);_0xbd2b6e<_0x523839['t'];++_0xbd2b6e)_0x3c3de2[this['t']+_0xbd2b6e-_0x488c14]=this['am'](_0x488c14-_0xbd2b6e,_0x523839[_0xbd2b6e],_0x3c3de2,0x0,0x0,this['t']+_0xbd2b6e-_0x488c14);_0x3c3de2['clamp'](),_0x3c3de2['drShiftTo'](0x1,_0x3c3de2);}function _0x16eee2(_0x128f80){this['r2']=_0x3308fc(),this['q3']=_0x3308fc(),_0xe5670c['ONE']['dlShiftTo'](0x2*_0x128f80['t'],this['r2']),this['mu']=this['r2']['divide'](_0x128f80),this['m']=_0x128f80;}function _0x2e0b7f(_0x30a6a5){if(_0x30a6a5['s']<0x0||_0x30a6a5['t']>0x2*this['m']['t'])return _0x30a6a5['mod'](this['m']);else {if(_0x30a6a5['compareTo'](this['m'])<0x0)return _0x30a6a5;else {var _0x3a48fa=_0x3308fc();return _0x30a6a5['copyTo'](_0x3a48fa),this['reduce'](_0x3a48fa),_0x3a48fa;}}}function _0x5d9661(_0x2b8d11){return _0x2b8d11;}function _0x4eebb3(_0x5b7a81){_0x5b7a81['drShiftTo'](this['m']['t']-0x1,this['r2']);_0x5b7a81['t']>this['m']['t']+0x1&&(_0x5b7a81['t']=this['m']['t']+0x1,_0x5b7a81['clamp']());this['mu']['multiplyUpperTo'](this['r2'],this['m']['t']+0x1,this['q3']),this['m']['multiplyLowerTo'](this['q3'],this['m']['t']+0x1,this['r2']);while(_0x5b7a81['compareTo'](this['r2'])<0x0)_0x5b7a81['dAddOffset'](0x1,this['m']['t']+0x1);_0x5b7a81['subTo'](this['r2'],_0x5b7a81);while(_0x5b7a81['compareTo'](this['m'])>=0x0)_0x5b7a81['subTo'](this['m'],_0x5b7a81);}function _0x4a8152(_0x525ee5,_0x319967){_0x525ee5['squareTo'](_0x319967),this['reduce'](_0x319967);}function _0x30132f(_0x39bead,_0x3e1f79,_0x966b3f){_0x39bead['multiplyTo'](_0x3e1f79,_0x966b3f),this['reduce'](_0x966b3f);}_0x16eee2['prototype']['convert']=_0x2e0b7f,_0x16eee2['prototype']['revert']=_0x5d9661,_0x16eee2['prototype']['reduce']=_0x4eebb3,_0x16eee2['prototype']['mulTo']=_0x30132f,_0x16eee2['prototype']['sqrTo']=_0x4a8152;function _0x30f85a(_0x3b3e99,_0x5e22fd){var _0x50c392=_0x3b3e99['bitLength'](),_0x4c0b21,_0x3706e0=_0x5f5669(0x1),_0x420eb0;if(_0x50c392<=0x0)return _0x3706e0;else {if(_0x50c392<0x12)_0x4c0b21=0x1;else {if(_0x50c392<0x30)_0x4c0b21=0x3;else {if(_0x50c392<0x90)_0x4c0b21=0x4;else {if(_0x50c392<0x300)_0x4c0b21=0x5;else _0x4c0b21=0x6;}}}}if(_0x50c392<0x8)_0x420eb0=new _0x596cbb(_0x5e22fd);else {if(_0x5e22fd['isEven']())_0x420eb0=new _0x16eee2(_0x5e22fd);else _0x420eb0=new _0x4a0b40(_0x5e22fd);}var _0x1dacc9=new Array(),_0x39e8d3=0x3,_0x41b4b9=_0x4c0b21-0x1,_0x2af536=(0x1<<_0x4c0b21)-0x1;_0x1dacc9[0x1]=_0x420eb0['convert'](this);if(_0x4c0b21>0x1){var _0x147216=_0x3308fc();_0x420eb0['sqrTo'](_0x1dacc9[0x1],_0x147216);while(_0x39e8d3<=_0x2af536){_0x1dacc9[_0x39e8d3]=_0x3308fc(),_0x420eb0['mulTo'](_0x147216,_0x1dacc9[_0x39e8d3-0x2],_0x1dacc9[_0x39e8d3]),_0x39e8d3+=0x2;}}var _0x2c6749=_0x3b3e99['t']-0x1,_0x2fd0fa,_0x49a725=!![],_0x232fc7=_0x3308fc(),_0x59d16e;_0x50c392=_0x573d0e(_0x3b3e99[_0x2c6749])-0x1;while(_0x2c6749>=0x0){if(_0x50c392>=_0x41b4b9)_0x2fd0fa=_0x3b3e99[_0x2c6749]>>_0x50c392-_0x41b4b9&_0x2af536;else {_0x2fd0fa=(_0x3b3e99[_0x2c6749]&(0x1<<_0x50c392+0x1)-0x1)<<_0x41b4b9-_0x50c392;if(_0x2c6749>0x0)_0x2fd0fa|=_0x3b3e99[_0x2c6749-0x1]>>this['DB']+_0x50c392-_0x41b4b9;}_0x39e8d3=_0x4c0b21;while((_0x2fd0fa&0x1)==0x0){_0x2fd0fa>>=0x1,--_0x39e8d3;}(_0x50c392-=_0x39e8d3)<0x0&&(_0x50c392+=this['DB'],--_0x2c6749);if(_0x49a725)_0x1dacc9[_0x2fd0fa]['copyTo'](_0x3706e0),_0x49a725=![];else {while(_0x39e8d3>0x1){_0x420eb0['sqrTo'](_0x3706e0,_0x232fc7),_0x420eb0['sqrTo'](_0x232fc7,_0x3706e0),_0x39e8d3-=0x2;}if(_0x39e8d3>0x0)_0x420eb0['sqrTo'](_0x3706e0,_0x232fc7);else _0x59d16e=_0x3706e0,_0x3706e0=_0x232fc7,_0x232fc7=_0x59d16e;_0x420eb0['mulTo'](_0x232fc7,_0x1dacc9[_0x2fd0fa],_0x3706e0);}while(_0x2c6749>=0x0&&(_0x3b3e99[_0x2c6749]&0x1<<_0x50c392)==0x0){_0x420eb0['sqrTo'](_0x3706e0,_0x232fc7),_0x59d16e=_0x3706e0,_0x3706e0=_0x232fc7,_0x232fc7=_0x59d16e,--_0x50c392<0x0&&(_0x50c392=this['DB']-0x1,--_0x2c6749);}}return _0x420eb0['revert'](_0x3706e0);}function _0x5d6891(_0x1c0071){var _0x44d91b=this['s']<0x0?this['negate']():this['clone'](),_0x85b8=_0x1c0071['s']<0x0?_0x1c0071['negate']():_0x1c0071['clone']();if(_0x44d91b['compareTo'](_0x85b8)<0x0){var _0x100b97=_0x44d91b;_0x44d91b=_0x85b8,_0x85b8=_0x100b97;}var _0x2eb3ba=_0x44d91b['getLowestSetBit'](),_0x3b7eb2=_0x85b8['getLowestSetBit']();if(_0x3b7eb2<0x0)return _0x44d91b;if(_0x2eb3ba<_0x3b7eb2)_0x3b7eb2=_0x2eb3ba;_0x3b7eb2>0x0&&(_0x44d91b['rShiftTo'](_0x3b7eb2,_0x44d91b),_0x85b8['rShiftTo'](_0x3b7eb2,_0x85b8));while(_0x44d91b['signum']()>0x0){if((_0x2eb3ba=_0x44d91b['getLowestSetBit']())>0x0)_0x44d91b['rShiftTo'](_0x2eb3ba,_0x44d91b);if((_0x2eb3ba=_0x85b8['getLowestSetBit']())>0x0)_0x85b8['rShiftTo'](_0x2eb3ba,_0x85b8);_0x44d91b['compareTo'](_0x85b8)>=0x0?(_0x44d91b['subTo'](_0x85b8,_0x44d91b),_0x44d91b['rShiftTo'](0x1,_0x44d91b)):(_0x85b8['subTo'](_0x44d91b,_0x85b8),_0x85b8['rShiftTo'](0x1,_0x85b8));}if(_0x3b7eb2>0x0)_0x85b8['lShiftTo'](_0x3b7eb2,_0x85b8);return _0x85b8;}function _0x1fc912(_0x350cda){if(_0x350cda<=0x0)return 0x0;var _0x46fa26=this['DV']%_0x350cda,_0xd88c76=this['s']<0x0?_0x350cda-0x1:0x0;if(this['t']>0x0){if(_0x46fa26==0x0)_0xd88c76=this[0x0]%_0x350cda;else {for(var _0x48b297=this['t']-0x1;_0x48b297>=0x0;--_0x48b297)_0xd88c76=(_0x46fa26*_0xd88c76+this[_0x48b297])%_0x350cda;}}return _0xd88c76;}function _0x1f6c40(_0x450c57){var _0x4c7eda=_0x450c57['isEven']();if(this['isEven']()&&_0x4c7eda||_0x450c57['signum']()==0x0)return _0xe5670c['ZERO'];var _0x7ed866=_0x450c57['clone'](),_0x7c8644=this['clone'](),_0x1ee522=_0x5f5669(0x1),_0x2e0f6f=_0x5f5669(0x0),_0x3069ce=_0x5f5669(0x0),_0x4e8e49=_0x5f5669(0x1);while(_0x7ed866['signum']()!=0x0){while(_0x7ed866['isEven']()){_0x7ed866['rShiftTo'](0x1,_0x7ed866);if(_0x4c7eda)(!_0x1ee522['isEven']()||!_0x2e0f6f['isEven']())&&(_0x1ee522['addTo'](this,_0x1ee522),_0x2e0f6f['subTo'](_0x450c57,_0x2e0f6f)),_0x1ee522['rShiftTo'](0x1,_0x1ee522);else {if(!_0x2e0f6f['isEven']())_0x2e0f6f['subTo'](_0x450c57,_0x2e0f6f);}_0x2e0f6f['rShiftTo'](0x1,_0x2e0f6f);}while(_0x7c8644['isEven']()){_0x7c8644['rShiftTo'](0x1,_0x7c8644);if(_0x4c7eda)(!_0x3069ce['isEven']()||!_0x4e8e49['isEven']())&&(_0x3069ce['addTo'](this,_0x3069ce),_0x4e8e49['subTo'](_0x450c57,_0x4e8e49)),_0x3069ce['rShiftTo'](0x1,_0x3069ce);else {if(!_0x4e8e49['isEven']())_0x4e8e49['subTo'](_0x450c57,_0x4e8e49);}_0x4e8e49['rShiftTo'](0x1,_0x4e8e49);}if(_0x7ed866['compareTo'](_0x7c8644)>=0x0){_0x7ed866['subTo'](_0x7c8644,_0x7ed866);if(_0x4c7eda)_0x1ee522['subTo'](_0x3069ce,_0x1ee522);_0x2e0f6f['subTo'](_0x4e8e49,_0x2e0f6f);}else {_0x7c8644['subTo'](_0x7ed866,_0x7c8644);if(_0x4c7eda)_0x3069ce['subTo'](_0x1ee522,_0x3069ce);_0x4e8e49['subTo'](_0x2e0f6f,_0x4e8e49);}}if(_0x7c8644['compareTo'](_0xe5670c['ONE'])!=0x0)return _0xe5670c['ZERO'];if(_0x4e8e49['compareTo'](_0x450c57)>=0x0)return _0x4e8e49['subtract'](_0x450c57);if(_0x4e8e49['signum']()<0x0)_0x4e8e49['addTo'](_0x450c57,_0x4e8e49);else return _0x4e8e49;if(_0x4e8e49['signum']()<0x0)return _0x4e8e49['add'](_0x450c57);else return _0x4e8e49;}var _0xbc7f=[0x2,0x3,0x5,0x7,0xb,0xd,0x11,0x13,0x17,0x1d,0x1f,0x25,0x29,0x2b,0x2f,0x35,0x3b,0x3d,0x43,0x47,0x49,0x4f,0x53,0x59,0x61,0x65,0x67,0x6b,0x6d,0x71,0x7f,0x83,0x89,0x8b,0x95,0x97,0x9d,0xa3,0xa7,0xad,0xb3,0xb5,0xbf,0xc1,0xc5,0xc7,0xd3,0xdf,0xe3,0xe5,0xe9,0xef,0xf1,0xfb,0x101,0x107,0x10d,0x10f,0x115,0x119,0x11b,0x125,0x133,0x137,0x139,0x13d,0x14b,0x151,0x15b,0x15d,0x161,0x167,0x16f,0x175,0x17b,0x17f,0x185,0x18d,0x191,0x199,0x1a3,0x1a5,0x1af,0x1b1,0x1b7,0x1bb,0x1c1,0x1c9,0x1cd,0x1cf,0x1d3,0x1df,0x1e7,0x1eb,0x1f3,0x1f7,0x1fd,0x209,0x20b,0x21d,0x223,0x22d,0x233,0x239,0x23b,0x241,0x24b,0x251,0x257,0x259,0x25f,0x265,0x269,0x26b,0x277,0x281,0x283,0x287,0x28d,0x293,0x295,0x2a1,0x2a5,0x2ab,0x2b3,0x2bd,0x2c5,0x2cf,0x2d7,0x2dd,0x2e3,0x2e7,0x2ef,0x2f5,0x2f9,0x301,0x305,0x313,0x31d,0x329,0x32b,0x335,0x337,0x33b,0x33d,0x347,0x355,0x359,0x35b,0x35f,0x36d,0x371,0x373,0x377,0x38b,0x38f,0x397,0x3a1,0x3a9,0x3ad,0x3b3,0x3b9,0x3c7,0x3cb,0x3d1,0x3d7,0x3df,0x3e5],_0x1c8f67=(0x1<<0x1a)/_0xbc7f[_0xbc7f['length']-0x1];function _0xa17c5f(_0x3ec9e3){var _0x31e491,_0x7809ec=this['abs']();if(_0x7809ec['t']==0x1&&_0x7809ec[0x0]<=_0xbc7f[_0xbc7f['length']-0x1]){for(_0x31e491=0x0;_0x31e491<_0xbc7f['length'];++_0x31e491)if(_0x7809ec[0x0]==_0xbc7f[_0x31e491])return !![];return ![];}if(_0x7809ec['isEven']())return ![];_0x31e491=0x1;while(_0x31e491<_0xbc7f['length']){var _0x1cbc8e=_0xbc7f[_0x31e491],_0x349375=_0x31e491+0x1;while(_0x349375<_0xbc7f['length']&&_0x1cbc8e<_0x1c8f67)_0x1cbc8e*=_0xbc7f[_0x349375++];_0x1cbc8e=_0x7809ec['modInt'](_0x1cbc8e);while(_0x31e491<_0x349375)if(_0x1cbc8e%_0xbc7f[_0x31e491++]==0x0)return ![];}return _0x7809ec['millerRabin'](_0x3ec9e3);}function _0x39a0c0(_0x4f0b5c){var _0x31ba71=this['subtract'](_0xe5670c['ONE']),_0x5df0fb=_0x31ba71['getLowestSetBit']();if(_0x5df0fb<=0x0)return ![];var _0x882c29=_0x31ba71['shiftRight'](_0x5df0fb);_0x4f0b5c=_0x4f0b5c+0x1>>0x1;if(_0x4f0b5c>_0xbc7f['length'])_0x4f0b5c=_0xbc7f['length'];var _0x309789=_0x3308fc();for(var _0x43e7e4=0x0;_0x43e7e4<_0x4f0b5c;++_0x43e7e4){_0x309789['fromInt'](_0xbc7f[Math['floor'](Math['random']()*_0xbc7f['length'])]);var _0x20c24e=_0x309789['modPow'](_0x882c29,this);if(_0x20c24e['compareTo'](_0xe5670c['ONE'])!=0x0&&_0x20c24e['compareTo'](_0x31ba71)!=0x0){var _0x426afa=0x1;while(_0x426afa++<_0x5df0fb&&_0x20c24e['compareTo'](_0x31ba71)!=0x0){_0x20c24e=_0x20c24e['modPowInt'](0x2,this);if(_0x20c24e['compareTo'](_0xe5670c['ONE'])==0x0)return ![];}if(_0x20c24e['compareTo'](_0x31ba71)!=0x0)return ![];}}return !![];}_0xe5670c['prototype']['chunkSize']=_0x2aa038,_0xe5670c['prototype']['toRadix']=_0x2e9919,_0xe5670c['prototype']['fromRadix']=_0x32d7af,_0xe5670c['prototype']['fromNumber']=_0x157205,_0xe5670c['prototype']['bitwiseTo']=_0x20cb5b,_0xe5670c['prototype']['changeBit']=_0x9a798,_0xe5670c['prototype']['addTo']=_0x409a40,_0xe5670c['prototype']['dMultiply']=_0x46c314,_0xe5670c['prototype']['dAddOffset']=_0x3f7f4d,_0xe5670c['prototype']['multiplyLowerTo']=_0x2e9b18,_0xe5670c['prototype']['multiplyUpperTo']=_0x495ed6,_0xe5670c['prototype']['modInt']=_0x1fc912,_0xe5670c['prototype']['millerRabin']=_0x39a0c0,_0xe5670c['prototype']['clone']=_0x409cad,_0xe5670c['prototype']['intValue']=_0x422e0a,_0xe5670c['prototype']['byteValue']=_0x50b7f3,_0xe5670c['prototype']['shortValue']=_0x44553b,_0xe5670c['prototype']['signum']=_0x409852,_0xe5670c['prototype']['toByteArray']=_0x4c4642,_0xe5670c['prototype']['equals']=_0x17f5da,_0xe5670c['prototype']['min']=_0x139d1d,_0xe5670c['prototype']['max']=_0x3c8970,_0xe5670c['prototype']['and']=_0x488ff0,_0xe5670c['prototype']['or']=_0x26a369,_0xe5670c['prototype']['xor']=_0x3b50c8,_0xe5670c['prototype']['andNot']=_0x1daa93,_0xe5670c['prototype']['not']=_0xf9dd50,_0xe5670c['prototype']['shiftLeft']=_0x476a76,_0xe5670c['prototype']['shiftRight']=_0xefb60b,_0xe5670c['prototype']['getLowestSetBit']=_0x432718,_0xe5670c['prototype']['bitCount']=_0x16a7d7,_0xe5670c['prototype']['testBit']=_0x3e4bc9,_0xe5670c['prototype']['setBit']=_0x8bbac2,_0xe5670c['prototype']['clearBit']=_0x523ea8,_0xe5670c['prototype']['flipBit']=_0xa4f1bf,_0xe5670c['prototype']['add']=_0x2350da,_0xe5670c['prototype']['subtract']=_0x3a0203,_0xe5670c['prototype']['multiply']=_0x25f19a,_0xe5670c['prototype']['divide']=_0x30ec1d,_0xe5670c['prototype']['remainder']=_0x2261e2,_0xe5670c['prototype']['divideAndRemainder']=_0x1bb8b7,_0xe5670c['prototype']['modPow']=_0x30f85a,_0xe5670c['prototype']['modInverse']=_0x1f6c40,_0xe5670c['prototype']['pow']=_0x8cabca,_0xe5670c['prototype']['gcd']=_0x5d6891,_0xe5670c['prototype']['isProbablePrime']=_0xa17c5f,_0xe5670c['prototype']['square']=_0x47624b;var _0xd21b2a=_0xe5670c;_0xd21b2a['prototype']['IsNegative']=function(){if(this['compareTo'](_0xd21b2a['ZERO'])==-0x1)return !![];else return ![];},_0xd21b2a['op_Equality']=function(_0xe6b799,_0xed6d43){if(_0xe6b799['compareTo'](_0xed6d43)==0x0)return !![];else return ![];},_0xd21b2a['op_Inequality']=function(_0x35c078,_0x59361b){if(_0x35c078['compareTo'](_0x59361b)!=0x0)return !![];else return ![];},_0xd21b2a['op_GreaterThan']=function(_0x38af52,_0x1b869b){if(_0x38af52['compareTo'](_0x1b869b)>0x0)return !![];else return ![];},_0xd21b2a['op_LessThan']=function(_0x5c59ab,_0x1e0452){if(_0x5c59ab['compareTo'](_0x1e0452)<0x0)return !![];else return ![];},_0xd21b2a['op_Addition']=function(_0x4b8fcb,_0xdc6b6){return new _0xd21b2a(_0x4b8fcb,undefined,undefined)['add'](new _0xd21b2a(_0xdc6b6,undefined,undefined));},_0xd21b2a['op_Subtraction']=function(_0x4c4b91,_0x24874e){return new _0xd21b2a(_0x4c4b91,undefined,undefined)['subtract'](new _0xd21b2a(_0x24874e,undefined,undefined));},_0xd21b2a['Int128Mul']=function(_0xed7f92,_0x53d0ea){return new _0xd21b2a(_0xed7f92,undefined,undefined)['multiply'](new _0xd21b2a(_0x53d0ea,undefined,undefined));},_0xd21b2a['op_Division']=function(_0x4e614f,_0x305501){return _0x4e614f['divide'](_0x305501);},_0xd21b2a['prototype']['ToDouble']=function(){return parseFloat(this['toString']());};var _0xd42dbb=function(_0x370aeb,_0x28837a){var _0x538c6b;if(typeof Object['getOwnPropertyNames']==='undefined'){for(_0x538c6b in _0x28837a['prototype'])if(typeof _0x370aeb['prototype'][_0x538c6b]==='undefined'||_0x370aeb['prototype'][_0x538c6b]===Object['prototype'][_0x538c6b])_0x370aeb['prototype'][_0x538c6b]=_0x28837a['prototype'][_0x538c6b];for(_0x538c6b in _0x28837a)if(typeof _0x370aeb[_0x538c6b]==='undefined')_0x370aeb[_0x538c6b]=_0x28837a[_0x538c6b];_0x370aeb['$baseCtor']=_0x28837a;}else {var _0x306d79=Object['getOwnPropertyNames'](_0x28837a['prototype']);for(var _0x40f32f=0x0;_0x40f32f<_0x306d79['length'];_0x40f32f++)if(typeof Object['getOwnPropertyDescriptor'](_0x370aeb['prototype'],_0x306d79[_0x40f32f])==='undefined')Object['defineProperty'](_0x370aeb['prototype'],_0x306d79[_0x40f32f],Object['getOwnPropertyDescriptor'](_0x28837a['prototype'],_0x306d79[_0x40f32f]));for(_0x538c6b in _0x28837a)if(typeof _0x370aeb[_0x538c6b]==='undefined')_0x370aeb[_0x538c6b]=_0x28837a[_0x538c6b];_0x370aeb['$baseCtor']=_0x28837a;}};_0x23c0c3['Path']=function(){return [];},_0x23c0c3['Path']['prototype']['push']=Array['prototype']['push'],_0x23c0c3['Paths']=function(){return [];},_0x23c0c3['Paths']['prototype']['push']=Array['prototype']['push'],_0x23c0c3['DoublePoint']=function(){var _0x532cca=arguments;this['X']=0x0,this['Y']=0x0;if(_0x532cca['length']===0x1)this['X']=_0x532cca[0x0]['X'],this['Y']=_0x532cca[0x0]['Y'];else _0x532cca['length']===0x2&&(this['X']=_0x532cca[0x0],this['Y']=_0x532cca[0x1]);},_0x23c0c3['DoublePoint0']=function(){this['X']=0x0,this['Y']=0x0;},_0x23c0c3['DoublePoint0']['prototype']=_0x23c0c3['DoublePoint']['prototype'],_0x23c0c3['DoublePoint1']=function(_0x3f9551){this['X']=_0x3f9551['X'],this['Y']=_0x3f9551['Y'];},_0x23c0c3['DoublePoint1']['prototype']=_0x23c0c3['DoublePoint']['prototype'],_0x23c0c3['DoublePoint2']=function(_0x4bca9a,_0x94098d){this['X']=_0x4bca9a,this['Y']=_0x94098d;},_0x23c0c3['DoublePoint2']['prototype']=_0x23c0c3['DoublePoint']['prototype'],_0x23c0c3['PolyNode']=function(){this['m_Parent']=null,this['m_polygon']=new _0x23c0c3['Path'](),this['m_Index']=0x0,this['m_jointype']=0x0,this['m_endtype']=0x0,this['m_Childs']=[],this['IsOpen']=![];},_0x23c0c3['PolyNode']['prototype']['IsHoleNode']=function(){var _0x1c671f=!![],_0x2e75ec=this['m_Parent'];while(_0x2e75ec!==null){_0x1c671f=!_0x1c671f,_0x2e75ec=_0x2e75ec['m_Parent'];}return _0x1c671f;},_0x23c0c3['PolyNode']['prototype']['ChildCount']=function(){return this['m_Childs']['length'];},_0x23c0c3['PolyNode']['prototype']['Contour']=function(){return this['m_polygon'];},_0x23c0c3['PolyNode']['prototype']['AddChild']=function(_0x383fd9){var _0x32fdd5=this['m_Childs']['length'];this['m_Childs']['push'](_0x383fd9),_0x383fd9['m_Parent']=this,_0x383fd9['m_Index']=_0x32fdd5;},_0x23c0c3['PolyNode']['prototype']['GetNext']=function(){if(this['m_Childs']['length']>0x0)return this['m_Childs'][0x0];else return this['GetNextSiblingUp']();},_0x23c0c3['PolyNode']['prototype']['GetNextSiblingUp']=function(){if(this['m_Parent']===null)return null;else {if(this['m_Index']===this['m_Parent']['m_Childs']['length']-0x1)return this['m_Parent']['GetNextSiblingUp']();else return this['m_Parent']['m_Childs'][this['m_Index']+0x1];}},_0x23c0c3['PolyNode']['prototype']['Childs']=function(){return this['m_Childs'];},_0x23c0c3['PolyNode']['prototype']['Parent']=function(){return this['m_Parent'];},_0x23c0c3['PolyNode']['prototype']['IsHole']=function(){return this['IsHoleNode']();},_0x23c0c3['PolyTree']=function(){this['m_AllPolys']=[],_0x23c0c3['PolyNode']['call'](this);},_0x23c0c3['PolyTree']['prototype']['Clear']=function(){for(var _0x2d1666=0x0,_0x2359b6=this['m_AllPolys']['length'];_0x2d1666<_0x2359b6;_0x2d1666++)this['m_AllPolys'][_0x2d1666]=null;this['m_AllPolys']['length']=0x0,this['m_Childs']['length']=0x0;},_0x23c0c3['PolyTree']['prototype']['GetFirst']=function(){if(this['m_Childs']['length']>0x0)return this['m_Childs'][0x0];else return null;},_0x23c0c3['PolyTree']['prototype']['Total']=function(){var _0xe781a0=this['m_AllPolys']['length'];if(_0xe781a0>0x0&&this['m_Childs'][0x0]!==this['m_AllPolys'][0x0])_0xe781a0--;return _0xe781a0;},_0xd42dbb(_0x23c0c3['PolyTree'],_0x23c0c3['PolyNode']),_0x23c0c3['Math_Abs_Int64']=_0x23c0c3['Math_Abs_Int32']=_0x23c0c3['Math_Abs_Double']=function(_0xcbf15c){return Math['abs'](_0xcbf15c);},_0x23c0c3['Math_Max_Int32_Int32']=function(_0x511c2d,_0x2e34a0){return Math['max'](_0x511c2d,_0x2e34a0);};if(_0x5d5b0a['msie']||_0x5d5b0a['opera']||_0x5d5b0a['safari'])_0x23c0c3['Cast_Int32']=function(_0x29de4f){return _0x29de4f|0x0;};else _0x23c0c3['Cast_Int32']=function(_0x56fe95){return ~~_0x56fe95;};if(typeof Number['toInteger']==='undefined')Number['toInteger']=null;if(_0x5d5b0a['chrome'])_0x23c0c3['Cast_Int64']=function(_0x30daef){if(_0x30daef<-0x80000000||_0x30daef>0x7fffffff)return _0x30daef<0x0?Math['ceil'](_0x30daef):Math['floor'](_0x30daef);else return ~~_0x30daef;};else {if(_0x5d5b0a['firefox']&&typeof Number['toInteger']==='function')_0x23c0c3['Cast_Int64']=function(_0x1c8626){return Number['toInteger'](_0x1c8626);};else {if(_0x5d5b0a['msie7']||_0x5d5b0a['msie8'])_0x23c0c3['Cast_Int64']=function(_0x3d8f2d){return parseInt(_0x3d8f2d,0xa);};else {if(_0x5d5b0a['msie'])_0x23c0c3['Cast_Int64']=function(_0x4a6e40){if(_0x4a6e40<-0x80000000||_0x4a6e40>0x7fffffff)return _0x4a6e40<0x0?Math['ceil'](_0x4a6e40):Math['floor'](_0x4a6e40);return _0x4a6e40|0x0;};else _0x23c0c3['Cast_Int64']=function(_0x6fefa9){return _0x6fefa9<0x0?Math['ceil'](_0x6fefa9):Math['floor'](_0x6fefa9);};}}}_0x23c0c3['Clear']=function(_0x1d9c57){_0x1d9c57['length']=0x0;},_0x23c0c3['PI']=3.141592653589793,_0x23c0c3['PI2']=0x2*3.141592653589793,_0x23c0c3['IntPoint']=function(){var _0x5ca961=arguments,_0x33b6a6=_0x5ca961['length'];this['X']=0x0,this['Y']=0x0;if(_0x23c0c3['use_xyz']){this['Z']=0x0;if(_0x33b6a6===0x3)this['X']=_0x5ca961[0x0],this['Y']=_0x5ca961[0x1],this['Z']=_0x5ca961[0x2];else {if(_0x33b6a6===0x2)this['X']=_0x5ca961[0x0],this['Y']=_0x5ca961[0x1],this['Z']=0x0;else {if(_0x33b6a6===0x1){if(_0x5ca961[0x0]instanceof _0x23c0c3['DoublePoint']){var _0x1d220d=_0x5ca961[0x0];this['X']=_0x23c0c3['Clipper']['Round'](_0x1d220d['X']),this['Y']=_0x23c0c3['Clipper']['Round'](_0x1d220d['Y']),this['Z']=0x0;}else {var _0x1f3295=_0x5ca961[0x0];if(typeof _0x1f3295['Z']==='undefined')_0x1f3295['Z']=0x0;this['X']=_0x1f3295['X'],this['Y']=_0x1f3295['Y'],this['Z']=_0x1f3295['Z'];}}else this['X']=0x0,this['Y']=0x0,this['Z']=0x0;}}}else {if(_0x33b6a6===0x2)this['X']=_0x5ca961[0x0],this['Y']=_0x5ca961[0x1];else {if(_0x33b6a6===0x1){if(_0x5ca961[0x0]instanceof _0x23c0c3['DoublePoint']){var _0x1d220d=_0x5ca961[0x0];this['X']=_0x23c0c3['Clipper']['Round'](_0x1d220d['X']),this['Y']=_0x23c0c3['Clipper']['Round'](_0x1d220d['Y']);}else {var _0x1f3295=_0x5ca961[0x0];this['X']=_0x1f3295['X'],this['Y']=_0x1f3295['Y'];}}else this['X']=0x0,this['Y']=0x0;}}},_0x23c0c3['IntPoint']['op_Equality']=function(_0x2be68c,_0x2c533e){return _0x2be68c['X']===_0x2c533e['X']&&_0x2be68c['Y']===_0x2c533e['Y'];},_0x23c0c3['IntPoint']['op_Inequality']=function(_0x20b498,_0x1f9c3c){return _0x20b498['X']!==_0x1f9c3c['X']||_0x20b498['Y']!==_0x1f9c3c['Y'];},_0x23c0c3['IntPoint0']=function(){this['X']=0x0,this['Y']=0x0;if(_0x23c0c3['use_xyz'])this['Z']=0x0;},_0x23c0c3['IntPoint0']['prototype']=_0x23c0c3['IntPoint']['prototype'],_0x23c0c3['IntPoint1']=function(_0x3e0a29){this['X']=_0x3e0a29['X'],this['Y']=_0x3e0a29['Y'];if(_0x23c0c3['use_xyz']){if(typeof _0x3e0a29['Z']==='undefined')this['Z']=0x0;else this['Z']=_0x3e0a29['Z'];}},_0x23c0c3['IntPoint1']['prototype']=_0x23c0c3['IntPoint']['prototype'],_0x23c0c3['IntPoint1dp']=function(_0x57988f){this['X']=_0x23c0c3['Clipper']['Round'](_0x57988f['X']),this['Y']=_0x23c0c3['Clipper']['Round'](_0x57988f['Y']);if(_0x23c0c3['use_xyz'])this['Z']=0x0;},_0x23c0c3['IntPoint1dp']['prototype']=_0x23c0c3['IntPoint']['prototype'],_0x23c0c3['IntPoint2']=function(_0x1a19d7,_0x1e98d1,_0x22d759){this['X']=_0x1a19d7,this['Y']=_0x1e98d1;if(_0x23c0c3['use_xyz']){if(typeof _0x22d759==='undefined')this['Z']=0x0;else this['Z']=_0x22d759;}},_0x23c0c3['IntPoint2']['prototype']=_0x23c0c3['IntPoint']['prototype'],_0x23c0c3['IntRect']=function(){var _0xb96e27=arguments,_0x1155b0=_0xb96e27['length'];if(_0x1155b0===0x4)this['left']=_0xb96e27[0x0],this['top']=_0xb96e27[0x1],this['right']=_0xb96e27[0x2],this['bottom']=_0xb96e27[0x3];else {if(_0x1155b0===0x1){var _0x5a2545=_0xb96e27[0x0];this['left']=_0x5a2545['left'],this['top']=_0x5a2545['top'],this['right']=_0x5a2545['right'],this['bottom']=_0x5a2545['bottom'];}else this['left']=0x0,this['top']=0x0,this['right']=0x0,this['bottom']=0x0;}},_0x23c0c3['IntRect0']=function(){this['left']=0x0,this['top']=0x0,this['right']=0x0,this['bottom']=0x0;},_0x23c0c3['IntRect0']['prototype']=_0x23c0c3['IntRect']['prototype'],_0x23c0c3['IntRect1']=function(_0x2e546e){this['left']=_0x2e546e['left'],this['top']=_0x2e546e['top'],this['right']=_0x2e546e['right'],this['bottom']=_0x2e546e['bottom'];},_0x23c0c3['IntRect1']['prototype']=_0x23c0c3['IntRect']['prototype'],_0x23c0c3['IntRect4']=function(_0x24fcdd,_0x3085fd,_0x2adb38,_0x357f07){this['left']=_0x24fcdd,this['top']=_0x3085fd,this['right']=_0x2adb38,this['bottom']=_0x357f07;},_0x23c0c3['IntRect4']['prototype']=_0x23c0c3['IntRect']['prototype'],_0x23c0c3['ClipType']={'ctIntersection':0x0,'ctUnion':0x1,'ctDifference':0x2,'ctXor':0x3},_0x23c0c3['PolyType']={'ptSubject':0x0,'ptClip':0x1},_0x23c0c3['PolyFillType']={'pftEvenOdd':0x0,'pftNonZero':0x1,'pftPositive':0x2,'pftNegative':0x3},_0x23c0c3['JoinType']={'jtSquare':0x0,'jtRound':0x1,'jtMiter':0x2},_0x23c0c3['EndType']={'etOpenSquare':0x0,'etOpenRound':0x1,'etOpenButt':0x2,'etClosedLine':0x3,'etClosedPolygon':0x4},_0x23c0c3['EdgeSide']={'esLeft':0x0,'esRight':0x1},_0x23c0c3['Direction']={'dRightToLeft':0x0,'dLeftToRight':0x1},_0x23c0c3['TEdge']=function(){this['Bot']=new _0x23c0c3['IntPoint0'](),this['Curr']=new _0x23c0c3['IntPoint0'](),this['Top']=new _0x23c0c3['IntPoint0'](),this['Delta']=new _0x23c0c3['IntPoint0'](),this['Dx']=0x0,this['PolyTyp']=_0x23c0c3['PolyType']['ptSubject'],this['Side']=_0x23c0c3['EdgeSide']['esLeft'],this['WindDelta']=0x0,this['WindCnt']=0x0,this['WindCnt2']=0x0,this['OutIdx']=0x0,this['Next']=null,this['Prev']=null,this['NextInLML']=null,this['NextInAEL']=null,this['PrevInAEL']=null,this['NextInSEL']=null,this['PrevInSEL']=null;},_0x23c0c3['IntersectNode']=function(){this['Edge1']=null,this['Edge2']=null,this['Pt']=new _0x23c0c3['IntPoint0']();},_0x23c0c3['MyIntersectNodeSort']=function(){},_0x23c0c3['MyIntersectNodeSort']['Compare']=function(_0x292e11,_0x5d71c6){var _0x175242=_0x5d71c6['Pt']['Y']-_0x292e11['Pt']['Y'];if(_0x175242>0x0)return 0x1;else {if(_0x175242<0x0)return -0x1;else return 0x0;}},_0x23c0c3['LocalMinima']=function(){this['Y']=0x0,this['LeftBound']=null,this['RightBound']=null,this['Next']=null;},_0x23c0c3['Scanbeam']=function(){this['Y']=0x0,this['Next']=null;},_0x23c0c3['Maxima']=function(){this['X']=0x0,this['Next']=null,this['Prev']=null;},_0x23c0c3['OutRec']=function(){this['Idx']=0x0,this['IsHole']=![],this['IsOpen']=![],this['FirstLeft']=null,this['Pts']=null,this['BottomPt']=null,this['PolyNode']=null;},_0x23c0c3['OutPt']=function(){this['Idx']=0x0,this['Pt']=new _0x23c0c3['IntPoint0'](),this['Next']=null,this['Prev']=null;},_0x23c0c3['Join']=function(){this['OutPt1']=null,this['OutPt2']=null,this['OffPt']=new _0x23c0c3['IntPoint0']();},_0x23c0c3['ClipperBase']=function(){this['m_MinimaList']=null,this['m_CurrentLM']=null,this['m_edges']=new Array(),this['m_UseFullRange']=![],this['m_HasOpenPaths']=![],this['PreserveCollinear']=![],this['m_Scanbeam']=null,this['m_PolyOuts']=null,this['m_ActiveEdges']=null;},_0x23c0c3['ClipperBase']['horizontal']=-0x20000000000000,_0x23c0c3['ClipperBase']['Skip']=-0x2,_0x23c0c3['ClipperBase']['Unassigned']=-0x1,_0x23c0c3['ClipperBase']['tolerance']=1e-20,_0x23c0c3['ClipperBase']['loRange']=0x2d413cc,_0x23c0c3['ClipperBase']['hiRange']=0xfffffffffffff,_0x23c0c3['ClipperBase']['near_zero']=function(_0xf4cbc8){return _0xf4cbc8>-_0x23c0c3['ClipperBase']['tolerance']&&_0xf4cbc8<_0x23c0c3['ClipperBase']['tolerance'];},_0x23c0c3['ClipperBase']['IsHorizontal']=function(_0x1ea7e7){return _0x1ea7e7['Delta']['Y']===0x0;},_0x23c0c3['ClipperBase']['prototype']['PointIsVertex']=function(_0x303b8d,_0x28104b){var _0x217aea=_0x28104b;do{if(_0x23c0c3['IntPoint']['op_Equality'](_0x217aea['Pt'],_0x303b8d))return !![];_0x217aea=_0x217aea['Next'];}while(_0x217aea!==_0x28104b);return ![];},_0x23c0c3['ClipperBase']['prototype']['PointOnLineSegment']=function(_0x4c44ee,_0x5ea935,_0x1d530b,_0x1e0876){if(_0x1e0876)return _0x4c44ee['X']===_0x5ea935['X']&&_0x4c44ee['Y']===_0x5ea935['Y']||_0x4c44ee['X']===_0x1d530b['X']&&_0x4c44ee['Y']===_0x1d530b['Y']||_0x4c44ee['X']>_0x5ea935['X']===_0x4c44ee['X']<_0x1d530b['X']&&_0x4c44ee['Y']>_0x5ea935['Y']===_0x4c44ee['Y']<_0x1d530b['Y']&&_0xd21b2a['op_Equality'](_0xd21b2a['Int128Mul'](_0x4c44ee['X']-_0x5ea935['X'],_0x1d530b['Y']-_0x5ea935['Y']),_0xd21b2a['Int128Mul'](_0x1d530b['X']-_0x5ea935['X'],_0x4c44ee['Y']-_0x5ea935['Y']));else return _0x4c44ee['X']===_0x5ea935['X']&&_0x4c44ee['Y']===_0x5ea935['Y']||_0x4c44ee['X']===_0x1d530b['X']&&_0x4c44ee['Y']===_0x1d530b['Y']||_0x4c44ee['X']>_0x5ea935['X']===_0x4c44ee['X']<_0x1d530b['X']&&_0x4c44ee['Y']>_0x5ea935['Y']===_0x4c44ee['Y']<_0x1d530b['Y']&&(_0x4c44ee['X']-_0x5ea935['X'])*(_0x1d530b['Y']-_0x5ea935['Y'])===(_0x1d530b['X']-_0x5ea935['X'])*(_0x4c44ee['Y']-_0x5ea935['Y']);},_0x23c0c3['ClipperBase']['prototype']['PointOnPolygon']=function(_0x593617,_0x6aefb1,_0x413e94){var _0x1268d1=_0x6aefb1;while(!![]){if(this['PointOnLineSegment'](_0x593617,_0x1268d1['Pt'],_0x1268d1['Next']['Pt'],_0x413e94))return !![];_0x1268d1=_0x1268d1['Next'];if(_0x1268d1===_0x6aefb1)break;}return ![];},_0x23c0c3['ClipperBase']['prototype']['SlopesEqual']=_0x23c0c3['ClipperBase']['SlopesEqual']=function(){var _0x36cba9=arguments,_0x3cb174=_0x36cba9['length'],_0xd53af7,_0x485d25,_0x281afa,_0x154a5d,_0x67ec25,_0x31734b,_0x56ed7a;if(_0x3cb174===0x3){_0xd53af7=_0x36cba9[0x0],_0x485d25=_0x36cba9[0x1],_0x56ed7a=_0x36cba9[0x2];if(_0x56ed7a)return _0xd21b2a['op_Equality'](_0xd21b2a['Int128Mul'](_0xd53af7['Delta']['Y'],_0x485d25['Delta']['X']),_0xd21b2a['Int128Mul'](_0xd53af7['Delta']['X'],_0x485d25['Delta']['Y']));else return _0x23c0c3['Cast_Int64'](_0xd53af7['Delta']['Y']*_0x485d25['Delta']['X'])===_0x23c0c3['Cast_Int64'](_0xd53af7['Delta']['X']*_0x485d25['Delta']['Y']);}else {if(_0x3cb174===0x4){_0x281afa=_0x36cba9[0x0],_0x154a5d=_0x36cba9[0x1],_0x67ec25=_0x36cba9[0x2],_0x56ed7a=_0x36cba9[0x3];if(_0x56ed7a)return _0xd21b2a['op_Equality'](_0xd21b2a['Int128Mul'](_0x281afa['Y']-_0x154a5d['Y'],_0x154a5d['X']-_0x67ec25['X']),_0xd21b2a['Int128Mul'](_0x281afa['X']-_0x154a5d['X'],_0x154a5d['Y']-_0x67ec25['Y']));else return _0x23c0c3['Cast_Int64']((_0x281afa['Y']-_0x154a5d['Y'])*(_0x154a5d['X']-_0x67ec25['X']))-_0x23c0c3['Cast_Int64']((_0x281afa['X']-_0x154a5d['X'])*(_0x154a5d['Y']-_0x67ec25['Y']))===0x0;}else {_0x281afa=_0x36cba9[0x0],_0x154a5d=_0x36cba9[0x1],_0x67ec25=_0x36cba9[0x2],_0x31734b=_0x36cba9[0x3],_0x56ed7a=_0x36cba9[0x4];if(_0x56ed7a)return _0xd21b2a['op_Equality'](_0xd21b2a['Int128Mul'](_0x281afa['Y']-_0x154a5d['Y'],_0x67ec25['X']-_0x31734b['X']),_0xd21b2a['Int128Mul'](_0x281afa['X']-_0x154a5d['X'],_0x67ec25['Y']-_0x31734b['Y']));else return _0x23c0c3['Cast_Int64']((_0x281afa['Y']-_0x154a5d['Y'])*(_0x67ec25['X']-_0x31734b['X']))-_0x23c0c3['Cast_Int64']((_0x281afa['X']-_0x154a5d['X'])*(_0x67ec25['Y']-_0x31734b['Y']))===0x0;}}},_0x23c0c3['ClipperBase']['SlopesEqual3']=function(_0x57b384,_0x401455,_0x3f4959){if(_0x3f4959)return _0xd21b2a['op_Equality'](_0xd21b2a['Int128Mul'](_0x57b384['Delta']['Y'],_0x401455['Delta']['X']),_0xd21b2a['Int128Mul'](_0x57b384['Delta']['X'],_0x401455['Delta']['Y']));else return _0x23c0c3['Cast_Int64'](_0x57b384['Delta']['Y']*_0x401455['Delta']['X'])===_0x23c0c3['Cast_Int64'](_0x57b384['Delta']['X']*_0x401455['Delta']['Y']);},_0x23c0c3['ClipperBase']['SlopesEqual4']=function(_0x37cea8,_0x89770c,_0xe2b318,_0x5b7e6e){if(_0x5b7e6e)return _0xd21b2a['op_Equality'](_0xd21b2a['Int128Mul'](_0x37cea8['Y']-_0x89770c['Y'],_0x89770c['X']-_0xe2b318['X']),_0xd21b2a['Int128Mul'](_0x37cea8['X']-_0x89770c['X'],_0x89770c['Y']-_0xe2b318['Y']));else return _0x23c0c3['Cast_Int64']((_0x37cea8['Y']-_0x89770c['Y'])*(_0x89770c['X']-_0xe2b318['X']))-_0x23c0c3['Cast_Int64']((_0x37cea8['X']-_0x89770c['X'])*(_0x89770c['Y']-_0xe2b318['Y']))===0x0;},_0x23c0c3['ClipperBase']['SlopesEqual5']=function(_0x3ce948,_0x4cde57,_0x353b50,_0x5380cc,_0x646e2b){if(_0x646e2b)return _0xd21b2a['op_Equality'](_0xd21b2a['Int128Mul'](_0x3ce948['Y']-_0x4cde57['Y'],_0x353b50['X']-_0x5380cc['X']),_0xd21b2a['Int128Mul'](_0x3ce948['X']-_0x4cde57['X'],_0x353b50['Y']-_0x5380cc['Y']));else return _0x23c0c3['Cast_Int64']((_0x3ce948['Y']-_0x4cde57['Y'])*(_0x353b50['X']-_0x5380cc['X']))-_0x23c0c3['Cast_Int64']((_0x3ce948['X']-_0x4cde57['X'])*(_0x353b50['Y']-_0x5380cc['Y']))===0x0;},_0x23c0c3['ClipperBase']['prototype']['Clear']=function(){this['DisposeLocalMinimaList']();for(var _0x28941f=0x0,_0x5e5505=this['m_edges']['length'];_0x28941f<_0x5e5505;++_0x28941f){for(var _0x23fae1=0x0,_0x53813e=this['m_edges'][_0x28941f]['length'];_0x23fae1<_0x53813e;++_0x23fae1)this['m_edges'][_0x28941f][_0x23fae1]=null;_0x23c0c3['Clear'](this['m_edges'][_0x28941f]);}_0x23c0c3['Clear'](this['m_edges']),this['m_UseFullRange']=![],this['m_HasOpenPaths']=![];},_0x23c0c3['ClipperBase']['prototype']['DisposeLocalMinimaList']=function(){while(this['m_MinimaList']!==null){var _0x10cce3=this['m_MinimaList']['Next'];this['m_MinimaList']=null,this['m_MinimaList']=_0x10cce3;}this['m_CurrentLM']=null;},_0x23c0c3['ClipperBase']['prototype']['RangeTest']=function(_0x5234b1,_0x198747){if(_0x198747['Value']){if(_0x5234b1['X']>_0x23c0c3['ClipperBase']['hiRange']||_0x5234b1['Y']>_0x23c0c3['ClipperBase']['hiRange']||-_0x5234b1['X']>_0x23c0c3['ClipperBase']['hiRange']||-_0x5234b1['Y']>_0x23c0c3['ClipperBase']['hiRange'])_0x23c0c3['Error']('Coordinate\x20outside\x20allowed\x20range\x20in\x20RangeTest().');}else (_0x5234b1['X']>_0x23c0c3['ClipperBase']['loRange']||_0x5234b1['Y']>_0x23c0c3['ClipperBase']['loRange']||-_0x5234b1['X']>_0x23c0c3['ClipperBase']['loRange']||-_0x5234b1['Y']>_0x23c0c3['ClipperBase']['loRange'])&&(_0x198747['Value']=!![],this['RangeTest'](_0x5234b1,_0x198747));},_0x23c0c3['ClipperBase']['prototype']['InitEdge']=function(_0xeb183e,_0x369797,_0x2e5b2d,_0x4006d7){_0xeb183e['Next']=_0x369797,_0xeb183e['Prev']=_0x2e5b2d,_0xeb183e['Curr']['X']=_0x4006d7['X'],_0xeb183e['Curr']['Y']=_0x4006d7['Y'];if(_0x23c0c3['use_xyz'])_0xeb183e['Curr']['Z']=_0x4006d7['Z'];_0xeb183e['OutIdx']=-0x1;},_0x23c0c3['ClipperBase']['prototype']['InitEdge2']=function(_0x4e2a55,_0x1fba0b){if(_0x4e2a55['Curr']['Y']>=_0x4e2a55['Next']['Curr']['Y']){_0x4e2a55['Bot']['X']=_0x4e2a55['Curr']['X'],_0x4e2a55['Bot']['Y']=_0x4e2a55['Curr']['Y'];if(_0x23c0c3['use_xyz'])_0x4e2a55['Bot']['Z']=_0x4e2a55['Curr']['Z'];_0x4e2a55['Top']['X']=_0x4e2a55['Next']['Curr']['X'],_0x4e2a55['Top']['Y']=_0x4e2a55['Next']['Curr']['Y'];if(_0x23c0c3['use_xyz'])_0x4e2a55['Top']['Z']=_0x4e2a55['Next']['Curr']['Z'];}else {_0x4e2a55['Top']['X']=_0x4e2a55['Curr']['X'],_0x4e2a55['Top']['Y']=_0x4e2a55['Curr']['Y'];if(_0x23c0c3['use_xyz'])_0x4e2a55['Top']['Z']=_0x4e2a55['Curr']['Z'];_0x4e2a55['Bot']['X']=_0x4e2a55['Next']['Curr']['X'],_0x4e2a55['Bot']['Y']=_0x4e2a55['Next']['Curr']['Y'];if(_0x23c0c3['use_xyz'])_0x4e2a55['Bot']['Z']=_0x4e2a55['Next']['Curr']['Z'];}this['SetDx'](_0x4e2a55),_0x4e2a55['PolyTyp']=_0x1fba0b;},_0x23c0c3['ClipperBase']['prototype']['FindNextLocMin']=function(_0x538008){var _0x11da38;for(;;){while(_0x23c0c3['IntPoint']['op_Inequality'](_0x538008['Bot'],_0x538008['Prev']['Bot'])||_0x23c0c3['IntPoint']['op_Equality'](_0x538008['Curr'],_0x538008['Top']))_0x538008=_0x538008['Next'];if(_0x538008['Dx']!==_0x23c0c3['ClipperBase']['horizontal']&&_0x538008['Prev']['Dx']!==_0x23c0c3['ClipperBase']['horizontal'])break;while(_0x538008['Prev']['Dx']===_0x23c0c3['ClipperBase']['horizontal'])_0x538008=_0x538008['Prev'];_0x11da38=_0x538008;while(_0x538008['Dx']===_0x23c0c3['ClipperBase']['horizontal'])_0x538008=_0x538008['Next'];if(_0x538008['Top']['Y']===_0x538008['Prev']['Bot']['Y'])continue;if(_0x11da38['Prev']['Bot']['X']<_0x538008['Bot']['X'])_0x538008=_0x11da38;break;}return _0x538008;},_0x23c0c3['ClipperBase']['prototype']['ProcessBound']=function(_0x54d1f3,_0x5094b4){var _0x20ddf9,_0x48291e=_0x54d1f3,_0x44e320;if(_0x48291e['OutIdx']===_0x23c0c3['ClipperBase']['Skip']){_0x54d1f3=_0x48291e;if(_0x5094b4){while(_0x54d1f3['Top']['Y']===_0x54d1f3['Next']['Bot']['Y'])_0x54d1f3=_0x54d1f3['Next'];while(_0x54d1f3!==_0x48291e&&_0x54d1f3['Dx']===_0x23c0c3['ClipperBase']['horizontal'])_0x54d1f3=_0x54d1f3['Prev'];}else {while(_0x54d1f3['Top']['Y']===_0x54d1f3['Prev']['Bot']['Y'])_0x54d1f3=_0x54d1f3['Prev'];while(_0x54d1f3!==_0x48291e&&_0x54d1f3['Dx']===_0x23c0c3['ClipperBase']['horizontal'])_0x54d1f3=_0x54d1f3['Next'];}if(_0x54d1f3===_0x48291e){if(_0x5094b4)_0x48291e=_0x54d1f3['Next'];else _0x48291e=_0x54d1f3['Prev'];}else {if(_0x5094b4)_0x54d1f3=_0x48291e['Next'];else _0x54d1f3=_0x48291e['Prev'];var _0xdce301=new _0x23c0c3['LocalMinima']();_0xdce301['Next']=null,_0xdce301['Y']=_0x54d1f3['Bot']['Y'],_0xdce301['LeftBound']=null,_0xdce301['RightBound']=_0x54d1f3,_0x54d1f3['WindDelta']=0x0,_0x48291e=this['ProcessBound'](_0x54d1f3,_0x5094b4),this['InsertLocalMinima'](_0xdce301);}return _0x48291e;}if(_0x54d1f3['Dx']===_0x23c0c3['ClipperBase']['horizontal']){if(_0x5094b4)_0x20ddf9=_0x54d1f3['Prev'];else _0x20ddf9=_0x54d1f3['Next'];if(_0x20ddf9['Dx']===_0x23c0c3['ClipperBase']['horizontal']){if(_0x20ddf9['Bot']['X']!==_0x54d1f3['Bot']['X']&&_0x20ddf9['Top']['X']!==_0x54d1f3['Bot']['X'])this['ReverseHorizontal'](_0x54d1f3);}else {if(_0x20ddf9['Bot']['X']!==_0x54d1f3['Bot']['X'])this['ReverseHorizontal'](_0x54d1f3);}}_0x20ddf9=_0x54d1f3;if(_0x5094b4){while(_0x48291e['Top']['Y']===_0x48291e['Next']['Bot']['Y']&&_0x48291e['Next']['OutIdx']!==_0x23c0c3['ClipperBase']['Skip'])_0x48291e=_0x48291e['Next'];if(_0x48291e['Dx']===_0x23c0c3['ClipperBase']['horizontal']&&_0x48291e['Next']['OutIdx']!==_0x23c0c3['ClipperBase']['Skip']){_0x44e320=_0x48291e;while(_0x44e320['Prev']['Dx']===_0x23c0c3['ClipperBase']['horizontal'])_0x44e320=_0x44e320['Prev'];if(_0x44e320['Prev']['Top']['X']>_0x48291e['Next']['Top']['X'])_0x48291e=_0x44e320['Prev'];}while(_0x54d1f3!==_0x48291e){_0x54d1f3['NextInLML']=_0x54d1f3['Next'];if(_0x54d1f3['Dx']===_0x23c0c3['ClipperBase']['horizontal']&&_0x54d1f3!==_0x20ddf9&&_0x54d1f3['Bot']['X']!==_0x54d1f3['Prev']['Top']['X'])this['ReverseHorizontal'](_0x54d1f3);_0x54d1f3=_0x54d1f3['Next'];}if(_0x54d1f3['Dx']===_0x23c0c3['ClipperBase']['horizontal']&&_0x54d1f3!==_0x20ddf9&&_0x54d1f3['Bot']['X']!==_0x54d1f3['Prev']['Top']['X'])this['ReverseHorizontal'](_0x54d1f3);_0x48291e=_0x48291e['Next'];}else {while(_0x48291e['Top']['Y']===_0x48291e['Prev']['Bot']['Y']&&_0x48291e['Prev']['OutIdx']!==_0x23c0c3['ClipperBase']['Skip'])_0x48291e=_0x48291e['Prev'];if(_0x48291e['Dx']===_0x23c0c3['ClipperBase']['horizontal']&&_0x48291e['Prev']['OutIdx']!==_0x23c0c3['ClipperBase']['Skip']){_0x44e320=_0x48291e;while(_0x44e320['Next']['Dx']===_0x23c0c3['ClipperBase']['horizontal'])_0x44e320=_0x44e320['Next'];(_0x44e320['Next']['Top']['X']===_0x48291e['Prev']['Top']['X']||_0x44e320['Next']['Top']['X']>_0x48291e['Prev']['Top']['X'])&&(_0x48291e=_0x44e320['Next']);}while(_0x54d1f3!==_0x48291e){_0x54d1f3['NextInLML']=_0x54d1f3['Prev'];if(_0x54d1f3['Dx']===_0x23c0c3['ClipperBase']['horizontal']&&_0x54d1f3!==_0x20ddf9&&_0x54d1f3['Bot']['X']!==_0x54d1f3['Next']['Top']['X'])this['ReverseHorizontal'](_0x54d1f3);_0x54d1f3=_0x54d1f3['Prev'];}if(_0x54d1f3['Dx']===_0x23c0c3['ClipperBase']['horizontal']&&_0x54d1f3!==_0x20ddf9&&_0x54d1f3['Bot']['X']!==_0x54d1f3['Next']['Top']['X'])this['ReverseHorizontal'](_0x54d1f3);_0x48291e=_0x48291e['Prev'];}return _0x48291e;},_0x23c0c3['ClipperBase']['prototype']['AddPath']=function(_0x5b7d2b,_0x441ce3,_0x1a4c20){if(_0x23c0c3['use_lines']){if(!_0x1a4c20&&_0x441ce3===_0x23c0c3['PolyType']['ptClip'])_0x23c0c3['Error']('AddPath:\x20Open\x20paths\x20must\x20be\x20subject.');}else {if(!_0x1a4c20)_0x23c0c3['Error']('AddPath:\x20Open\x20paths\x20have\x20been\x20disabled.');}var _0x4e53ff=_0x5b7d2b['length']-0x1;if(_0x1a4c20){while(_0x4e53ff>0x0&&_0x23c0c3['IntPoint']['op_Equality'](_0x5b7d2b[_0x4e53ff],_0x5b7d2b[0x0]))--_0x4e53ff;}while(_0x4e53ff>0x0&&_0x23c0c3['IntPoint']['op_Equality'](_0x5b7d2b[_0x4e53ff],_0x5b7d2b[_0x4e53ff-0x1]))--_0x4e53ff;if(_0x1a4c20&&_0x4e53ff<0x2||!_0x1a4c20&&_0x4e53ff<0x1)return ![];var _0x43886d=new Array();for(var _0xfb4bf8=0x0;_0xfb4bf8<=_0x4e53ff;_0xfb4bf8++)_0x43886d['push'](new _0x23c0c3['TEdge']());var _0x169f1d=!![];_0x43886d[0x1]['Curr']['X']=_0x5b7d2b[0x1]['X'],_0x43886d[0x1]['Curr']['Y']=_0x5b7d2b[0x1]['Y'];if(_0x23c0c3['use_xyz'])_0x43886d[0x1]['Curr']['Z']=_0x5b7d2b[0x1]['Z'];var _0x5d9a63={'Value':this['m_UseFullRange']};this['RangeTest'](_0x5b7d2b[0x0],_0x5d9a63),this['m_UseFullRange']=_0x5d9a63['Value'],_0x5d9a63['Value']=this['m_UseFullRange'],this['RangeTest'](_0x5b7d2b[_0x4e53ff],_0x5d9a63),this['m_UseFullRange']=_0x5d9a63['Value'],this['InitEdge'](_0x43886d[0x0],_0x43886d[0x1],_0x43886d[_0x4e53ff],_0x5b7d2b[0x0]),this['InitEdge'](_0x43886d[_0x4e53ff],_0x43886d[0x0],_0x43886d[_0x4e53ff-0x1],_0x5b7d2b[_0x4e53ff]);for(var _0xfb4bf8=_0x4e53ff-0x1;_0xfb4bf8>=0x1;--_0xfb4bf8){_0x5d9a63['Value']=this['m_UseFullRange'],this['RangeTest'](_0x5b7d2b[_0xfb4bf8],_0x5d9a63),this['m_UseFullRange']=_0x5d9a63['Value'],this['InitEdge'](_0x43886d[_0xfb4bf8],_0x43886d[_0xfb4bf8+0x1],_0x43886d[_0xfb4bf8-0x1],_0x5b7d2b[_0xfb4bf8]);}var _0x17e6c9=_0x43886d[0x0],_0x2976f6=_0x17e6c9,_0x11c752=_0x17e6c9;for(;;){if(_0x2976f6['Curr']===_0x2976f6['Next']['Curr']&&(_0x1a4c20||_0x2976f6['Next']!==_0x17e6c9)){if(_0x2976f6===_0x2976f6['Next'])break;if(_0x2976f6===_0x17e6c9)_0x17e6c9=_0x2976f6['Next'];_0x2976f6=this['RemoveEdge'](_0x2976f6),_0x11c752=_0x2976f6;continue;}if(_0x2976f6['Prev']===_0x2976f6['Next'])break;else {if(_0x1a4c20&&_0x23c0c3['ClipperBase']['SlopesEqual4'](_0x2976f6['Prev']['Curr'],_0x2976f6['Curr'],_0x2976f6['Next']['Curr'],this['m_UseFullRange'])&&(!this['PreserveCollinear']||!this['Pt2IsBetweenPt1AndPt3'](_0x2976f6['Prev']['Curr'],_0x2976f6['Curr'],_0x2976f6['Next']['Curr']))){if(_0x2976f6===_0x17e6c9)_0x17e6c9=_0x2976f6['Next'];_0x2976f6=this['RemoveEdge'](_0x2976f6),_0x2976f6=_0x2976f6['Prev'],_0x11c752=_0x2976f6;continue;}}_0x2976f6=_0x2976f6['Next'];if(_0x2976f6===_0x11c752||!_0x1a4c20&&_0x2976f6['Next']===_0x17e6c9)break;}if(!_0x1a4c20&&_0x2976f6===_0x2976f6['Next']||_0x1a4c20&&_0x2976f6['Prev']===_0x2976f6['Next'])return ![];!_0x1a4c20&&(this['m_HasOpenPaths']=!![],_0x17e6c9['Prev']['OutIdx']=_0x23c0c3['ClipperBase']['Skip']);_0x2976f6=_0x17e6c9;do{this['InitEdge2'](_0x2976f6,_0x441ce3),_0x2976f6=_0x2976f6['Next'];if(_0x169f1d&&_0x2976f6['Curr']['Y']!==_0x17e6c9['Curr']['Y'])_0x169f1d=![];}while(_0x2976f6!==_0x17e6c9);if(_0x169f1d){if(_0x1a4c20)return ![];_0x2976f6['Prev']['OutIdx']=_0x23c0c3['ClipperBase']['Skip'];var _0x5d5f2c=new _0x23c0c3['LocalMinima']();_0x5d5f2c['Next']=null,_0x5d5f2c['Y']=_0x2976f6['Bot']['Y'],_0x5d5f2c['LeftBound']=null,_0x5d5f2c['RightBound']=_0x2976f6,_0x5d5f2c['RightBound']['Side']=_0x23c0c3['EdgeSide']['esRight'],_0x5d5f2c['RightBound']['WindDelta']=0x0;for(;;){if(_0x2976f6['Bot']['X']!==_0x2976f6['Prev']['Top']['X'])this['ReverseHorizontal'](_0x2976f6);if(_0x2976f6['Next']['OutIdx']===_0x23c0c3['ClipperBase']['Skip'])break;_0x2976f6['NextInLML']=_0x2976f6['Next'],_0x2976f6=_0x2976f6['Next'];}return this['InsertLocalMinima'](_0x5d5f2c),this['m_edges']['push'](_0x43886d),!![];}this['m_edges']['push'](_0x43886d);var _0x365217,_0x1954ad=null;if(_0x23c0c3['IntPoint']['op_Equality'](_0x2976f6['Prev']['Bot'],_0x2976f6['Prev']['Top']))_0x2976f6=_0x2976f6['Next'];for(;;){_0x2976f6=this['FindNextLocMin'](_0x2976f6);if(_0x2976f6===_0x1954ad)break;else {if(_0x1954ad===null)_0x1954ad=_0x2976f6;}var _0x5d5f2c=new _0x23c0c3['LocalMinima']();_0x5d5f2c['Next']=null,_0x5d5f2c['Y']=_0x2976f6['Bot']['Y'];_0x2976f6['Dx']<_0x2976f6['Prev']['Dx']?(_0x5d5f2c['LeftBound']=_0x2976f6['Prev'],_0x5d5f2c['RightBound']=_0x2976f6,_0x365217=![]):(_0x5d5f2c['LeftBound']=_0x2976f6,_0x5d5f2c['RightBound']=_0x2976f6['Prev'],_0x365217=!![]);_0x5d5f2c['LeftBound']['Side']=_0x23c0c3['EdgeSide']['esLeft'],_0x5d5f2c['RightBound']['Side']=_0x23c0c3['EdgeSide']['esRight'];if(!_0x1a4c20)_0x5d5f2c['LeftBound']['WindDelta']=0x0;else {if(_0x5d5f2c['LeftBound']['Next']===_0x5d5f2c['RightBound'])_0x5d5f2c['LeftBound']['WindDelta']=-0x1;else _0x5d5f2c['LeftBound']['WindDelta']=0x1;}_0x5d5f2c['RightBound']['WindDelta']=-_0x5d5f2c['LeftBound']['WindDelta'],_0x2976f6=this['ProcessBound'](_0x5d5f2c['LeftBound'],_0x365217);if(_0x2976f6['OutIdx']===_0x23c0c3['ClipperBase']['Skip'])_0x2976f6=this['ProcessBound'](_0x2976f6,_0x365217);var _0x565b40=this['ProcessBound'](_0x5d5f2c['RightBound'],!_0x365217);if(_0x565b40['OutIdx']===_0x23c0c3['ClipperBase']['Skip'])_0x565b40=this['ProcessBound'](_0x565b40,!_0x365217);if(_0x5d5f2c['LeftBound']['OutIdx']===_0x23c0c3['ClipperBase']['Skip'])_0x5d5f2c['LeftBound']=null;else {if(_0x5d5f2c['RightBound']['OutIdx']===_0x23c0c3['ClipperBase']['Skip'])_0x5d5f2c['RightBound']=null;}this['InsertLocalMinima'](_0x5d5f2c);if(!_0x365217)_0x2976f6=_0x565b40;}return !![];},_0x23c0c3['ClipperBase']['prototype']['AddPaths']=function(_0x149ee4,_0x292e98,_0x5e0e13){var _0x4d0a11=![];for(var _0x257df7=0x0,_0xde0a7a=_0x149ee4['length'];_0x257df7<_0xde0a7a;++_0x257df7)if(this['AddPath'](_0x149ee4[_0x257df7],_0x292e98,_0x5e0e13))_0x4d0a11=!![];return _0x4d0a11;},_0x23c0c3['ClipperBase']['prototype']['Pt2IsBetweenPt1AndPt3']=function(_0x40cf6b,_0x502001,_0x481fe7){if(_0x23c0c3['IntPoint']['op_Equality'](_0x40cf6b,_0x481fe7)||_0x23c0c3['IntPoint']['op_Equality'](_0x40cf6b,_0x502001)||_0x23c0c3['IntPoint']['op_Equality'](_0x481fe7,_0x502001))return ![];else {if(_0x40cf6b['X']!==_0x481fe7['X'])return _0x502001['X']>_0x40cf6b['X']===_0x502001['X']<_0x481fe7['X'];else return _0x502001['Y']>_0x40cf6b['Y']===_0x502001['Y']<_0x481fe7['Y'];}},_0x23c0c3['ClipperBase']['prototype']['RemoveEdge']=function(_0x31542f){_0x31542f['Prev']['Next']=_0x31542f['Next'],_0x31542f['Next']['Prev']=_0x31542f['Prev'];var _0x50d435=_0x31542f['Next'];return _0x31542f['Prev']=null,_0x50d435;},_0x23c0c3['ClipperBase']['prototype']['SetDx']=function(_0x2cc622){_0x2cc622['Delta']['X']=_0x2cc622['Top']['X']-_0x2cc622['Bot']['X'],_0x2cc622['Delta']['Y']=_0x2cc622['Top']['Y']-_0x2cc622['Bot']['Y'];if(_0x2cc622['Delta']['Y']===0x0)_0x2cc622['Dx']=_0x23c0c3['ClipperBase']['horizontal'];else _0x2cc622['Dx']=_0x2cc622['Delta']['X']/_0x2cc622['Delta']['Y'];},_0x23c0c3['ClipperBase']['prototype']['InsertLocalMinima']=function(_0x4501e4){if(this['m_MinimaList']===null)this['m_MinimaList']=_0x4501e4;else {if(_0x4501e4['Y']>=this['m_MinimaList']['Y'])_0x4501e4['Next']=this['m_MinimaList'],this['m_MinimaList']=_0x4501e4;else {var _0x5b7381=this['m_MinimaList'];while(_0x5b7381['Next']!==null&&_0x4501e4['Y']<_0x5b7381['Next']['Y'])_0x5b7381=_0x5b7381['Next'];_0x4501e4['Next']=_0x5b7381['Next'],_0x5b7381['Next']=_0x4501e4;}}},_0x23c0c3['ClipperBase']['prototype']['PopLocalMinima']=function(_0x21fb59,_0x366318){_0x366318['v']=this['m_CurrentLM'];if(this['m_CurrentLM']!==null&&this['m_CurrentLM']['Y']===_0x21fb59)return this['m_CurrentLM']=this['m_CurrentLM']['Next'],!![];return ![];},_0x23c0c3['ClipperBase']['prototype']['ReverseHorizontal']=function(_0x473c43){var _0xd7c543=_0x473c43['Top']['X'];_0x473c43['Top']['X']=_0x473c43['Bot']['X'],_0x473c43['Bot']['X']=_0xd7c543,_0x23c0c3['use_xyz']&&(_0xd7c543=_0x473c43['Top']['Z'],_0x473c43['Top']['Z']=_0x473c43['Bot']['Z'],_0x473c43['Bot']['Z']=_0xd7c543);},_0x23c0c3['ClipperBase']['prototype']['Reset']=function(){this['m_CurrentLM']=this['m_MinimaList'];if(this['m_CurrentLM']===null)return;this['m_Scanbeam']=null;var _0xdd228a=this['m_MinimaList'];while(_0xdd228a!==null){this['InsertScanbeam'](_0xdd228a['Y']);var _0x5e9a8a=_0xdd228a['LeftBound'];if(_0x5e9a8a!==null){_0x5e9a8a['Curr']['X']=_0x5e9a8a['Bot']['X'],_0x5e9a8a['Curr']['Y']=_0x5e9a8a['Bot']['Y'];if(_0x23c0c3['use_xyz'])_0x5e9a8a['Curr']['Z']=_0x5e9a8a['Bot']['Z'];_0x5e9a8a['OutIdx']=_0x23c0c3['ClipperBase']['Unassigned'];}_0x5e9a8a=_0xdd228a['RightBound'];if(_0x5e9a8a!==null){_0x5e9a8a['Curr']['X']=_0x5e9a8a['Bot']['X'],_0x5e9a8a['Curr']['Y']=_0x5e9a8a['Bot']['Y'];if(_0x23c0c3['use_xyz'])_0x5e9a8a['Curr']['Z']=_0x5e9a8a['Bot']['Z'];_0x5e9a8a['OutIdx']=_0x23c0c3['ClipperBase']['Unassigned'];}_0xdd228a=_0xdd228a['Next'];}this['m_ActiveEdges']=null;},_0x23c0c3['ClipperBase']['prototype']['InsertScanbeam']=function(_0x49abe6){if(this['m_Scanbeam']===null)this['m_Scanbeam']=new _0x23c0c3['Scanbeam'](),this['m_Scanbeam']['Next']=null,this['m_Scanbeam']['Y']=_0x49abe6;else {if(_0x49abe6>this['m_Scanbeam']['Y']){var _0x10acf5=new _0x23c0c3['Scanbeam']();_0x10acf5['Y']=_0x49abe6,_0x10acf5['Next']=this['m_Scanbeam'],this['m_Scanbeam']=_0x10acf5;}else {var _0x794970=this['m_Scanbeam'];while(_0x794970['Next']!==null&&_0x49abe6<=_0x794970['Next']['Y']){_0x794970=_0x794970['Next'];}if(_0x49abe6===_0x794970['Y'])return;var _0x1afb05=new _0x23c0c3['Scanbeam']();_0x1afb05['Y']=_0x49abe6,_0x1afb05['Next']=_0x794970['Next'],_0x794970['Next']=_0x1afb05;}}},_0x23c0c3['ClipperBase']['prototype']['PopScanbeam']=function(_0x26ef38){if(this['m_Scanbeam']===null)return _0x26ef38['v']=0x0,![];return _0x26ef38['v']=this['m_Scanbeam']['Y'],this['m_Scanbeam']=this['m_Scanbeam']['Next'],!![];},_0x23c0c3['ClipperBase']['prototype']['LocalMinimaPending']=function(){return this['m_CurrentLM']!==null;},_0x23c0c3['ClipperBase']['prototype']['CreateOutRec']=function(){var _0x2c9eda=new _0x23c0c3['OutRec']();return _0x2c9eda['Idx']=_0x23c0c3['ClipperBase']['Unassigned'],_0x2c9eda['IsHole']=![],_0x2c9eda['IsOpen']=![],_0x2c9eda['FirstLeft']=null,_0x2c9eda['Pts']=null,_0x2c9eda['BottomPt']=null,_0x2c9eda['PolyNode']=null,this['m_PolyOuts']['push'](_0x2c9eda),_0x2c9eda['Idx']=this['m_PolyOuts']['length']-0x1,_0x2c9eda;},_0x23c0c3['ClipperBase']['prototype']['DisposeOutRec']=function(_0x53a90f){var _0xcd3731=this['m_PolyOuts'][_0x53a90f];_0xcd3731['Pts']=null,_0xcd3731=null,this['m_PolyOuts'][_0x53a90f]=null;},_0x23c0c3['ClipperBase']['prototype']['UpdateEdgeIntoAEL']=function(_0x153f6f){_0x153f6f['NextInLML']===null&&_0x23c0c3['Error']('UpdateEdgeIntoAEL:\x20invalid\x20call');var _0x3f9a31=_0x153f6f['PrevInAEL'],_0x4f670d=_0x153f6f['NextInAEL'];return _0x153f6f['NextInLML']['OutIdx']=_0x153f6f['OutIdx'],_0x3f9a31!==null?_0x3f9a31['NextInAEL']=_0x153f6f['NextInLML']:this['m_ActiveEdges']=_0x153f6f['NextInLML'],_0x4f670d!==null&&(_0x4f670d['PrevInAEL']=_0x153f6f['NextInLML']),_0x153f6f['NextInLML']['Side']=_0x153f6f['Side'],_0x153f6f['NextInLML']['WindDelta']=_0x153f6f['WindDelta'],_0x153f6f['NextInLML']['WindCnt']=_0x153f6f['WindCnt'],_0x153f6f['NextInLML']['WindCnt2']=_0x153f6f['WindCnt2'],_0x153f6f=_0x153f6f['NextInLML'],_0x153f6f['Curr']['X']=_0x153f6f['Bot']['X'],_0x153f6f['Curr']['Y']=_0x153f6f['Bot']['Y'],_0x153f6f['PrevInAEL']=_0x3f9a31,_0x153f6f['NextInAEL']=_0x4f670d,!_0x23c0c3['ClipperBase']['IsHorizontal'](_0x153f6f)&&this['InsertScanbeam'](_0x153f6f['Top']['Y']),_0x153f6f;},_0x23c0c3['ClipperBase']['prototype']['SwapPositionsInAEL']=function(_0x1e3188,_0x14d046){if(_0x1e3188['NextInAEL']===_0x1e3188['PrevInAEL']||_0x14d046['NextInAEL']===_0x14d046['PrevInAEL'])return;if(_0x1e3188['NextInAEL']===_0x14d046){var _0x108fdd=_0x14d046['NextInAEL'];_0x108fdd!==null&&(_0x108fdd['PrevInAEL']=_0x1e3188);var _0x5e098f=_0x1e3188['PrevInAEL'];_0x5e098f!==null&&(_0x5e098f['NextInAEL']=_0x14d046),_0x14d046['PrevInAEL']=_0x5e098f,_0x14d046['NextInAEL']=_0x1e3188,_0x1e3188['PrevInAEL']=_0x14d046,_0x1e3188['NextInAEL']=_0x108fdd;}else {if(_0x14d046['NextInAEL']===_0x1e3188){var _0x547508=_0x1e3188['NextInAEL'];_0x547508!==null&&(_0x547508['PrevInAEL']=_0x14d046);var _0x56f479=_0x14d046['PrevInAEL'];_0x56f479!==null&&(_0x56f479['NextInAEL']=_0x1e3188),_0x1e3188['PrevInAEL']=_0x56f479,_0x1e3188['NextInAEL']=_0x14d046,_0x14d046['PrevInAEL']=_0x1e3188,_0x14d046['NextInAEL']=_0x547508;}else {var _0x75236=_0x1e3188['NextInAEL'],_0x525555=_0x1e3188['PrevInAEL'];_0x1e3188['NextInAEL']=_0x14d046['NextInAEL'],_0x1e3188['NextInAEL']!==null&&(_0x1e3188['NextInAEL']['PrevInAEL']=_0x1e3188),_0x1e3188['PrevInAEL']=_0x14d046['PrevInAEL'],_0x1e3188['PrevInAEL']!==null&&(_0x1e3188['PrevInAEL']['NextInAEL']=_0x1e3188),_0x14d046['NextInAEL']=_0x75236,_0x14d046['NextInAEL']!==null&&(_0x14d046['NextInAEL']['PrevInAEL']=_0x14d046),_0x14d046['PrevInAEL']=_0x525555,_0x14d046['PrevInAEL']!==null&&(_0x14d046['PrevInAEL']['NextInAEL']=_0x14d046);}}_0x1e3188['PrevInAEL']===null?this['m_ActiveEdges']=_0x1e3188:_0x14d046['PrevInAEL']===null&&(this['m_ActiveEdges']=_0x14d046);},_0x23c0c3['ClipperBase']['prototype']['DeleteFromAEL']=function(_0x274f6f){var _0x4c6fa3=_0x274f6f['PrevInAEL'],_0x28a8b0=_0x274f6f['NextInAEL'];if(_0x4c6fa3===null&&_0x28a8b0===null&&_0x274f6f!==this['m_ActiveEdges'])return;_0x4c6fa3!==null?_0x4c6fa3['NextInAEL']=_0x28a8b0:this['m_ActiveEdges']=_0x28a8b0,_0x28a8b0!==null&&(_0x28a8b0['PrevInAEL']=_0x4c6fa3),_0x274f6f['NextInAEL']=null,_0x274f6f['PrevInAEL']=null;},_0x23c0c3['Clipper']=function(_0x3aae1d){if(typeof _0x3aae1d==='undefined')_0x3aae1d=0x0;this['m_PolyOuts']=null,this['m_ClipType']=_0x23c0c3['ClipType']['ctIntersection'],this['m_Scanbeam']=null,this['m_Maxima']=null,this['m_ActiveEdges']=null,this['m_SortedEdges']=null,this['m_IntersectList']=null,this['m_IntersectNodeComparer']=null,this['m_ExecuteLocked']=![],this['m_ClipFillType']=_0x23c0c3['PolyFillType']['pftEvenOdd'],this['m_SubjFillType']=_0x23c0c3['PolyFillType']['pftEvenOdd'],this['m_Joins']=null,this['m_GhostJoins']=null,this['m_UsingPolyTree']=![],this['ReverseSolution']=![],this['StrictlySimple']=![],_0x23c0c3['ClipperBase']['call'](this),this['m_Scanbeam']=null,this['m_Maxima']=null,this['m_ActiveEdges']=null,this['m_SortedEdges']=null,this['m_IntersectList']=new Array(),this['m_IntersectNodeComparer']=_0x23c0c3['MyIntersectNodeSort']['Compare'],this['m_ExecuteLocked']=![],this['m_UsingPolyTree']=![],this['m_PolyOuts']=new Array(),this['m_Joins']=new Array(),this['m_GhostJoins']=new Array(),this['ReverseSolution']=(0x1&_0x3aae1d)!==0x0,this['StrictlySimple']=(0x2&_0x3aae1d)!==0x0,this['PreserveCollinear']=(0x4&_0x3aae1d)!==0x0,_0x23c0c3['use_xyz']&&(this['ZFillFunction']=null);},_0x23c0c3['Clipper']['ioReverseSolution']=0x1,_0x23c0c3['Clipper']['ioStrictlySimple']=0x2,_0x23c0c3['Clipper']['ioPreserveCollinear']=0x4,_0x23c0c3['Clipper']['prototype']['Clear']=function(){if(this['m_edges']['length']===0x0)return;this['DisposeAllPolyPts'](),_0x23c0c3['ClipperBase']['prototype']['Clear']['call'](this);},_0x23c0c3['Clipper']['prototype']['InsertMaxima']=function(_0x3ad67b){var _0xc81607=new _0x23c0c3['Maxima']();_0xc81607['X']=_0x3ad67b;if(this['m_Maxima']===null)this['m_Maxima']=_0xc81607,this['m_Maxima']['Next']=null,this['m_Maxima']['Prev']=null;else {if(_0x3ad67b<this['m_Maxima']['X'])_0xc81607['Next']=this['m_Maxima'],_0xc81607['Prev']=null,this['m_Maxima']=_0xc81607;else {var _0x1f29ca=this['m_Maxima'];while(_0x1f29ca['Next']!==null&&_0x3ad67b>=_0x1f29ca['Next']['X']){_0x1f29ca=_0x1f29ca['Next'];}if(_0x3ad67b===_0x1f29ca['X'])return;_0xc81607['Next']=_0x1f29ca['Next'],_0xc81607['Prev']=_0x1f29ca,_0x1f29ca['Next']!==null&&(_0x1f29ca['Next']['Prev']=_0xc81607),_0x1f29ca['Next']=_0xc81607;}}},_0x23c0c3['Clipper']['prototype']['Execute']=function(){var _0x3f2e7d=arguments,_0x380929=_0x3f2e7d['length'],_0x3a2ec6=_0x3f2e7d[0x1]instanceof _0x23c0c3['PolyTree'];if(_0x380929===0x4&&!_0x3a2ec6){var _0x340b99=_0x3f2e7d[0x0],_0x5d39c9=_0x3f2e7d[0x1],_0x1eb4a7=_0x3f2e7d[0x2],_0x4a755c=_0x3f2e7d[0x3];if(this['m_ExecuteLocked'])return ![];if(this['m_HasOpenPaths'])_0x23c0c3['Error']('Error:\x20PolyTree\x20struct\x20is\x20needed\x20for\x20open\x20path\x20clipping.');this['m_ExecuteLocked']=!![],_0x23c0c3['Clear'](_0x5d39c9),this['m_SubjFillType']=_0x1eb4a7,this['m_ClipFillType']=_0x4a755c,this['m_ClipType']=_0x340b99,this['m_UsingPolyTree']=![];try{var _0x21a2d2=this['ExecuteInternal']();if(_0x21a2d2)this['BuildResult'](_0x5d39c9);}finally{this['DisposeAllPolyPts'](),this['m_ExecuteLocked']=![];}return _0x21a2d2;}else {if(_0x380929===0x4&&_0x3a2ec6){var _0x340b99=_0x3f2e7d[0x0],_0x2ab584=_0x3f2e7d[0x1],_0x1eb4a7=_0x3f2e7d[0x2],_0x4a755c=_0x3f2e7d[0x3];if(this['m_ExecuteLocked'])return ![];this['m_ExecuteLocked']=!![],this['m_SubjFillType']=_0x1eb4a7,this['m_ClipFillType']=_0x4a755c,this['m_ClipType']=_0x340b99,this['m_UsingPolyTree']=!![];try{var _0x21a2d2=this['ExecuteInternal']();if(_0x21a2d2)this['BuildResult2'](_0x2ab584);}finally{this['DisposeAllPolyPts'](),this['m_ExecuteLocked']=![];}return _0x21a2d2;}else {if(_0x380929===0x2&&!_0x3a2ec6){var _0x340b99=_0x3f2e7d[0x0],_0x5d39c9=_0x3f2e7d[0x1];return this['Execute'](_0x340b99,_0x5d39c9,_0x23c0c3['PolyFillType']['pftEvenOdd'],_0x23c0c3['PolyFillType']['pftEvenOdd']);}else {if(_0x380929===0x2&&_0x3a2ec6){var _0x340b99=_0x3f2e7d[0x0],_0x2ab584=_0x3f2e7d[0x1];return this['Execute'](_0x340b99,_0x2ab584,_0x23c0c3['PolyFillType']['pftEvenOdd'],_0x23c0c3['PolyFillType']['pftEvenOdd']);}}}}},_0x23c0c3['Clipper']['prototype']['FixHoleLinkage']=function(_0x19d7f5){if(_0x19d7f5['FirstLeft']===null||_0x19d7f5['IsHole']!==_0x19d7f5['FirstLeft']['IsHole']&&_0x19d7f5['FirstLeft']['Pts']!==null)return;var _0x3a946e=_0x19d7f5['FirstLeft'];while(_0x3a946e!==null&&(_0x3a946e['IsHole']===_0x19d7f5['IsHole']||_0x3a946e['Pts']===null))_0x3a946e=_0x3a946e['FirstLeft'];_0x19d7f5['FirstLeft']=_0x3a946e;},_0x23c0c3['Clipper']['prototype']['ExecuteInternal']=function(){try{this['Reset'](),this['m_SortedEdges']=null,this['m_Maxima']=null;var _0x4708ad={},_0x5123ce={};if(!this['PopScanbeam'](_0x4708ad))return ![];this['InsertLocalMinimaIntoAEL'](_0x4708ad['v']);while(this['PopScanbeam'](_0x5123ce)||this['LocalMinimaPending']()){this['ProcessHorizontals'](),this['m_GhostJoins']['length']=0x0;if(!this['ProcessIntersections'](_0x5123ce['v']))return ![];this['ProcessEdgesAtTopOfScanbeam'](_0x5123ce['v']),_0x4708ad['v']=_0x5123ce['v'],this['InsertLocalMinimaIntoAEL'](_0x4708ad['v']);}var _0x1e7384,_0x29f0e3,_0x2bad0b;for(_0x29f0e3=0x0,_0x2bad0b=this['m_PolyOuts']['length'];_0x29f0e3<_0x2bad0b;_0x29f0e3++){_0x1e7384=this['m_PolyOuts'][_0x29f0e3];if(_0x1e7384['Pts']===null||_0x1e7384['IsOpen'])continue;if((_0x1e7384['IsHole']^this['ReverseSolution'])==this['Area$1'](_0x1e7384)>0x0)this['ReversePolyPtLinks'](_0x1e7384['Pts']);}this['JoinCommonEdges']();for(_0x29f0e3=0x0,_0x2bad0b=this['m_PolyOuts']['length'];_0x29f0e3<_0x2bad0b;_0x29f0e3++){_0x1e7384=this['m_PolyOuts'][_0x29f0e3];if(_0x1e7384['Pts']===null)continue;else {if(_0x1e7384['IsOpen'])this['FixupOutPolyline'](_0x1e7384);else this['FixupOutPolygon'](_0x1e7384);}}if(this['StrictlySimple'])this['DoSimplePolygons']();return !![];}finally{this['m_Joins']['length']=0x0,this['m_GhostJoins']['length']=0x0;}},_0x23c0c3['Clipper']['prototype']['DisposeAllPolyPts']=function(){for(var _0x436f95=0x0,_0x47cf11=this['m_PolyOuts']['length'];_0x436f95<_0x47cf11;++_0x436f95)this['DisposeOutRec'](_0x436f95);_0x23c0c3['Clear'](this['m_PolyOuts']);},_0x23c0c3['Clipper']['prototype']['AddJoin']=function(_0x50d6b4,_0xac036b,_0x50452f){var _0x264160=new _0x23c0c3['Join']();_0x264160['OutPt1']=_0x50d6b4,_0x264160['OutPt2']=_0xac036b,_0x264160['OffPt']['X']=_0x50452f['X'],_0x264160['OffPt']['Y']=_0x50452f['Y'];if(_0x23c0c3['use_xyz'])_0x264160['OffPt']['Z']=_0x50452f['Z'];this['m_Joins']['push'](_0x264160);},_0x23c0c3['Clipper']['prototype']['AddGhostJoin']=function(_0x709381,_0x341e71){var _0x2e241c=new _0x23c0c3['Join']();_0x2e241c['OutPt1']=_0x709381,_0x2e241c['OffPt']['X']=_0x341e71['X'],_0x2e241c['OffPt']['Y']=_0x341e71['Y'];if(_0x23c0c3['use_xyz'])_0x2e241c['OffPt']['Z']=_0x341e71['Z'];this['m_GhostJoins']['push'](_0x2e241c);},_0x23c0c3['Clipper']['prototype']['SetZ']=function(_0x1f0ee1,_0x33af6a,_0x160b6a){if(this['ZFillFunction']!==null){if(_0x1f0ee1['Z']!==0x0||this['ZFillFunction']===null)return;else {if(_0x23c0c3['IntPoint']['op_Equality'](_0x1f0ee1,_0x33af6a['Bot']))_0x1f0ee1['Z']=_0x33af6a['Bot']['Z'];else {if(_0x23c0c3['IntPoint']['op_Equality'](_0x1f0ee1,_0x33af6a['Top']))_0x1f0ee1['Z']=_0x33af6a['Top']['Z'];else {if(_0x23c0c3['IntPoint']['op_Equality'](_0x1f0ee1,_0x160b6a['Bot']))_0x1f0ee1['Z']=_0x160b6a['Bot']['Z'];else {if(_0x23c0c3['IntPoint']['op_Equality'](_0x1f0ee1,_0x160b6a['Top']))_0x1f0ee1['Z']=_0x160b6a['Top']['Z'];else this['ZFillFunction'](_0x33af6a['Bot'],_0x33af6a['Top'],_0x160b6a['Bot'],_0x160b6a['Top'],_0x1f0ee1);}}}}}},_0x23c0c3['Clipper']['prototype']['InsertLocalMinimaIntoAEL']=function(_0x3ed17a){var _0x5c1a4d={},_0xb7ad65,_0x290d6a;while(this['PopLocalMinima'](_0x3ed17a,_0x5c1a4d)){_0xb7ad65=_0x5c1a4d['v']['LeftBound'],_0x290d6a=_0x5c1a4d['v']['RightBound'];var _0x2f2200=null;if(_0xb7ad65===null){this['InsertEdgeIntoAEL'](_0x290d6a,null),this['SetWindingCount'](_0x290d6a);if(this['IsContributing'](_0x290d6a))_0x2f2200=this['AddOutPt'](_0x290d6a,_0x290d6a['Bot']);}else {if(_0x290d6a===null){this['InsertEdgeIntoAEL'](_0xb7ad65,null),this['SetWindingCount'](_0xb7ad65);if(this['IsContributing'](_0xb7ad65))_0x2f2200=this['AddOutPt'](_0xb7ad65,_0xb7ad65['Bot']);this['InsertScanbeam'](_0xb7ad65['Top']['Y']);}else {this['InsertEdgeIntoAEL'](_0xb7ad65,null),this['InsertEdgeIntoAEL'](_0x290d6a,_0xb7ad65),this['SetWindingCount'](_0xb7ad65),_0x290d6a['WindCnt']=_0xb7ad65['WindCnt'],_0x290d6a['WindCnt2']=_0xb7ad65['WindCnt2'];if(this['IsContributing'](_0xb7ad65))_0x2f2200=this['AddLocalMinPoly'](_0xb7ad65,_0x290d6a,_0xb7ad65['Bot']);this['InsertScanbeam'](_0xb7ad65['Top']['Y']);}}_0x290d6a!==null&&(_0x23c0c3['ClipperBase']['IsHorizontal'](_0x290d6a)?(_0x290d6a['NextInLML']!==null&&this['InsertScanbeam'](_0x290d6a['NextInLML']['Top']['Y']),this['AddEdgeToSEL'](_0x290d6a)):this['InsertScanbeam'](_0x290d6a['Top']['Y']));if(_0xb7ad65===null||_0x290d6a===null)continue;if(_0x2f2200!==null&&_0x23c0c3['ClipperBase']['IsHorizontal'](_0x290d6a)&&this['m_GhostJoins']['length']>0x0&&_0x290d6a['WindDelta']!==0x0)for(var _0x3ea4d9=0x0,_0x3a5a04=this['m_GhostJoins']['length'];_0x3ea4d9<_0x3a5a04;_0x3ea4d9++){var _0x52e415=this['m_GhostJoins'][_0x3ea4d9];if(this['HorzSegmentsOverlap'](_0x52e415['OutPt1']['Pt']['X'],_0x52e415['OffPt']['X'],_0x290d6a['Bot']['X'],_0x290d6a['Top']['X']))this['AddJoin'](_0x52e415['OutPt1'],_0x2f2200,_0x52e415['OffPt']);}if(_0xb7ad65['OutIdx']>=0x0&&_0xb7ad65['PrevInAEL']!==null&&_0xb7ad65['PrevInAEL']['Curr']['X']===_0xb7ad65['Bot']['X']&&_0xb7ad65['PrevInAEL']['OutIdx']>=0x0&&_0x23c0c3['ClipperBase']['SlopesEqual5'](_0xb7ad65['PrevInAEL']['Curr'],_0xb7ad65['PrevInAEL']['Top'],_0xb7ad65['Curr'],_0xb7ad65['Top'],this['m_UseFullRange'])&&_0xb7ad65['WindDelta']!==0x0&&_0xb7ad65['PrevInAEL']['WindDelta']!==0x0){var _0xf0a05=this['AddOutPt'](_0xb7ad65['PrevInAEL'],_0xb7ad65['Bot']);this['AddJoin'](_0x2f2200,_0xf0a05,_0xb7ad65['Top']);}if(_0xb7ad65['NextInAEL']!==_0x290d6a){if(_0x290d6a['OutIdx']>=0x0&&_0x290d6a['PrevInAEL']['OutIdx']>=0x0&&_0x23c0c3['ClipperBase']['SlopesEqual5'](_0x290d6a['PrevInAEL']['Curr'],_0x290d6a['PrevInAEL']['Top'],_0x290d6a['Curr'],_0x290d6a['Top'],this['m_UseFullRange'])&&_0x290d6a['WindDelta']!==0x0&&_0x290d6a['PrevInAEL']['WindDelta']!==0x0){var _0xf0a05=this['AddOutPt'](_0x290d6a['PrevInAEL'],_0x290d6a['Bot']);this['AddJoin'](_0x2f2200,_0xf0a05,_0x290d6a['Top']);}var _0x36c1a9=_0xb7ad65['NextInAEL'];if(_0x36c1a9!==null)while(_0x36c1a9!==_0x290d6a){this['IntersectEdges'](_0x290d6a,_0x36c1a9,_0xb7ad65['Curr']),_0x36c1a9=_0x36c1a9['NextInAEL'];}}}},_0x23c0c3['Clipper']['prototype']['InsertEdgeIntoAEL']=function(_0x4753e1,_0x45ba7b){if(this['m_ActiveEdges']===null)_0x4753e1['PrevInAEL']=null,_0x4753e1['NextInAEL']=null,this['m_ActiveEdges']=_0x4753e1;else {if(_0x45ba7b===null&&this['E2InsertsBeforeE1'](this['m_ActiveEdges'],_0x4753e1))_0x4753e1['PrevInAEL']=null,_0x4753e1['NextInAEL']=this['m_ActiveEdges'],this['m_ActiveEdges']['PrevInAEL']=_0x4753e1,this['m_ActiveEdges']=_0x4753e1;else {if(_0x45ba7b===null)_0x45ba7b=this['m_ActiveEdges'];while(_0x45ba7b['NextInAEL']!==null&&!this['E2InsertsBeforeE1'](_0x45ba7b['NextInAEL'],_0x4753e1))_0x45ba7b=_0x45ba7b['NextInAEL'];_0x4753e1['NextInAEL']=_0x45ba7b['NextInAEL'];if(_0x45ba7b['NextInAEL']!==null)_0x45ba7b['NextInAEL']['PrevInAEL']=_0x4753e1;_0x4753e1['PrevInAEL']=_0x45ba7b,_0x45ba7b['NextInAEL']=_0x4753e1;}}},_0x23c0c3['Clipper']['prototype']['E2InsertsBeforeE1']=function(_0x30e4cb,_0xdb5976){if(_0xdb5976['Curr']['X']===_0x30e4cb['Curr']['X']){if(_0xdb5976['Top']['Y']>_0x30e4cb['Top']['Y'])return _0xdb5976['Top']['X']<_0x23c0c3['Clipper']['TopX'](_0x30e4cb,_0xdb5976['Top']['Y']);else return _0x30e4cb['Top']['X']>_0x23c0c3['Clipper']['TopX'](_0xdb5976,_0x30e4cb['Top']['Y']);}else return _0xdb5976['Curr']['X']<_0x30e4cb['Curr']['X'];},_0x23c0c3['Clipper']['prototype']['IsEvenOddFillType']=function(_0x9827fa){if(_0x9827fa['PolyTyp']===_0x23c0c3['PolyType']['ptSubject'])return this['m_SubjFillType']===_0x23c0c3['PolyFillType']['pftEvenOdd'];else return this['m_ClipFillType']===_0x23c0c3['PolyFillType']['pftEvenOdd'];},_0x23c0c3['Clipper']['prototype']['IsEvenOddAltFillType']=function(_0x2bc9aa){if(_0x2bc9aa['PolyTyp']===_0x23c0c3['PolyType']['ptSubject'])return this['m_ClipFillType']===_0x23c0c3['PolyFillType']['pftEvenOdd'];else return this['m_SubjFillType']===_0x23c0c3['PolyFillType']['pftEvenOdd'];},_0x23c0c3['Clipper']['prototype']['IsContributing']=function(_0x54e1d4){var _0x3dd14b,_0x21ff40;_0x54e1d4['PolyTyp']===_0x23c0c3['PolyType']['ptSubject']?(_0x3dd14b=this['m_SubjFillType'],_0x21ff40=this['m_ClipFillType']):(_0x3dd14b=this['m_ClipFillType'],_0x21ff40=this['m_SubjFillType']);switch(_0x3dd14b){case _0x23c0c3['PolyFillType']['pftEvenOdd']:if(_0x54e1d4['WindDelta']===0x0&&_0x54e1d4['WindCnt']!==0x1)return ![];break;case _0x23c0c3['PolyFillType']['pftNonZero']:if(Math['abs'](_0x54e1d4['WindCnt'])!==0x1)return ![];break;case _0x23c0c3['PolyFillType']['pftPositive']:if(_0x54e1d4['WindCnt']!==0x1)return ![];break;default:if(_0x54e1d4['WindCnt']!==-0x1)return ![];break;}switch(this['m_ClipType']){case _0x23c0c3['ClipType']['ctIntersection']:switch(_0x21ff40){case _0x23c0c3['PolyFillType']['pftEvenOdd']:case _0x23c0c3['PolyFillType']['pftNonZero']:return _0x54e1d4['WindCnt2']!==0x0;case _0x23c0c3['PolyFillType']['pftPositive']:return _0x54e1d4['WindCnt2']>0x0;default:return _0x54e1d4['WindCnt2']<0x0;}case _0x23c0c3['ClipType']['ctUnion']:switch(_0x21ff40){case _0x23c0c3['PolyFillType']['pftEvenOdd']:case _0x23c0c3['PolyFillType']['pftNonZero']:return _0x54e1d4['WindCnt2']===0x0;case _0x23c0c3['PolyFillType']['pftPositive']:return _0x54e1d4['WindCnt2']<=0x0;default:return _0x54e1d4['WindCnt2']>=0x0;}case _0x23c0c3['ClipType']['ctDifference']:if(_0x54e1d4['PolyTyp']===_0x23c0c3['PolyType']['ptSubject'])switch(_0x21ff40){case _0x23c0c3['PolyFillType']['pftEvenOdd']:case _0x23c0c3['PolyFillType']['pftNonZero']:return _0x54e1d4['WindCnt2']===0x0;case _0x23c0c3['PolyFillType']['pftPositive']:return _0x54e1d4['WindCnt2']<=0x0;default:return _0x54e1d4['WindCnt2']>=0x0;}else switch(_0x21ff40){case _0x23c0c3['PolyFillType']['pftEvenOdd']:case _0x23c0c3['PolyFillType']['pftNonZero']:return _0x54e1d4['WindCnt2']!==0x0;case _0x23c0c3['PolyFillType']['pftPositive']:return _0x54e1d4['WindCnt2']>0x0;default:return _0x54e1d4['WindCnt2']<0x0;}case _0x23c0c3['ClipType']['ctXor']:if(_0x54e1d4['WindDelta']===0x0)switch(_0x21ff40){case _0x23c0c3['PolyFillType']['pftEvenOdd']:case _0x23c0c3['PolyFillType']['pftNonZero']:return _0x54e1d4['WindCnt2']===0x0;case _0x23c0c3['PolyFillType']['pftPositive']:return _0x54e1d4['WindCnt2']<=0x0;default:return _0x54e1d4['WindCnt2']>=0x0;}else return !![];}return !![];},_0x23c0c3['Clipper']['prototype']['SetWindingCount']=function(_0x45a6a5){var _0x56a056=_0x45a6a5['PrevInAEL'];while(_0x56a056!==null&&(_0x56a056['PolyTyp']!==_0x45a6a5['PolyTyp']||_0x56a056['WindDelta']===0x0))_0x56a056=_0x56a056['PrevInAEL'];if(_0x56a056===null){var _0x1cb0ba=_0x45a6a5['PolyTyp']===_0x23c0c3['PolyType']['ptSubject']?this['m_SubjFillType']:this['m_ClipFillType'];_0x45a6a5['WindDelta']===0x0?_0x45a6a5['WindCnt']=_0x1cb0ba===_0x23c0c3['PolyFillType']['pftNegative']?-0x1:0x1:_0x45a6a5['WindCnt']=_0x45a6a5['WindDelta'],_0x45a6a5['WindCnt2']=0x0,_0x56a056=this['m_ActiveEdges'];}else {if(_0x45a6a5['WindDelta']===0x0&&this['m_ClipType']!==_0x23c0c3['ClipType']['ctUnion'])_0x45a6a5['WindCnt']=0x1,_0x45a6a5['WindCnt2']=_0x56a056['WindCnt2'],_0x56a056=_0x56a056['NextInAEL'];else {if(this['IsEvenOddFillType'](_0x45a6a5)){if(_0x45a6a5['WindDelta']===0x0){var _0x16a0fd=!![],_0x4d220e=_0x56a056['PrevInAEL'];while(_0x4d220e!==null){if(_0x4d220e['PolyTyp']===_0x56a056['PolyTyp']&&_0x4d220e['WindDelta']!==0x0)_0x16a0fd=!_0x16a0fd;_0x4d220e=_0x4d220e['PrevInAEL'];}_0x45a6a5['WindCnt']=_0x16a0fd?0x0:0x1;}else _0x45a6a5['WindCnt']=_0x45a6a5['WindDelta'];_0x45a6a5['WindCnt2']=_0x56a056['WindCnt2'],_0x56a056=_0x56a056['NextInAEL'];}else {if(_0x56a056['WindCnt']*_0x56a056['WindDelta']<0x0){if(Math['abs'](_0x56a056['WindCnt'])>0x1){if(_0x56a056['WindDelta']*_0x45a6a5['WindDelta']<0x0)_0x45a6a5['WindCnt']=_0x56a056['WindCnt'];else _0x45a6a5['WindCnt']=_0x56a056['WindCnt']+_0x45a6a5['WindDelta'];}else _0x45a6a5['WindCnt']=_0x45a6a5['WindDelta']===0x0?0x1:_0x45a6a5['WindDelta'];}else {if(_0x45a6a5['WindDelta']===0x0)_0x45a6a5['WindCnt']=_0x56a056['WindCnt']<0x0?_0x56a056['WindCnt']-0x1:_0x56a056['WindCnt']+0x1;else {if(_0x56a056['WindDelta']*_0x45a6a5['WindDelta']<0x0)_0x45a6a5['WindCnt']=_0x56a056['WindCnt'];else _0x45a6a5['WindCnt']=_0x56a056['WindCnt']+_0x45a6a5['WindDelta'];}}_0x45a6a5['WindCnt2']=_0x56a056['WindCnt2'],_0x56a056=_0x56a056['NextInAEL'];}}}if(this['IsEvenOddAltFillType'](_0x45a6a5))while(_0x56a056!==_0x45a6a5){if(_0x56a056['WindDelta']!==0x0)_0x45a6a5['WindCnt2']=_0x45a6a5['WindCnt2']===0x0?0x1:0x0;_0x56a056=_0x56a056['NextInAEL'];}else while(_0x56a056!==_0x45a6a5){_0x45a6a5['WindCnt2']+=_0x56a056['WindDelta'],_0x56a056=_0x56a056['NextInAEL'];}},_0x23c0c3['Clipper']['prototype']['AddEdgeToSEL']=function(_0x398b83){this['m_SortedEdges']===null?(this['m_SortedEdges']=_0x398b83,_0x398b83['PrevInSEL']=null,_0x398b83['NextInSEL']=null):(_0x398b83['NextInSEL']=this['m_SortedEdges'],_0x398b83['PrevInSEL']=null,this['m_SortedEdges']['PrevInSEL']=_0x398b83,this['m_SortedEdges']=_0x398b83);},_0x23c0c3['Clipper']['prototype']['PopEdgeFromSEL']=function(_0x30a04e){_0x30a04e['v']=this['m_SortedEdges'];if(_0x30a04e['v']===null)return ![];var _0x1a77c2=_0x30a04e['v'];return this['m_SortedEdges']=_0x30a04e['v']['NextInSEL'],this['m_SortedEdges']!==null&&(this['m_SortedEdges']['PrevInSEL']=null),_0x1a77c2['NextInSEL']=null,_0x1a77c2['PrevInSEL']=null,!![];},_0x23c0c3['Clipper']['prototype']['CopyAELToSEL']=function(){var _0x403280=this['m_ActiveEdges'];this['m_SortedEdges']=_0x403280;while(_0x403280!==null){_0x403280['PrevInSEL']=_0x403280['PrevInAEL'],_0x403280['NextInSEL']=_0x403280['NextInAEL'],_0x403280=_0x403280['NextInAEL'];}},_0x23c0c3['Clipper']['prototype']['SwapPositionsInSEL']=function(_0x1e2c9d,_0xd82bf5){if(_0x1e2c9d['NextInSEL']===null&&_0x1e2c9d['PrevInSEL']===null)return;if(_0xd82bf5['NextInSEL']===null&&_0xd82bf5['PrevInSEL']===null)return;if(_0x1e2c9d['NextInSEL']===_0xd82bf5){var _0x169816=_0xd82bf5['NextInSEL'];if(_0x169816!==null)_0x169816['PrevInSEL']=_0x1e2c9d;var _0x1dd595=_0x1e2c9d['PrevInSEL'];if(_0x1dd595!==null)_0x1dd595['NextInSEL']=_0xd82bf5;_0xd82bf5['PrevInSEL']=_0x1dd595,_0xd82bf5['NextInSEL']=_0x1e2c9d,_0x1e2c9d['PrevInSEL']=_0xd82bf5,_0x1e2c9d['NextInSEL']=_0x169816;}else {if(_0xd82bf5['NextInSEL']===_0x1e2c9d){var _0x169816=_0x1e2c9d['NextInSEL'];if(_0x169816!==null)_0x169816['PrevInSEL']=_0xd82bf5;var _0x1dd595=_0xd82bf5['PrevInSEL'];if(_0x1dd595!==null)_0x1dd595['NextInSEL']=_0x1e2c9d;_0x1e2c9d['PrevInSEL']=_0x1dd595,_0x1e2c9d['NextInSEL']=_0xd82bf5,_0xd82bf5['PrevInSEL']=_0x1e2c9d,_0xd82bf5['NextInSEL']=_0x169816;}else {var _0x169816=_0x1e2c9d['NextInSEL'],_0x1dd595=_0x1e2c9d['PrevInSEL'];_0x1e2c9d['NextInSEL']=_0xd82bf5['NextInSEL'];if(_0x1e2c9d['NextInSEL']!==null)_0x1e2c9d['NextInSEL']['PrevInSEL']=_0x1e2c9d;_0x1e2c9d['PrevInSEL']=_0xd82bf5['PrevInSEL'];if(_0x1e2c9d['PrevInSEL']!==null)_0x1e2c9d['PrevInSEL']['NextInSEL']=_0x1e2c9d;_0xd82bf5['NextInSEL']=_0x169816;if(_0xd82bf5['NextInSEL']!==null)_0xd82bf5['NextInSEL']['PrevInSEL']=_0xd82bf5;_0xd82bf5['PrevInSEL']=_0x1dd595;if(_0xd82bf5['PrevInSEL']!==null)_0xd82bf5['PrevInSEL']['NextInSEL']=_0xd82bf5;}}if(_0x1e2c9d['PrevInSEL']===null)this['m_SortedEdges']=_0x1e2c9d;else {if(_0xd82bf5['PrevInSEL']===null)this['m_SortedEdges']=_0xd82bf5;}},_0x23c0c3['Clipper']['prototype']['AddLocalMaxPoly']=function(_0x47dcec,_0x529db7,_0x4df360){this['AddOutPt'](_0x47dcec,_0x4df360);if(_0x529db7['WindDelta']===0x0)this['AddOutPt'](_0x529db7,_0x4df360);if(_0x47dcec['OutIdx']===_0x529db7['OutIdx'])_0x47dcec['OutIdx']=-0x1,_0x529db7['OutIdx']=-0x1;else {if(_0x47dcec['OutIdx']<_0x529db7['OutIdx'])this['AppendPolygon'](_0x47dcec,_0x529db7);else this['AppendPolygon'](_0x529db7,_0x47dcec);}},_0x23c0c3['Clipper']['prototype']['AddLocalMinPoly']=function(_0x55a6ed,_0x254675,_0x49d33c){var _0x3e6bad,_0x574acc,_0x12fdc8;if(_0x23c0c3['ClipperBase']['IsHorizontal'](_0x254675)||_0x55a6ed['Dx']>_0x254675['Dx']){_0x3e6bad=this['AddOutPt'](_0x55a6ed,_0x49d33c),_0x254675['OutIdx']=_0x55a6ed['OutIdx'],_0x55a6ed['Side']=_0x23c0c3['EdgeSide']['esLeft'],_0x254675['Side']=_0x23c0c3['EdgeSide']['esRight'],_0x574acc=_0x55a6ed;if(_0x574acc['PrevInAEL']===_0x254675)_0x12fdc8=_0x254675['PrevInAEL'];else _0x12fdc8=_0x574acc['PrevInAEL'];}else {_0x3e6bad=this['AddOutPt'](_0x254675,_0x49d33c),_0x55a6ed['OutIdx']=_0x254675['OutIdx'],_0x55a6ed['Side']=_0x23c0c3['EdgeSide']['esRight'],_0x254675['Side']=_0x23c0c3['EdgeSide']['esLeft'],_0x574acc=_0x254675;if(_0x574acc['PrevInAEL']===_0x55a6ed)_0x12fdc8=_0x55a6ed['PrevInAEL'];else _0x12fdc8=_0x574acc['PrevInAEL'];}if(_0x12fdc8!==null&&_0x12fdc8['OutIdx']>=0x0&&_0x12fdc8['Top']['Y']<_0x49d33c['Y']&&_0x574acc['Top']['Y']<_0x49d33c['Y']){var _0x549bf2=_0x23c0c3['Clipper']['TopX'](_0x12fdc8,_0x49d33c['Y']),_0x520c58=_0x23c0c3['Clipper']['TopX'](_0x574acc,_0x49d33c['Y']);if(_0x549bf2===_0x520c58&&_0x574acc['WindDelta']!==0x0&&_0x12fdc8['WindDelta']!==0x0&&_0x23c0c3['ClipperBase']['SlopesEqual5'](new _0x23c0c3['IntPoint2'](_0x549bf2,_0x49d33c['Y']),_0x12fdc8['Top'],new _0x23c0c3['IntPoint2'](_0x520c58,_0x49d33c['Y']),_0x574acc['Top'],this['m_UseFullRange'])){var _0x230ada=this['AddOutPt'](_0x12fdc8,_0x49d33c);this['AddJoin'](_0x3e6bad,_0x230ada,_0x574acc['Top']);}}return _0x3e6bad;},_0x23c0c3['Clipper']['prototype']['AddOutPt']=function(_0x3de704,_0x11c8ec){if(_0x3de704['OutIdx']<0x0){var _0x2edf6f=this['CreateOutRec']();_0x2edf6f['IsOpen']=_0x3de704['WindDelta']===0x0;var _0x3c7337=new _0x23c0c3['OutPt']();_0x2edf6f['Pts']=_0x3c7337,_0x3c7337['Idx']=_0x2edf6f['Idx'],_0x3c7337['Pt']['X']=_0x11c8ec['X'],_0x3c7337['Pt']['Y']=_0x11c8ec['Y'];if(_0x23c0c3['use_xyz'])_0x3c7337['Pt']['Z']=_0x11c8ec['Z'];_0x3c7337['Next']=_0x3c7337,_0x3c7337['Prev']=_0x3c7337;if(!_0x2edf6f['IsOpen'])this['SetHoleState'](_0x3de704,_0x2edf6f);return _0x3de704['OutIdx']=_0x2edf6f['Idx'],_0x3c7337;}else {var _0x2edf6f=this['m_PolyOuts'][_0x3de704['OutIdx']],_0x530608=_0x2edf6f['Pts'],_0x3d1570=_0x3de704['Side']===_0x23c0c3['EdgeSide']['esLeft'];if(_0x3d1570&&_0x23c0c3['IntPoint']['op_Equality'](_0x11c8ec,_0x530608['Pt']))return _0x530608;else {if(!_0x3d1570&&_0x23c0c3['IntPoint']['op_Equality'](_0x11c8ec,_0x530608['Prev']['Pt']))return _0x530608['Prev'];}var _0x3c7337=new _0x23c0c3['OutPt']();_0x3c7337['Idx']=_0x2edf6f['Idx'],_0x3c7337['Pt']['X']=_0x11c8ec['X'],_0x3c7337['Pt']['Y']=_0x11c8ec['Y'];if(_0x23c0c3['use_xyz'])_0x3c7337['Pt']['Z']=_0x11c8ec['Z'];_0x3c7337['Next']=_0x530608,_0x3c7337['Prev']=_0x530608['Prev'],_0x3c7337['Prev']['Next']=_0x3c7337,_0x530608['Prev']=_0x3c7337;if(_0x3d1570)_0x2edf6f['Pts']=_0x3c7337;return _0x3c7337;}},_0x23c0c3['Clipper']['prototype']['GetLastOutPt']=function(_0x417a55){var _0x4ce634=this['m_PolyOuts'][_0x417a55['OutIdx']];return _0x417a55['Side']===_0x23c0c3['EdgeSide']['esLeft']?_0x4ce634['Pts']:_0x4ce634['Pts']['Prev'];},_0x23c0c3['Clipper']['prototype']['SwapPoints']=function(_0x70772e,_0x45105a){var _0x32694=new _0x23c0c3['IntPoint1'](_0x70772e['Value']);_0x70772e['Value']['X']=_0x45105a['Value']['X'],_0x70772e['Value']['Y']=_0x45105a['Value']['Y'];if(_0x23c0c3['use_xyz'])_0x70772e['Value']['Z']=_0x45105a['Value']['Z'];_0x45105a['Value']['X']=_0x32694['X'],_0x45105a['Value']['Y']=_0x32694['Y'];if(_0x23c0c3['use_xyz'])_0x45105a['Value']['Z']=_0x32694['Z'];},_0x23c0c3['Clipper']['prototype']['HorzSegmentsOverlap']=function(_0x5d2546,_0x5652a2,_0x2e1a9f,_0x4cc5e1){var _0xc0b923;return _0x5d2546>_0x5652a2&&(_0xc0b923=_0x5d2546,_0x5d2546=_0x5652a2,_0x5652a2=_0xc0b923),_0x2e1a9f>_0x4cc5e1&&(_0xc0b923=_0x2e1a9f,_0x2e1a9f=_0x4cc5e1,_0x4cc5e1=_0xc0b923),_0x5d2546<_0x4cc5e1&&_0x2e1a9f<_0x5652a2;},_0x23c0c3['Clipper']['prototype']['SetHoleState']=function(_0x3a197f,_0x2c9c59){var _0x40e21c=_0x3a197f['PrevInAEL'],_0x5a7a1b=null;while(_0x40e21c!==null){if(_0x40e21c['OutIdx']>=0x0&&_0x40e21c['WindDelta']!==0x0){if(_0x5a7a1b===null)_0x5a7a1b=_0x40e21c;else {if(_0x5a7a1b['OutIdx']===_0x40e21c['OutIdx'])_0x5a7a1b=null;}}_0x40e21c=_0x40e21c['PrevInAEL'];}_0x5a7a1b===null?(_0x2c9c59['FirstLeft']=null,_0x2c9c59['IsHole']=![]):(_0x2c9c59['FirstLeft']=this['m_PolyOuts'][_0x5a7a1b['OutIdx']],_0x2c9c59['IsHole']=!_0x2c9c59['FirstLeft']['IsHole']);},_0x23c0c3['Clipper']['prototype']['GetDx']=function(_0x465f27,_0x122201){if(_0x465f27['Y']===_0x122201['Y'])return _0x23c0c3['ClipperBase']['horizontal'];else return (_0x122201['X']-_0x465f27['X'])/(_0x122201['Y']-_0x465f27['Y']);},_0x23c0c3['Clipper']['prototype']['FirstIsBottomPt']=function(_0x221d94,_0x35ec13){var _0x1b0f2e=_0x221d94['Prev'];while(_0x23c0c3['IntPoint']['op_Equality'](_0x1b0f2e['Pt'],_0x221d94['Pt'])&&_0x1b0f2e!==_0x221d94)_0x1b0f2e=_0x1b0f2e['Prev'];var _0x81fdd5=Math['abs'](this['GetDx'](_0x221d94['Pt'],_0x1b0f2e['Pt']));_0x1b0f2e=_0x221d94['Next'];while(_0x23c0c3['IntPoint']['op_Equality'](_0x1b0f2e['Pt'],_0x221d94['Pt'])&&_0x1b0f2e!==_0x221d94)_0x1b0f2e=_0x1b0f2e['Next'];var _0x42a14f=Math['abs'](this['GetDx'](_0x221d94['Pt'],_0x1b0f2e['Pt']));_0x1b0f2e=_0x35ec13['Prev'];while(_0x23c0c3['IntPoint']['op_Equality'](_0x1b0f2e['Pt'],_0x35ec13['Pt'])&&_0x1b0f2e!==_0x35ec13)_0x1b0f2e=_0x1b0f2e['Prev'];var _0x33bf11=Math['abs'](this['GetDx'](_0x35ec13['Pt'],_0x1b0f2e['Pt']));_0x1b0f2e=_0x35ec13['Next'];while(_0x23c0c3['IntPoint']['op_Equality'](_0x1b0f2e['Pt'],_0x35ec13['Pt'])&&_0x1b0f2e!==_0x35ec13)_0x1b0f2e=_0x1b0f2e['Next'];var _0x39d960=Math['abs'](this['GetDx'](_0x35ec13['Pt'],_0x1b0f2e['Pt']));return Math['max'](_0x81fdd5,_0x42a14f)===Math['max'](_0x33bf11,_0x39d960)&&Math['min'](_0x81fdd5,_0x42a14f)===Math['min'](_0x33bf11,_0x39d960)?this['Area'](_0x221d94)>0x0:_0x81fdd5>=_0x33bf11&&_0x81fdd5>=_0x39d960||_0x42a14f>=_0x33bf11&&_0x42a14f>=_0x39d960;},_0x23c0c3['Clipper']['prototype']['GetBottomPt']=function(_0x1598fd){var _0x4c9059=null,_0x57c8ec=_0x1598fd['Next'];while(_0x57c8ec!==_0x1598fd){if(_0x57c8ec['Pt']['Y']>_0x1598fd['Pt']['Y'])_0x1598fd=_0x57c8ec,_0x4c9059=null;else {if(_0x57c8ec['Pt']['Y']===_0x1598fd['Pt']['Y']&&_0x57c8ec['Pt']['X']<=_0x1598fd['Pt']['X']){if(_0x57c8ec['Pt']['X']<_0x1598fd['Pt']['X'])_0x4c9059=null,_0x1598fd=_0x57c8ec;else {if(_0x57c8ec['Next']!==_0x1598fd&&_0x57c8ec['Prev']!==_0x1598fd)_0x4c9059=_0x57c8ec;}}}_0x57c8ec=_0x57c8ec['Next'];}if(_0x4c9059!==null)while(_0x4c9059!==_0x57c8ec){if(!this['FirstIsBottomPt'](_0x57c8ec,_0x4c9059))_0x1598fd=_0x4c9059;_0x4c9059=_0x4c9059['Next'];while(_0x23c0c3['IntPoint']['op_Inequality'](_0x4c9059['Pt'],_0x1598fd['Pt']))_0x4c9059=_0x4c9059['Next'];}return _0x1598fd;},_0x23c0c3['Clipper']['prototype']['GetLowermostRec']=function(_0x226b39,_0x38aa49){if(_0x226b39['BottomPt']===null)_0x226b39['BottomPt']=this['GetBottomPt'](_0x226b39['Pts']);if(_0x38aa49['BottomPt']===null)_0x38aa49['BottomPt']=this['GetBottomPt'](_0x38aa49['Pts']);var _0x13632f=_0x226b39['BottomPt'],_0xb7a152=_0x38aa49['BottomPt'];if(_0x13632f['Pt']['Y']>_0xb7a152['Pt']['Y'])return _0x226b39;else {if(_0x13632f['Pt']['Y']<_0xb7a152['Pt']['Y'])return _0x38aa49;else {if(_0x13632f['Pt']['X']<_0xb7a152['Pt']['X'])return _0x226b39;else {if(_0x13632f['Pt']['X']>_0xb7a152['Pt']['X'])return _0x38aa49;else {if(_0x13632f['Next']===_0x13632f)return _0x38aa49;else {if(_0xb7a152['Next']===_0xb7a152)return _0x226b39;else {if(this['FirstIsBottomPt'](_0x13632f,_0xb7a152))return _0x226b39;else return _0x38aa49;}}}}}}},_0x23c0c3['Clipper']['prototype']['OutRec1RightOfOutRec2']=function(_0x5eb2da,_0x84491a){do{_0x5eb2da=_0x5eb2da['FirstLeft'];if(_0x5eb2da===_0x84491a)return !![];}while(_0x5eb2da!==null);return ![];},_0x23c0c3['Clipper']['prototype']['GetOutRec']=function(_0x27d701){var _0x2646f6=this['m_PolyOuts'][_0x27d701];while(_0x2646f6!==this['m_PolyOuts'][_0x2646f6['Idx']])_0x2646f6=this['m_PolyOuts'][_0x2646f6['Idx']];return _0x2646f6;},_0x23c0c3['Clipper']['prototype']['AppendPolygon']=function(_0x29d607,_0x5acd9d){var _0x190aff=this['m_PolyOuts'][_0x29d607['OutIdx']],_0x1d3efc=this['m_PolyOuts'][_0x5acd9d['OutIdx']],_0x455ad5;if(this['OutRec1RightOfOutRec2'](_0x190aff,_0x1d3efc))_0x455ad5=_0x1d3efc;else {if(this['OutRec1RightOfOutRec2'](_0x1d3efc,_0x190aff))_0x455ad5=_0x190aff;else _0x455ad5=this['GetLowermostRec'](_0x190aff,_0x1d3efc);}var _0x5c217e=_0x190aff['Pts'],_0x2aeb0c=_0x5c217e['Prev'],_0x1b78d8=_0x1d3efc['Pts'],_0x194a56=_0x1b78d8['Prev'];_0x29d607['Side']===_0x23c0c3['EdgeSide']['esLeft']?_0x5acd9d['Side']===_0x23c0c3['EdgeSide']['esLeft']?(this['ReversePolyPtLinks'](_0x1b78d8),_0x1b78d8['Next']=_0x5c217e,_0x5c217e['Prev']=_0x1b78d8,_0x2aeb0c['Next']=_0x194a56,_0x194a56['Prev']=_0x2aeb0c,_0x190aff['Pts']=_0x194a56):(_0x194a56['Next']=_0x5c217e,_0x5c217e['Prev']=_0x194a56,_0x1b78d8['Prev']=_0x2aeb0c,_0x2aeb0c['Next']=_0x1b78d8,_0x190aff['Pts']=_0x1b78d8):_0x5acd9d['Side']===_0x23c0c3['EdgeSide']['esRight']?(this['ReversePolyPtLinks'](_0x1b78d8),_0x2aeb0c['Next']=_0x194a56,_0x194a56['Prev']=_0x2aeb0c,_0x1b78d8['Next']=_0x5c217e,_0x5c217e['Prev']=_0x1b78d8):(_0x2aeb0c['Next']=_0x1b78d8,_0x1b78d8['Prev']=_0x2aeb0c,_0x5c217e['Prev']=_0x194a56,_0x194a56['Next']=_0x5c217e);_0x190aff['BottomPt']=null;if(_0x455ad5===_0x1d3efc){if(_0x1d3efc['FirstLeft']!==_0x190aff)_0x190aff['FirstLeft']=_0x1d3efc['FirstLeft'];_0x190aff['IsHole']=_0x1d3efc['IsHole'];}_0x1d3efc['Pts']=null,_0x1d3efc['BottomPt']=null,_0x1d3efc['FirstLeft']=_0x190aff;var _0x25e552=_0x29d607['OutIdx'],_0x2f25ba=_0x5acd9d['OutIdx'];_0x29d607['OutIdx']=-0x1,_0x5acd9d['OutIdx']=-0x1;var _0x2729dc=this['m_ActiveEdges'];while(_0x2729dc!==null){if(_0x2729dc['OutIdx']===_0x2f25ba){_0x2729dc['OutIdx']=_0x25e552,_0x2729dc['Side']=_0x29d607['Side'];break;}_0x2729dc=_0x2729dc['NextInAEL'];}_0x1d3efc['Idx']=_0x190aff['Idx'];},_0x23c0c3['Clipper']['prototype']['ReversePolyPtLinks']=function(_0x7d561){if(_0x7d561===null)return;var _0x2b3b63,_0x6467eb;_0x2b3b63=_0x7d561;do{_0x6467eb=_0x2b3b63['Next'],_0x2b3b63['Next']=_0x2b3b63['Prev'],_0x2b3b63['Prev']=_0x6467eb,_0x2b3b63=_0x6467eb;}while(_0x2b3b63!==_0x7d561);},_0x23c0c3['Clipper']['SwapSides']=function(_0x37b482,_0x127565){var _0x101e9f=_0x37b482['Side'];_0x37b482['Side']=_0x127565['Side'],_0x127565['Side']=_0x101e9f;},_0x23c0c3['Clipper']['SwapPolyIndexes']=function(_0x15ff4d,_0x50b1bd){var _0x469aa3=_0x15ff4d['OutIdx'];_0x15ff4d['OutIdx']=_0x50b1bd['OutIdx'],_0x50b1bd['OutIdx']=_0x469aa3;},_0x23c0c3['Clipper']['prototype']['IntersectEdges']=function(_0x170cb3,_0x1bfed5,_0x3e1bc4){var _0x1dde9f=_0x170cb3['OutIdx']>=0x0,_0x52b764=_0x1bfed5['OutIdx']>=0x0;if(_0x23c0c3['use_xyz'])this['SetZ'](_0x3e1bc4,_0x170cb3,_0x1bfed5);if(_0x23c0c3['use_lines']){if(_0x170cb3['WindDelta']===0x0||_0x1bfed5['WindDelta']===0x0){if(_0x170cb3['WindDelta']===0x0&&_0x1bfed5['WindDelta']===0x0)return;else {if(_0x170cb3['PolyTyp']===_0x1bfed5['PolyTyp']&&_0x170cb3['WindDelta']!==_0x1bfed5['WindDelta']&&this['m_ClipType']===_0x23c0c3['ClipType']['ctUnion']){if(_0x170cb3['WindDelta']===0x0){if(_0x52b764){this['AddOutPt'](_0x170cb3,_0x3e1bc4);if(_0x1dde9f)_0x170cb3['OutIdx']=-0x1;}}else {if(_0x1dde9f){this['AddOutPt'](_0x1bfed5,_0x3e1bc4);if(_0x52b764)_0x1bfed5['OutIdx']=-0x1;}}}else {if(_0x170cb3['PolyTyp']!==_0x1bfed5['PolyTyp']){if(_0x170cb3['WindDelta']===0x0&&Math['abs'](_0x1bfed5['WindCnt'])===0x1&&(this['m_ClipType']!==_0x23c0c3['ClipType']['ctUnion']||_0x1bfed5['WindCnt2']===0x0)){this['AddOutPt'](_0x170cb3,_0x3e1bc4);if(_0x1dde9f)_0x170cb3['OutIdx']=-0x1;}else {if(_0x1bfed5['WindDelta']===0x0&&Math['abs'](_0x170cb3['WindCnt'])===0x1&&(this['m_ClipType']!==_0x23c0c3['ClipType']['ctUnion']||_0x170cb3['WindCnt2']===0x0)){this['AddOutPt'](_0x1bfed5,_0x3e1bc4);if(_0x52b764)_0x1bfed5['OutIdx']=-0x1;}}}}}return;}}if(_0x170cb3['PolyTyp']===_0x1bfed5['PolyTyp']){if(this['IsEvenOddFillType'](_0x170cb3)){var _0x35a919=_0x170cb3['WindCnt'];_0x170cb3['WindCnt']=_0x1bfed5['WindCnt'],_0x1bfed5['WindCnt']=_0x35a919;}else {if(_0x170cb3['WindCnt']+_0x1bfed5['WindDelta']===0x0)_0x170cb3['WindCnt']=-_0x170cb3['WindCnt'];else _0x170cb3['WindCnt']+=_0x1bfed5['WindDelta'];if(_0x1bfed5['WindCnt']-_0x170cb3['WindDelta']===0x0)_0x1bfed5['WindCnt']=-_0x1bfed5['WindCnt'];else _0x1bfed5['WindCnt']-=_0x170cb3['WindDelta'];}}else {if(!this['IsEvenOddFillType'](_0x1bfed5))_0x170cb3['WindCnt2']+=_0x1bfed5['WindDelta'];else _0x170cb3['WindCnt2']=_0x170cb3['WindCnt2']===0x0?0x1:0x0;if(!this['IsEvenOddFillType'](_0x170cb3))_0x1bfed5['WindCnt2']-=_0x170cb3['WindDelta'];else _0x1bfed5['WindCnt2']=_0x1bfed5['WindCnt2']===0x0?0x1:0x0;}var _0x9632,_0xb77699,_0x5d36bd,_0x2b0ff4;_0x170cb3['PolyTyp']===_0x23c0c3['PolyType']['ptSubject']?(_0x9632=this['m_SubjFillType'],_0x5d36bd=this['m_ClipFillType']):(_0x9632=this['m_ClipFillType'],_0x5d36bd=this['m_SubjFillType']);_0x1bfed5['PolyTyp']===_0x23c0c3['PolyType']['ptSubject']?(_0xb77699=this['m_SubjFillType'],_0x2b0ff4=this['m_ClipFillType']):(_0xb77699=this['m_ClipFillType'],_0x2b0ff4=this['m_SubjFillType']);var _0x596a94,_0x1074ac;switch(_0x9632){case _0x23c0c3['PolyFillType']['pftPositive']:_0x596a94=_0x170cb3['WindCnt'];break;case _0x23c0c3['PolyFillType']['pftNegative']:_0x596a94=-_0x170cb3['WindCnt'];break;default:_0x596a94=Math['abs'](_0x170cb3['WindCnt']);break;}switch(_0xb77699){case _0x23c0c3['PolyFillType']['pftPositive']:_0x1074ac=_0x1bfed5['WindCnt'];break;case _0x23c0c3['PolyFillType']['pftNegative']:_0x1074ac=-_0x1bfed5['WindCnt'];break;default:_0x1074ac=Math['abs'](_0x1bfed5['WindCnt']);break;}if(_0x1dde9f&&_0x52b764)_0x596a94!==0x0&&_0x596a94!==0x1||_0x1074ac!==0x0&&_0x1074ac!==0x1||_0x170cb3['PolyTyp']!==_0x1bfed5['PolyTyp']&&this['m_ClipType']!==_0x23c0c3['ClipType']['ctXor']?this['AddLocalMaxPoly'](_0x170cb3,_0x1bfed5,_0x3e1bc4):(this['AddOutPt'](_0x170cb3,_0x3e1bc4),this['AddOutPt'](_0x1bfed5,_0x3e1bc4),_0x23c0c3['Clipper']['SwapSides'](_0x170cb3,_0x1bfed5),_0x23c0c3['Clipper']['SwapPolyIndexes'](_0x170cb3,_0x1bfed5));else {if(_0x1dde9f)(_0x1074ac===0x0||_0x1074ac===0x1)&&(this['AddOutPt'](_0x170cb3,_0x3e1bc4),_0x23c0c3['Clipper']['SwapSides'](_0x170cb3,_0x1bfed5),_0x23c0c3['Clipper']['SwapPolyIndexes'](_0x170cb3,_0x1bfed5));else {if(_0x52b764)(_0x596a94===0x0||_0x596a94===0x1)&&(this['AddOutPt'](_0x1bfed5,_0x3e1bc4),_0x23c0c3['Clipper']['SwapSides'](_0x170cb3,_0x1bfed5),_0x23c0c3['Clipper']['SwapPolyIndexes'](_0x170cb3,_0x1bfed5));else {if((_0x596a94===0x0||_0x596a94===0x1)&&(_0x1074ac===0x0||_0x1074ac===0x1)){var _0x5cb1eb,_0x181a82;switch(_0x5d36bd){case _0x23c0c3['PolyFillType']['pftPositive']:_0x5cb1eb=_0x170cb3['WindCnt2'];break;case _0x23c0c3['PolyFillType']['pftNegative']:_0x5cb1eb=-_0x170cb3['WindCnt2'];break;default:_0x5cb1eb=Math['abs'](_0x170cb3['WindCnt2']);break;}switch(_0x2b0ff4){case _0x23c0c3['PolyFillType']['pftPositive']:_0x181a82=_0x1bfed5['WindCnt2'];break;case _0x23c0c3['PolyFillType']['pftNegative']:_0x181a82=-_0x1bfed5['WindCnt2'];break;default:_0x181a82=Math['abs'](_0x1bfed5['WindCnt2']);break;}if(_0x170cb3['PolyTyp']!==_0x1bfed5['PolyTyp'])this['AddLocalMinPoly'](_0x170cb3,_0x1bfed5,_0x3e1bc4);else {if(_0x596a94===0x1&&_0x1074ac===0x1)switch(this['m_ClipType']){case _0x23c0c3['ClipType']['ctIntersection']:if(_0x5cb1eb>0x0&&_0x181a82>0x0)this['AddLocalMinPoly'](_0x170cb3,_0x1bfed5,_0x3e1bc4);break;case _0x23c0c3['ClipType']['ctUnion']:if(_0x5cb1eb<=0x0&&_0x181a82<=0x0)this['AddLocalMinPoly'](_0x170cb3,_0x1bfed5,_0x3e1bc4);break;case _0x23c0c3['ClipType']['ctDifference']:if(_0x170cb3['PolyTyp']===_0x23c0c3['PolyType']['ptClip']&&_0x5cb1eb>0x0&&_0x181a82>0x0||_0x170cb3['PolyTyp']===_0x23c0c3['PolyType']['ptSubject']&&_0x5cb1eb<=0x0&&_0x181a82<=0x0)this['AddLocalMinPoly'](_0x170cb3,_0x1bfed5,_0x3e1bc4);break;case _0x23c0c3['ClipType']['ctXor']:this['AddLocalMinPoly'](_0x170cb3,_0x1bfed5,_0x3e1bc4);break;}else _0x23c0c3['Clipper']['SwapSides'](_0x170cb3,_0x1bfed5);}}}}}},_0x23c0c3['Clipper']['prototype']['DeleteFromSEL']=function(_0x2d0729){var _0x4b8292=_0x2d0729['PrevInSEL'],_0x2169bc=_0x2d0729['NextInSEL'];if(_0x4b8292===null&&_0x2169bc===null&&_0x2d0729!==this['m_SortedEdges'])return;if(_0x4b8292!==null)_0x4b8292['NextInSEL']=_0x2169bc;else this['m_SortedEdges']=_0x2169bc;if(_0x2169bc!==null)_0x2169bc['PrevInSEL']=_0x4b8292;_0x2d0729['NextInSEL']=null,_0x2d0729['PrevInSEL']=null;},_0x23c0c3['Clipper']['prototype']['ProcessHorizontals']=function(){var _0x18219d={};while(this['PopEdgeFromSEL'](_0x18219d)){this['ProcessHorizontal'](_0x18219d['v']);}},_0x23c0c3['Clipper']['prototype']['GetHorzDirection']=function(_0x203555,_0x8b4931){_0x203555['Bot']['X']<_0x203555['Top']['X']?(_0x8b4931['Left']=_0x203555['Bot']['X'],_0x8b4931['Right']=_0x203555['Top']['X'],_0x8b4931['Dir']=_0x23c0c3['Direction']['dLeftToRight']):(_0x8b4931['Left']=_0x203555['Top']['X'],_0x8b4931['Right']=_0x203555['Bot']['X'],_0x8b4931['Dir']=_0x23c0c3['Direction']['dRightToLeft']);},_0x23c0c3['Clipper']['prototype']['ProcessHorizontal']=function(_0x376ad4){var _0x1596e2={'Dir':null,'Left':null,'Right':null};this['GetHorzDirection'](_0x376ad4,_0x1596e2);var _0x5dcf65=_0x1596e2['Dir'],_0x17f820=_0x1596e2['Left'],_0x3dc5a0=_0x1596e2['Right'],_0x31017b=_0x376ad4['WindDelta']===0x0,_0x598555=_0x376ad4,_0x10680e=null;while(_0x598555['NextInLML']!==null&&_0x23c0c3['ClipperBase']['IsHorizontal'](_0x598555['NextInLML']))_0x598555=_0x598555['NextInLML'];if(_0x598555['NextInLML']===null)_0x10680e=this['GetMaximaPair'](_0x598555);var _0x28cd69=this['m_Maxima'];if(_0x28cd69!==null){if(_0x5dcf65===_0x23c0c3['Direction']['dLeftToRight']){while(_0x28cd69!==null&&_0x28cd69['X']<=_0x376ad4['Bot']['X']){_0x28cd69=_0x28cd69['Next'];}_0x28cd69!==null&&_0x28cd69['X']>=_0x598555['Top']['X']&&(_0x28cd69=null);}else {while(_0x28cd69['Next']!==null&&_0x28cd69['Next']['X']<_0x376ad4['Bot']['X']){_0x28cd69=_0x28cd69['Next'];}_0x28cd69['X']<=_0x598555['Top']['X']&&(_0x28cd69=null);}}var _0x57e33c=null;for(;;){var _0x1704d3=_0x376ad4===_0x598555,_0x4352e5=this['GetNextInAEL'](_0x376ad4,_0x5dcf65);while(_0x4352e5!==null){if(_0x28cd69!==null){if(_0x5dcf65===_0x23c0c3['Direction']['dLeftToRight'])while(_0x28cd69!==null&&_0x28cd69['X']<_0x4352e5['Curr']['X']){_0x376ad4['OutIdx']>=0x0&&!_0x31017b&&this['AddOutPt'](_0x376ad4,new _0x23c0c3['IntPoint2'](_0x28cd69['X'],_0x376ad4['Bot']['Y'])),_0x28cd69=_0x28cd69['Next'];}else while(_0x28cd69!==null&&_0x28cd69['X']>_0x4352e5['Curr']['X']){_0x376ad4['OutIdx']>=0x0&&!_0x31017b&&this['AddOutPt'](_0x376ad4,new _0x23c0c3['IntPoint2'](_0x28cd69['X'],_0x376ad4['Bot']['Y'])),_0x28cd69=_0x28cd69['Prev'];}}if(_0x5dcf65===_0x23c0c3['Direction']['dLeftToRight']&&_0x4352e5['Curr']['X']>_0x3dc5a0||_0x5dcf65===_0x23c0c3['Direction']['dRightToLeft']&&_0x4352e5['Curr']['X']<_0x17f820)break;if(_0x4352e5['Curr']['X']===_0x376ad4['Top']['X']&&_0x376ad4['NextInLML']!==null&&_0x4352e5['Dx']<_0x376ad4['NextInLML']['Dx'])break;if(_0x376ad4['OutIdx']>=0x0&&!_0x31017b){if(_0x23c0c3['use_xyz']){if(_0x5dcf65===_0x23c0c3['Direction']['dLeftToRight'])this['SetZ'](_0x4352e5['Curr'],_0x376ad4,_0x4352e5);else this['SetZ'](_0x4352e5['Curr'],_0x4352e5,_0x376ad4);}_0x57e33c=this['AddOutPt'](_0x376ad4,_0x4352e5['Curr']);var _0x1ff164=this['m_SortedEdges'];while(_0x1ff164!==null){if(_0x1ff164['OutIdx']>=0x0&&this['HorzSegmentsOverlap'](_0x376ad4['Bot']['X'],_0x376ad4['Top']['X'],_0x1ff164['Bot']['X'],_0x1ff164['Top']['X'])){var _0x2c5bb9=this['GetLastOutPt'](_0x1ff164);this['AddJoin'](_0x2c5bb9,_0x57e33c,_0x1ff164['Top']);}_0x1ff164=_0x1ff164['NextInSEL'];}this['AddGhostJoin'](_0x57e33c,_0x376ad4['Bot']);}if(_0x4352e5===_0x10680e&&_0x1704d3){_0x376ad4['OutIdx']>=0x0&&this['AddLocalMaxPoly'](_0x376ad4,_0x10680e,_0x376ad4['Top']);this['DeleteFromAEL'](_0x376ad4),this['DeleteFromAEL'](_0x10680e);return;}if(_0x5dcf65===_0x23c0c3['Direction']['dLeftToRight']){var _0x19590f=new _0x23c0c3['IntPoint2'](_0x4352e5['Curr']['X'],_0x376ad4['Curr']['Y']);this['IntersectEdges'](_0x376ad4,_0x4352e5,_0x19590f);}else {var _0x19590f=new _0x23c0c3['IntPoint2'](_0x4352e5['Curr']['X'],_0x376ad4['Curr']['Y']);this['IntersectEdges'](_0x4352e5,_0x376ad4,_0x19590f);}var _0x29afed=this['GetNextInAEL'](_0x4352e5,_0x5dcf65);this['SwapPositionsInAEL'](_0x376ad4,_0x4352e5),_0x4352e5=_0x29afed;}if(_0x376ad4['NextInLML']===null||!_0x23c0c3['ClipperBase']['IsHorizontal'](_0x376ad4['NextInLML']))break;_0x376ad4=this['UpdateEdgeIntoAEL'](_0x376ad4),_0x376ad4['OutIdx']>=0x0&&this['AddOutPt'](_0x376ad4,_0x376ad4['Bot']),_0x1596e2={'Dir':_0x5dcf65,'Left':_0x17f820,'Right':_0x3dc5a0},this['GetHorzDirection'](_0x376ad4,_0x1596e2),_0x5dcf65=_0x1596e2['Dir'],_0x17f820=_0x1596e2['Left'],_0x3dc5a0=_0x1596e2['Right'];}if(_0x376ad4['OutIdx']>=0x0&&_0x57e33c===null){_0x57e33c=this['GetLastOutPt'](_0x376ad4);var _0x1ff164=this['m_SortedEdges'];while(_0x1ff164!==null){if(_0x1ff164['OutIdx']>=0x0&&this['HorzSegmentsOverlap'](_0x376ad4['Bot']['X'],_0x376ad4['Top']['X'],_0x1ff164['Bot']['X'],_0x1ff164['Top']['X'])){var _0x2c5bb9=this['GetLastOutPt'](_0x1ff164);this['AddJoin'](_0x2c5bb9,_0x57e33c,_0x1ff164['Top']);}_0x1ff164=_0x1ff164['NextInSEL'];}this['AddGhostJoin'](_0x57e33c,_0x376ad4['Top']);}if(_0x376ad4['NextInLML']!==null){if(_0x376ad4['OutIdx']>=0x0){_0x57e33c=this['AddOutPt'](_0x376ad4,_0x376ad4['Top']),_0x376ad4=this['UpdateEdgeIntoAEL'](_0x376ad4);if(_0x376ad4['WindDelta']===0x0)return;var _0x6d5c1b=_0x376ad4['PrevInAEL'],_0x29afed=_0x376ad4['NextInAEL'];if(_0x6d5c1b!==null&&_0x6d5c1b['Curr']['X']===_0x376ad4['Bot']['X']&&_0x6d5c1b['Curr']['Y']===_0x376ad4['Bot']['Y']&&_0x6d5c1b['WindDelta']===0x0&&(_0x6d5c1b['OutIdx']>=0x0&&_0x6d5c1b['Curr']['Y']>_0x6d5c1b['Top']['Y']&&_0x23c0c3['ClipperBase']['SlopesEqual3'](_0x376ad4,_0x6d5c1b,this['m_UseFullRange']))){var _0x2c5bb9=this['AddOutPt'](_0x6d5c1b,_0x376ad4['Bot']);this['AddJoin'](_0x57e33c,_0x2c5bb9,_0x376ad4['Top']);}else {if(_0x29afed!==null&&_0x29afed['Curr']['X']===_0x376ad4['Bot']['X']&&_0x29afed['Curr']['Y']===_0x376ad4['Bot']['Y']&&_0x29afed['WindDelta']!==0x0&&_0x29afed['OutIdx']>=0x0&&_0x29afed['Curr']['Y']>_0x29afed['Top']['Y']&&_0x23c0c3['ClipperBase']['SlopesEqual3'](_0x376ad4,_0x29afed,this['m_UseFullRange'])){var _0x2c5bb9=this['AddOutPt'](_0x29afed,_0x376ad4['Bot']);this['AddJoin'](_0x57e33c,_0x2c5bb9,_0x376ad4['Top']);}}}else _0x376ad4=this['UpdateEdgeIntoAEL'](_0x376ad4);}else _0x376ad4['OutIdx']>=0x0&&this['AddOutPt'](_0x376ad4,_0x376ad4['Top']),this['DeleteFromAEL'](_0x376ad4);},_0x23c0c3['Clipper']['prototype']['GetNextInAEL']=function(_0x44dd69,_0x4305c2){return _0x4305c2===_0x23c0c3['Direction']['dLeftToRight']?_0x44dd69['NextInAEL']:_0x44dd69['PrevInAEL'];},_0x23c0c3['Clipper']['prototype']['IsMinima']=function(_0x33aca9){return _0x33aca9!==null&&_0x33aca9['Prev']['NextInLML']!==_0x33aca9&&_0x33aca9['Next']['NextInLML']!==_0x33aca9;},_0x23c0c3['Clipper']['prototype']['IsMaxima']=function(_0x18ae86,_0x1be3b4){return _0x18ae86!==null&&_0x18ae86['Top']['Y']===_0x1be3b4&&_0x18ae86['NextInLML']===null;},_0x23c0c3['Clipper']['prototype']['IsIntermediate']=function(_0x1b4c7d,_0x2bbded){return _0x1b4c7d['Top']['Y']===_0x2bbded&&_0x1b4c7d['NextInLML']!==null;},_0x23c0c3['Clipper']['prototype']['GetMaximaPair']=function(_0x245172){return _0x23c0c3['IntPoint']['op_Equality'](_0x245172['Next']['Top'],_0x245172['Top'])&&_0x245172['Next']['NextInLML']===null?_0x245172['Next']:_0x23c0c3['IntPoint']['op_Equality'](_0x245172['Prev']['Top'],_0x245172['Top'])&&_0x245172['Prev']['NextInLML']===null?_0x245172['Prev']:null;},_0x23c0c3['Clipper']['prototype']['GetMaximaPairEx']=function(_0x11c29d){var _0x4aa06d=this['GetMaximaPair'](_0x11c29d);if(_0x4aa06d===null||_0x4aa06d['OutIdx']===_0x23c0c3['ClipperBase']['Skip']||_0x4aa06d['NextInAEL']===_0x4aa06d['PrevInAEL']&&!_0x23c0c3['ClipperBase']['IsHorizontal'](_0x4aa06d))return null;return _0x4aa06d;},_0x23c0c3['Clipper']['prototype']['ProcessIntersections']=function(_0x31e2fa){if(this['m_ActiveEdges']===null)return !![];try{this['BuildIntersectList'](_0x31e2fa);if(this['m_IntersectList']['length']===0x0)return !![];if(this['m_IntersectList']['length']===0x1||this['FixupIntersectionOrder']())this['ProcessIntersectList']();else return ![];}catch(_0x343d74){this['m_SortedEdges']=null,this['m_IntersectList']['length']=0x0,_0x23c0c3['Error']('ProcessIntersections\x20error');}return this['m_SortedEdges']=null,!![];},_0x23c0c3['Clipper']['prototype']['BuildIntersectList']=function(_0xf0cebc){if(this['m_ActiveEdges']===null)return;var _0x34bbb7=this['m_ActiveEdges'];this['m_SortedEdges']=_0x34bbb7;while(_0x34bbb7!==null){_0x34bbb7['PrevInSEL']=_0x34bbb7['PrevInAEL'],_0x34bbb7['NextInSEL']=_0x34bbb7['NextInAEL'],_0x34bbb7['Curr']['X']=_0x23c0c3['Clipper']['TopX'](_0x34bbb7,_0xf0cebc),_0x34bbb7=_0x34bbb7['NextInAEL'];}var _0x62da4=!![];while(_0x62da4&&this['m_SortedEdges']!==null){_0x62da4=![],_0x34bbb7=this['m_SortedEdges'];while(_0x34bbb7['NextInSEL']!==null){var _0x51cf5a=_0x34bbb7['NextInSEL'],_0x51b915=new _0x23c0c3['IntPoint0']();if(_0x34bbb7['Curr']['X']>_0x51cf5a['Curr']['X']){this['IntersectPoint'](_0x34bbb7,_0x51cf5a,_0x51b915);_0x51b915['Y']<_0xf0cebc&&(_0x51b915=new _0x23c0c3['IntPoint2'](_0x23c0c3['Clipper']['TopX'](_0x34bbb7,_0xf0cebc),_0xf0cebc));var _0x59eae8=new _0x23c0c3['IntersectNode']();_0x59eae8['Edge1']=_0x34bbb7,_0x59eae8['Edge2']=_0x51cf5a,_0x59eae8['Pt']['X']=_0x51b915['X'],_0x59eae8['Pt']['Y']=_0x51b915['Y'];if(_0x23c0c3['use_xyz'])_0x59eae8['Pt']['Z']=_0x51b915['Z'];this['m_IntersectList']['push'](_0x59eae8),this['SwapPositionsInSEL'](_0x34bbb7,_0x51cf5a),_0x62da4=!![];}else _0x34bbb7=_0x51cf5a;}if(_0x34bbb7['PrevInSEL']!==null)_0x34bbb7['PrevInSEL']['NextInSEL']=null;else break;}this['m_SortedEdges']=null;},_0x23c0c3['Clipper']['prototype']['EdgesAdjacent']=function(_0x58d3d6){return _0x58d3d6['Edge1']['NextInSEL']===_0x58d3d6['Edge2']||_0x58d3d6['Edge1']['PrevInSEL']===_0x58d3d6['Edge2'];},_0x23c0c3['Clipper']['IntersectNodeSort']=function(_0x1d69c0,_0x366929){return _0x366929['Pt']['Y']-_0x1d69c0['Pt']['Y'];},_0x23c0c3['Clipper']['prototype']['FixupIntersectionOrder']=function(){this['m_IntersectList']['sort'](this['m_IntersectNodeComparer']),this['CopyAELToSEL']();var _0x1faccf=this['m_IntersectList']['length'];for(var _0x13fa6e=0x0;_0x13fa6e<_0x1faccf;_0x13fa6e++){if(!this['EdgesAdjacent'](this['m_IntersectList'][_0x13fa6e])){var _0x4dc8a3=_0x13fa6e+0x1;while(_0x4dc8a3<_0x1faccf&&!this['EdgesAdjacent'](this['m_IntersectList'][_0x4dc8a3]))_0x4dc8a3++;if(_0x4dc8a3===_0x1faccf)return ![];var _0x391395=this['m_IntersectList'][_0x13fa6e];this['m_IntersectList'][_0x13fa6e]=this['m_IntersectList'][_0x4dc8a3],this['m_IntersectList'][_0x4dc8a3]=_0x391395;}this['SwapPositionsInSEL'](this['m_IntersectList'][_0x13fa6e]['Edge1'],this['m_IntersectList'][_0x13fa6e]['Edge2']);}return !![];},_0x23c0c3['Clipper']['prototype']['ProcessIntersectList']=function(){for(var _0x5265f4=0x0,_0x4b8005=this['m_IntersectList']['length'];_0x5265f4<_0x4b8005;_0x5265f4++){var _0x185eec=this['m_IntersectList'][_0x5265f4];this['IntersectEdges'](_0x185eec['Edge1'],_0x185eec['Edge2'],_0x185eec['Pt']),this['SwapPositionsInAEL'](_0x185eec['Edge1'],_0x185eec['Edge2']);}this['m_IntersectList']['length']=0x0;};var _0x20f4f9=function(_0x507dbd){return _0x507dbd<0x0?Math['ceil'](_0x507dbd-0.5):Math['round'](_0x507dbd);},_0x3cb1a5=function(_0x323332){return _0x323332<0x0?Math['ceil'](_0x323332-0.5):Math['floor'](_0x323332+0.5);},_0x38a222=function(_0x20eea2){return _0x20eea2<0x0?-Math['round'](Math['abs'](_0x20eea2)):Math['round'](_0x20eea2);},_0x1cd763=function(_0x6e42da){return _0x6e42da<0x0?(_0x6e42da-=0.5,_0x6e42da<-0x80000000?Math['ceil'](_0x6e42da):_0x6e42da|0x0):(_0x6e42da+=0.5,_0x6e42da>0x7fffffff?Math['floor'](_0x6e42da):_0x6e42da|0x0);};if(_0x5d5b0a['msie'])_0x23c0c3['Clipper']['Round']=_0x20f4f9;else {if(_0x5d5b0a['chromium'])_0x23c0c3['Clipper']['Round']=_0x38a222;else {if(_0x5d5b0a['safari'])_0x23c0c3['Clipper']['Round']=_0x1cd763;else _0x23c0c3['Clipper']['Round']=_0x3cb1a5;}}_0x23c0c3['Clipper']['TopX']=function(_0x432fa3,_0x275c35){if(_0x275c35===_0x432fa3['Top']['Y'])return _0x432fa3['Top']['X'];return _0x432fa3['Bot']['X']+_0x23c0c3['Clipper']['Round'](_0x432fa3['Dx']*(_0x275c35-_0x432fa3['Bot']['Y']));},_0x23c0c3['Clipper']['prototype']['IntersectPoint']=function(_0x166c35,_0x478427,_0xd188da){_0xd188da['X']=0x0,_0xd188da['Y']=0x0;var _0x1433e6,_0x2eb733;if(_0x166c35['Dx']===_0x478427['Dx']){_0xd188da['Y']=_0x166c35['Curr']['Y'],_0xd188da['X']=_0x23c0c3['Clipper']['TopX'](_0x166c35,_0xd188da['Y']);return;}if(_0x166c35['Delta']['X']===0x0)_0xd188da['X']=_0x166c35['Bot']['X'],_0x23c0c3['ClipperBase']['IsHorizontal'](_0x478427)?_0xd188da['Y']=_0x478427['Bot']['Y']:(_0x2eb733=_0x478427['Bot']['Y']-_0x478427['Bot']['X']/_0x478427['Dx'],_0xd188da['Y']=_0x23c0c3['Clipper']['Round'](_0xd188da['X']/_0x478427['Dx']+_0x2eb733));else {if(_0x478427['Delta']['X']===0x0)_0xd188da['X']=_0x478427['Bot']['X'],_0x23c0c3['ClipperBase']['IsHorizontal'](_0x166c35)?_0xd188da['Y']=_0x166c35['Bot']['Y']:(_0x1433e6=_0x166c35['Bot']['Y']-_0x166c35['Bot']['X']/_0x166c35['Dx'],_0xd188da['Y']=_0x23c0c3['Clipper']['Round'](_0xd188da['X']/_0x166c35['Dx']+_0x1433e6));else {_0x1433e6=_0x166c35['Bot']['X']-_0x166c35['Bot']['Y']*_0x166c35['Dx'],_0x2eb733=_0x478427['Bot']['X']-_0x478427['Bot']['Y']*_0x478427['Dx'];var _0x57146f=(_0x2eb733-_0x1433e6)/(_0x166c35['Dx']-_0x478427['Dx']);_0xd188da['Y']=_0x23c0c3['Clipper']['Round'](_0x57146f);if(Math['abs'](_0x166c35['Dx'])<Math['abs'](_0x478427['Dx']))_0xd188da['X']=_0x23c0c3['Clipper']['Round'](_0x166c35['Dx']*_0x57146f+_0x1433e6);else _0xd188da['X']=_0x23c0c3['Clipper']['Round'](_0x478427['Dx']*_0x57146f+_0x2eb733);}}if(_0xd188da['Y']<_0x166c35['Top']['Y']||_0xd188da['Y']<_0x478427['Top']['Y']){if(_0x166c35['Top']['Y']>_0x478427['Top']['Y'])return _0xd188da['Y']=_0x166c35['Top']['Y'],_0xd188da['X']=_0x23c0c3['Clipper']['TopX'](_0x478427,_0x166c35['Top']['Y']),_0xd188da['X']<_0x166c35['Top']['X'];else _0xd188da['Y']=_0x478427['Top']['Y'];if(Math['abs'](_0x166c35['Dx'])<Math['abs'](_0x478427['Dx']))_0xd188da['X']=_0x23c0c3['Clipper']['TopX'](_0x166c35,_0xd188da['Y']);else _0xd188da['X']=_0x23c0c3['Clipper']['TopX'](_0x478427,_0xd188da['Y']);}if(_0xd188da['Y']>_0x166c35['Curr']['Y']){_0xd188da['Y']=_0x166c35['Curr']['Y'];if(Math['abs'](_0x166c35['Dx'])>Math['abs'](_0x478427['Dx']))_0xd188da['X']=_0x23c0c3['Clipper']['TopX'](_0x478427,_0xd188da['Y']);else _0xd188da['X']=_0x23c0c3['Clipper']['TopX'](_0x166c35,_0xd188da['Y']);}},_0x23c0c3['Clipper']['prototype']['ProcessEdgesAtTopOfScanbeam']=function(_0x1243c5){var _0x2dcb32=this['m_ActiveEdges'];while(_0x2dcb32!==null){var _0x2344ff=this['IsMaxima'](_0x2dcb32,_0x1243c5);if(_0x2344ff){var _0x219c12=this['GetMaximaPairEx'](_0x2dcb32);_0x2344ff=_0x219c12===null||!_0x23c0c3['ClipperBase']['IsHorizontal'](_0x219c12);}if(_0x2344ff){this['StrictlySimple']&&this['InsertMaxima'](_0x2dcb32['Top']['X']);var _0xa3d74=_0x2dcb32['PrevInAEL'];this['DoMaxima'](_0x2dcb32);if(_0xa3d74===null)_0x2dcb32=this['m_ActiveEdges'];else _0x2dcb32=_0xa3d74['NextInAEL'];}else {if(this['IsIntermediate'](_0x2dcb32,_0x1243c5)&&_0x23c0c3['ClipperBase']['IsHorizontal'](_0x2dcb32['NextInLML'])){_0x2dcb32=this['UpdateEdgeIntoAEL'](_0x2dcb32);if(_0x2dcb32['OutIdx']>=0x0)this['AddOutPt'](_0x2dcb32,_0x2dcb32['Bot']);this['AddEdgeToSEL'](_0x2dcb32);}else _0x2dcb32['Curr']['X']=_0x23c0c3['Clipper']['TopX'](_0x2dcb32,_0x1243c5),_0x2dcb32['Curr']['Y']=_0x1243c5;if(_0x23c0c3['use_xyz']){if(_0x2dcb32['Top']['Y']===_0x1243c5)_0x2dcb32['Curr']['Z']=_0x2dcb32['Top']['Z'];else {if(_0x2dcb32['Bot']['Y']===_0x1243c5)_0x2dcb32['Curr']['Z']=_0x2dcb32['Bot']['Z'];else _0x2dcb32['Curr']['Z']=0x0;}}if(this['StrictlySimple']){var _0xa3d74=_0x2dcb32['PrevInAEL'];if(_0x2dcb32['OutIdx']>=0x0&&_0x2dcb32['WindDelta']!==0x0&&_0xa3d74!==null&&_0xa3d74['OutIdx']>=0x0&&_0xa3d74['Curr']['X']===_0x2dcb32['Curr']['X']&&_0xa3d74['WindDelta']!==0x0){var _0x2f5e54=new _0x23c0c3['IntPoint1'](_0x2dcb32['Curr']);_0x23c0c3['use_xyz']&&this['SetZ'](_0x2f5e54,_0xa3d74,_0x2dcb32);var _0x57f768=this['AddOutPt'](_0xa3d74,_0x2f5e54),_0x4e5b00=this['AddOutPt'](_0x2dcb32,_0x2f5e54);this['AddJoin'](_0x57f768,_0x4e5b00,_0x2f5e54);}}_0x2dcb32=_0x2dcb32['NextInAEL'];}}this['ProcessHorizontals'](),this['m_Maxima']=null,_0x2dcb32=this['m_ActiveEdges'];while(_0x2dcb32!==null){if(this['IsIntermediate'](_0x2dcb32,_0x1243c5)){var _0x57f768=null;if(_0x2dcb32['OutIdx']>=0x0)_0x57f768=this['AddOutPt'](_0x2dcb32,_0x2dcb32['Top']);_0x2dcb32=this['UpdateEdgeIntoAEL'](_0x2dcb32);var _0xa3d74=_0x2dcb32['PrevInAEL'],_0xefa7a8=_0x2dcb32['NextInAEL'];if(_0xa3d74!==null&&_0xa3d74['Curr']['X']===_0x2dcb32['Bot']['X']&&_0xa3d74['Curr']['Y']===_0x2dcb32['Bot']['Y']&&_0x57f768!==null&&_0xa3d74['OutIdx']>=0x0&&_0xa3d74['Curr']['Y']===_0xa3d74['Top']['Y']&&_0x23c0c3['ClipperBase']['SlopesEqual5'](_0x2dcb32['Curr'],_0x2dcb32['Top'],_0xa3d74['Curr'],_0xa3d74['Top'],this['m_UseFullRange'])&&_0x2dcb32['WindDelta']!==0x0&&_0xa3d74['WindDelta']!==0x0){var _0x4e5b00=this['AddOutPt'](ePrev2,_0x2dcb32['Bot']);this['AddJoin'](_0x57f768,_0x4e5b00,_0x2dcb32['Top']);}else {if(_0xefa7a8!==null&&_0xefa7a8['Curr']['X']===_0x2dcb32['Bot']['X']&&_0xefa7a8['Curr']['Y']===_0x2dcb32['Bot']['Y']&&_0x57f768!==null&&_0xefa7a8['OutIdx']>=0x0&&_0xefa7a8['Curr']['Y']===_0xefa7a8['Top']['Y']&&_0x23c0c3['ClipperBase']['SlopesEqual5'](_0x2dcb32['Curr'],_0x2dcb32['Top'],_0xefa7a8['Curr'],_0xefa7a8['Top'],this['m_UseFullRange'])&&_0x2dcb32['WindDelta']!==0x0&&_0xefa7a8['WindDelta']!==0x0){var _0x4e5b00=this['AddOutPt'](_0xefa7a8,_0x2dcb32['Bot']);this['AddJoin'](_0x57f768,_0x4e5b00,_0x2dcb32['Top']);}}}_0x2dcb32=_0x2dcb32['NextInAEL'];}},_0x23c0c3['Clipper']['prototype']['DoMaxima']=function(_0x37b70c){var _0x210ecb=this['GetMaximaPairEx'](_0x37b70c);if(_0x210ecb===null){if(_0x37b70c['OutIdx']>=0x0)this['AddOutPt'](_0x37b70c,_0x37b70c['Top']);this['DeleteFromAEL'](_0x37b70c);return;}var _0x494027=_0x37b70c['NextInAEL'];while(_0x494027!==null&&_0x494027!==_0x210ecb){this['IntersectEdges'](_0x37b70c,_0x494027,_0x37b70c['Top']),this['SwapPositionsInAEL'](_0x37b70c,_0x494027),_0x494027=_0x37b70c['NextInAEL'];}if(_0x37b70c['OutIdx']===-0x1&&_0x210ecb['OutIdx']===-0x1)this['DeleteFromAEL'](_0x37b70c),this['DeleteFromAEL'](_0x210ecb);else {if(_0x37b70c['OutIdx']>=0x0&&_0x210ecb['OutIdx']>=0x0){if(_0x37b70c['OutIdx']>=0x0)this['AddLocalMaxPoly'](_0x37b70c,_0x210ecb,_0x37b70c['Top']);this['DeleteFromAEL'](_0x37b70c),this['DeleteFromAEL'](_0x210ecb);}else {if(_0x23c0c3['use_lines']&&_0x37b70c['WindDelta']===0x0)_0x37b70c['OutIdx']>=0x0&&(this['AddOutPt'](_0x37b70c,_0x37b70c['Top']),_0x37b70c['OutIdx']=_0x23c0c3['ClipperBase']['Unassigned']),this['DeleteFromAEL'](_0x37b70c),_0x210ecb['OutIdx']>=0x0&&(this['AddOutPt'](_0x210ecb,_0x37b70c['Top']),_0x210ecb['OutIdx']=_0x23c0c3['ClipperBase']['Unassigned']),this['DeleteFromAEL'](_0x210ecb);else _0x23c0c3['Error']('DoMaxima\x20error');}}},_0x23c0c3['Clipper']['ReversePaths']=function(_0x1efce0){for(var _0x18cc08=0x0,_0x1ad584=_0x1efce0['length'];_0x18cc08<_0x1ad584;_0x18cc08++)_0x1efce0[_0x18cc08]['reverse']();},_0x23c0c3['Clipper']['Orientation']=function(_0x38cded){return _0x23c0c3['Clipper']['Area'](_0x38cded)>=0x0;},_0x23c0c3['Clipper']['prototype']['PointCount']=function(_0x1087b1){if(_0x1087b1===null)return 0x0;var _0x59d7ac=0x0,_0x54596d=_0x1087b1;do{_0x59d7ac++,_0x54596d=_0x54596d['Next'];}while(_0x54596d!==_0x1087b1);return _0x59d7ac;},_0x23c0c3['Clipper']['prototype']['BuildResult']=function(_0x43ff84){_0x23c0c3['Clear'](_0x43ff84);for(var _0x4cd8f6=0x0,_0x3d65ab=this['m_PolyOuts']['length'];_0x4cd8f6<_0x3d65ab;_0x4cd8f6++){var _0x5988ca=this['m_PolyOuts'][_0x4cd8f6];if(_0x5988ca['Pts']===null)continue;var _0x2cb3a3=_0x5988ca['Pts']['Prev'],_0x2a3fbd=this['PointCount'](_0x2cb3a3);if(_0x2a3fbd<0x2)continue;var _0x2f9f8a=new Array(_0x2a3fbd);for(var _0x3c7700=0x0;_0x3c7700<_0x2a3fbd;_0x3c7700++){_0x2f9f8a[_0x3c7700]=_0x2cb3a3['Pt'],_0x2cb3a3=_0x2cb3a3['Prev'];}_0x43ff84['push'](_0x2f9f8a);}},_0x23c0c3['Clipper']['prototype']['BuildResult2']=function(_0x1d4f58){_0x1d4f58['Clear']();for(var _0x2c0dde=0x0,_0x16cb73=this['m_PolyOuts']['length'];_0x2c0dde<_0x16cb73;_0x2c0dde++){var _0x4fe669=this['m_PolyOuts'][_0x2c0dde],_0x19b31b=this['PointCount'](_0x4fe669['Pts']);if(_0x4fe669['IsOpen']&&_0x19b31b<0x2||!_0x4fe669['IsOpen']&&_0x19b31b<0x3)continue;this['FixHoleLinkage'](_0x4fe669);var _0x265244=new _0x23c0c3['PolyNode']();_0x1d4f58['m_AllPolys']['push'](_0x265244),_0x4fe669['PolyNode']=_0x265244,_0x265244['m_polygon']['length']=_0x19b31b;var _0x24bbfc=_0x4fe669['Pts']['Prev'];for(var _0xb984c=0x0;_0xb984c<_0x19b31b;_0xb984c++){_0x265244['m_polygon'][_0xb984c]=_0x24bbfc['Pt'],_0x24bbfc=_0x24bbfc['Prev'];}}for(var _0x2c0dde=0x0,_0x16cb73=this['m_PolyOuts']['length'];_0x2c0dde<_0x16cb73;_0x2c0dde++){var _0x4fe669=this['m_PolyOuts'][_0x2c0dde];if(_0x4fe669['PolyNode']===null)continue;else {if(_0x4fe669['IsOpen'])_0x4fe669['PolyNode']['IsOpen']=!![],_0x1d4f58['AddChild'](_0x4fe669['PolyNode']);else {if(_0x4fe669['FirstLeft']!==null&&_0x4fe669['FirstLeft']['PolyNode']!==null)_0x4fe669['FirstLeft']['PolyNode']['AddChild'](_0x4fe669['PolyNode']);else _0x1d4f58['AddChild'](_0x4fe669['PolyNode']);}}}},_0x23c0c3['Clipper']['prototype']['FixupOutPolyline']=function(_0x119825){var _0x31503e=_0x119825['Pts'],_0x1d74df=_0x31503e['Prev'];while(_0x31503e!==_0x1d74df){_0x31503e=_0x31503e['Next'];if(_0x23c0c3['IntPoint']['op_Equality'](_0x31503e['Pt'],_0x31503e['Prev']['Pt'])){_0x31503e===_0x1d74df&&(_0x1d74df=_0x31503e['Prev']);var _0x232a16=_0x31503e['Prev'];_0x232a16['Next']=_0x31503e['Next'],_0x31503e['Next']['Prev']=_0x232a16,_0x31503e=_0x232a16;}}_0x31503e===_0x31503e['Prev']&&(_0x119825['Pts']=null);},_0x23c0c3['Clipper']['prototype']['FixupOutPolygon']=function(_0x56dc29){var _0x84630=null;_0x56dc29['BottomPt']=null;var _0x42dd9c=_0x56dc29['Pts'],_0x4d3b71=this['PreserveCollinear']||this['StrictlySimple'];for(;;){if(_0x42dd9c['Prev']===_0x42dd9c||_0x42dd9c['Prev']===_0x42dd9c['Next']){_0x56dc29['Pts']=null;return;}if(_0x23c0c3['IntPoint']['op_Equality'](_0x42dd9c['Pt'],_0x42dd9c['Next']['Pt'])||_0x23c0c3['IntPoint']['op_Equality'](_0x42dd9c['Pt'],_0x42dd9c['Prev']['Pt'])||_0x23c0c3['ClipperBase']['SlopesEqual4'](_0x42dd9c['Prev']['Pt'],_0x42dd9c['Pt'],_0x42dd9c['Next']['Pt'],this['m_UseFullRange'])&&(!_0x4d3b71||!this['Pt2IsBetweenPt1AndPt3'](_0x42dd9c['Prev']['Pt'],_0x42dd9c['Pt'],_0x42dd9c['Next']['Pt'])))_0x84630=null,_0x42dd9c['Prev']['Next']=_0x42dd9c['Next'],_0x42dd9c['Next']['Prev']=_0x42dd9c['Prev'],_0x42dd9c=_0x42dd9c['Prev'];else {if(_0x42dd9c===_0x84630)break;else {if(_0x84630===null)_0x84630=_0x42dd9c;_0x42dd9c=_0x42dd9c['Next'];}}}_0x56dc29['Pts']=_0x42dd9c;},_0x23c0c3['Clipper']['prototype']['DupOutPt']=function(_0x520838,_0x28a3ba){var _0x4c36e7=new _0x23c0c3['OutPt']();_0x4c36e7['Pt']['X']=_0x520838['Pt']['X'],_0x4c36e7['Pt']['Y']=_0x520838['Pt']['Y'];if(_0x23c0c3['use_xyz'])_0x4c36e7['Pt']['Z']=_0x520838['Pt']['Z'];return _0x4c36e7['Idx']=_0x520838['Idx'],_0x28a3ba?(_0x4c36e7['Next']=_0x520838['Next'],_0x4c36e7['Prev']=_0x520838,_0x520838['Next']['Prev']=_0x4c36e7,_0x520838['Next']=_0x4c36e7):(_0x4c36e7['Prev']=_0x520838['Prev'],_0x4c36e7['Next']=_0x520838,_0x520838['Prev']['Next']=_0x4c36e7,_0x520838['Prev']=_0x4c36e7),_0x4c36e7;},_0x23c0c3['Clipper']['prototype']['GetOverlap']=function(_0x17ca18,_0x133d4e,_0x223f30,_0x23e39f,_0x3138b9){return _0x17ca18<_0x133d4e?_0x223f30<_0x23e39f?(_0x3138b9['Left']=Math['max'](_0x17ca18,_0x223f30),_0x3138b9['Right']=Math['min'](_0x133d4e,_0x23e39f)):(_0x3138b9['Left']=Math['max'](_0x17ca18,_0x23e39f),_0x3138b9['Right']=Math['min'](_0x133d4e,_0x223f30)):_0x223f30<_0x23e39f?(_0x3138b9['Left']=Math['max'](_0x133d4e,_0x223f30),_0x3138b9['Right']=Math['min'](_0x17ca18,_0x23e39f)):(_0x3138b9['Left']=Math['max'](_0x133d4e,_0x23e39f),_0x3138b9['Right']=Math['min'](_0x17ca18,_0x223f30)),_0x3138b9['Left']<_0x3138b9['Right'];},_0x23c0c3['Clipper']['prototype']['JoinHorz']=function(_0x23c394,_0x2fa9be,_0x25bdaf,_0x11a1bd,_0x532198,_0x254b30){var _0x474960=_0x23c394['Pt']['X']>_0x2fa9be['Pt']['X']?_0x23c0c3['Direction']['dRightToLeft']:_0x23c0c3['Direction']['dLeftToRight'],_0x36686a=_0x25bdaf['Pt']['X']>_0x11a1bd['Pt']['X']?_0x23c0c3['Direction']['dRightToLeft']:_0x23c0c3['Direction']['dLeftToRight'];if(_0x474960===_0x36686a)return ![];if(_0x474960===_0x23c0c3['Direction']['dLeftToRight']){while(_0x23c394['Next']['Pt']['X']<=_0x532198['X']&&_0x23c394['Next']['Pt']['X']>=_0x23c394['Pt']['X']&&_0x23c394['Next']['Pt']['Y']===_0x532198['Y'])_0x23c394=_0x23c394['Next'];if(_0x254b30&&_0x23c394['Pt']['X']!==_0x532198['X'])_0x23c394=_0x23c394['Next'];_0x2fa9be=this['DupOutPt'](_0x23c394,!_0x254b30);if(_0x23c0c3['IntPoint']['op_Inequality'](_0x2fa9be['Pt'],_0x532198)){_0x23c394=_0x2fa9be,_0x23c394['Pt']['X']=_0x532198['X'],_0x23c394['Pt']['Y']=_0x532198['Y'];if(_0x23c0c3['use_xyz'])_0x23c394['Pt']['Z']=_0x532198['Z'];_0x2fa9be=this['DupOutPt'](_0x23c394,!_0x254b30);}}else {while(_0x23c394['Next']['Pt']['X']>=_0x532198['X']&&_0x23c394['Next']['Pt']['X']<=_0x23c394['Pt']['X']&&_0x23c394['Next']['Pt']['Y']===_0x532198['Y'])_0x23c394=_0x23c394['Next'];if(!_0x254b30&&_0x23c394['Pt']['X']!==_0x532198['X'])_0x23c394=_0x23c394['Next'];_0x2fa9be=this['DupOutPt'](_0x23c394,_0x254b30);if(_0x23c0c3['IntPoint']['op_Inequality'](_0x2fa9be['Pt'],_0x532198)){_0x23c394=_0x2fa9be,_0x23c394['Pt']['X']=_0x532198['X'],_0x23c394['Pt']['Y']=_0x532198['Y'];if(_0x23c0c3['use_xyz'])_0x23c394['Pt']['Z']=_0x532198['Z'];_0x2fa9be=this['DupOutPt'](_0x23c394,_0x254b30);}}if(_0x36686a===_0x23c0c3['Direction']['dLeftToRight']){while(_0x25bdaf['Next']['Pt']['X']<=_0x532198['X']&&_0x25bdaf['Next']['Pt']['X']>=_0x25bdaf['Pt']['X']&&_0x25bdaf['Next']['Pt']['Y']===_0x532198['Y'])_0x25bdaf=_0x25bdaf['Next'];if(_0x254b30&&_0x25bdaf['Pt']['X']!==_0x532198['X'])_0x25bdaf=_0x25bdaf['Next'];_0x11a1bd=this['DupOutPt'](_0x25bdaf,!_0x254b30);if(_0x23c0c3['IntPoint']['op_Inequality'](_0x11a1bd['Pt'],_0x532198)){_0x25bdaf=_0x11a1bd,_0x25bdaf['Pt']['X']=_0x532198['X'],_0x25bdaf['Pt']['Y']=_0x532198['Y'];if(_0x23c0c3['use_xyz'])_0x25bdaf['Pt']['Z']=_0x532198['Z'];_0x11a1bd=this['DupOutPt'](_0x25bdaf,!_0x254b30);}}else {while(_0x25bdaf['Next']['Pt']['X']>=_0x532198['X']&&_0x25bdaf['Next']['Pt']['X']<=_0x25bdaf['Pt']['X']&&_0x25bdaf['Next']['Pt']['Y']===_0x532198['Y'])_0x25bdaf=_0x25bdaf['Next'];if(!_0x254b30&&_0x25bdaf['Pt']['X']!==_0x532198['X'])_0x25bdaf=_0x25bdaf['Next'];_0x11a1bd=this['DupOutPt'](_0x25bdaf,_0x254b30);if(_0x23c0c3['IntPoint']['op_Inequality'](_0x11a1bd['Pt'],_0x532198)){_0x25bdaf=_0x11a1bd,_0x25bdaf['Pt']['X']=_0x532198['X'],_0x25bdaf['Pt']['Y']=_0x532198['Y'];if(_0x23c0c3['use_xyz'])_0x25bdaf['Pt']['Z']=_0x532198['Z'];_0x11a1bd=this['DupOutPt'](_0x25bdaf,_0x254b30);}}return _0x474960===_0x23c0c3['Direction']['dLeftToRight']===_0x254b30?(_0x23c394['Prev']=_0x25bdaf,_0x25bdaf['Next']=_0x23c394,_0x2fa9be['Next']=_0x11a1bd,_0x11a1bd['Prev']=_0x2fa9be):(_0x23c394['Next']=_0x25bdaf,_0x25bdaf['Prev']=_0x23c394,_0x2fa9be['Prev']=_0x11a1bd,_0x11a1bd['Next']=_0x2fa9be),!![];},_0x23c0c3['Clipper']['prototype']['JoinPoints']=function(_0x5ce701,_0x154f75,_0x51c206){var _0x69d63a=_0x5ce701['OutPt1'],_0x8a1750=new _0x23c0c3['OutPt'](),_0x10387a=_0x5ce701['OutPt2'],_0x32160c=new _0x23c0c3['OutPt'](),_0x1f3dc7=_0x5ce701['OutPt1']['Pt']['Y']===_0x5ce701['OffPt']['Y'];if(_0x1f3dc7&&_0x23c0c3['IntPoint']['op_Equality'](_0x5ce701['OffPt'],_0x5ce701['OutPt1']['Pt'])&&_0x23c0c3['IntPoint']['op_Equality'](_0x5ce701['OffPt'],_0x5ce701['OutPt2']['Pt'])){if(_0x154f75!==_0x51c206)return ![];_0x8a1750=_0x5ce701['OutPt1']['Next'];while(_0x8a1750!==_0x69d63a&&_0x23c0c3['IntPoint']['op_Equality'](_0x8a1750['Pt'],_0x5ce701['OffPt']))_0x8a1750=_0x8a1750['Next'];var _0x154a9e=_0x8a1750['Pt']['Y']>_0x5ce701['OffPt']['Y'];_0x32160c=_0x5ce701['OutPt2']['Next'];while(_0x32160c!==_0x10387a&&_0x23c0c3['IntPoint']['op_Equality'](_0x32160c['Pt'],_0x5ce701['OffPt']))_0x32160c=_0x32160c['Next'];var _0x385f62=_0x32160c['Pt']['Y']>_0x5ce701['OffPt']['Y'];if(_0x154a9e===_0x385f62)return ![];return _0x154a9e?(_0x8a1750=this['DupOutPt'](_0x69d63a,![]),_0x32160c=this['DupOutPt'](_0x10387a,!![]),_0x69d63a['Prev']=_0x10387a,_0x10387a['Next']=_0x69d63a,_0x8a1750['Next']=_0x32160c,_0x32160c['Prev']=_0x8a1750,_0x5ce701['OutPt1']=_0x69d63a,_0x5ce701['OutPt2']=_0x8a1750,!![]):(_0x8a1750=this['DupOutPt'](_0x69d63a,!![]),_0x32160c=this['DupOutPt'](_0x10387a,![]),_0x69d63a['Next']=_0x10387a,_0x10387a['Prev']=_0x69d63a,_0x8a1750['Prev']=_0x32160c,_0x32160c['Next']=_0x8a1750,_0x5ce701['OutPt1']=_0x69d63a,_0x5ce701['OutPt2']=_0x8a1750,!![]);}else {if(_0x1f3dc7){_0x8a1750=_0x69d63a;while(_0x69d63a['Prev']['Pt']['Y']===_0x69d63a['Pt']['Y']&&_0x69d63a['Prev']!==_0x8a1750&&_0x69d63a['Prev']!==_0x10387a)_0x69d63a=_0x69d63a['Prev'];while(_0x8a1750['Next']['Pt']['Y']===_0x8a1750['Pt']['Y']&&_0x8a1750['Next']!==_0x69d63a&&_0x8a1750['Next']!==_0x10387a)_0x8a1750=_0x8a1750['Next'];if(_0x8a1750['Next']===_0x69d63a||_0x8a1750['Next']===_0x10387a)return ![];_0x32160c=_0x10387a;while(_0x10387a['Prev']['Pt']['Y']===_0x10387a['Pt']['Y']&&_0x10387a['Prev']!==_0x32160c&&_0x10387a['Prev']!==_0x8a1750)_0x10387a=_0x10387a['Prev'];while(_0x32160c['Next']['Pt']['Y']===_0x32160c['Pt']['Y']&&_0x32160c['Next']!==_0x10387a&&_0x32160c['Next']!==_0x69d63a)_0x32160c=_0x32160c['Next'];if(_0x32160c['Next']===_0x10387a||_0x32160c['Next']===_0x69d63a)return ![];var _0x438876={'Left':null,'Right':null};if(!this['GetOverlap'](_0x69d63a['Pt']['X'],_0x8a1750['Pt']['X'],_0x10387a['Pt']['X'],_0x32160c['Pt']['X'],_0x438876))return ![];var _0x2b83cb=_0x438876['Left'],_0x3802dc=_0x438876['Right'],_0x3a8703=new _0x23c0c3['IntPoint0'](),_0x545f4d;if(_0x69d63a['Pt']['X']>=_0x2b83cb&&_0x69d63a['Pt']['X']<=_0x3802dc){_0x3a8703['X']=_0x69d63a['Pt']['X'],_0x3a8703['Y']=_0x69d63a['Pt']['Y'];if(_0x23c0c3['use_xyz'])_0x3a8703['Z']=_0x69d63a['Pt']['Z'];_0x545f4d=_0x69d63a['Pt']['X']>_0x8a1750['Pt']['X'];}else {if(_0x10387a['Pt']['X']>=_0x2b83cb&&_0x10387a['Pt']['X']<=_0x3802dc){_0x3a8703['X']=_0x10387a['Pt']['X'],_0x3a8703['Y']=_0x10387a['Pt']['Y'];if(_0x23c0c3['use_xyz'])_0x3a8703['Z']=_0x10387a['Pt']['Z'];_0x545f4d=_0x10387a['Pt']['X']>_0x32160c['Pt']['X'];}else {if(_0x8a1750['Pt']['X']>=_0x2b83cb&&_0x8a1750['Pt']['X']<=_0x3802dc){_0x3a8703['X']=_0x8a1750['Pt']['X'],_0x3a8703['Y']=_0x8a1750['Pt']['Y'];if(_0x23c0c3['use_xyz'])_0x3a8703['Z']=_0x8a1750['Pt']['Z'];_0x545f4d=_0x8a1750['Pt']['X']>_0x69d63a['Pt']['X'];}else {_0x3a8703['X']=_0x32160c['Pt']['X'],_0x3a8703['Y']=_0x32160c['Pt']['Y'];if(_0x23c0c3['use_xyz'])_0x3a8703['Z']=_0x32160c['Pt']['Z'];_0x545f4d=_0x32160c['Pt']['X']>_0x10387a['Pt']['X'];}}}return _0x5ce701['OutPt1']=_0x69d63a,_0x5ce701['OutPt2']=_0x10387a,this['JoinHorz'](_0x69d63a,_0x8a1750,_0x10387a,_0x32160c,_0x3a8703,_0x545f4d);}else {_0x8a1750=_0x69d63a['Next'];while(_0x23c0c3['IntPoint']['op_Equality'](_0x8a1750['Pt'],_0x69d63a['Pt'])&&_0x8a1750!==_0x69d63a)_0x8a1750=_0x8a1750['Next'];var _0x1a05aa=_0x8a1750['Pt']['Y']>_0x69d63a['Pt']['Y']||!_0x23c0c3['ClipperBase']['SlopesEqual4'](_0x69d63a['Pt'],_0x8a1750['Pt'],_0x5ce701['OffPt'],this['m_UseFullRange']);if(_0x1a05aa){_0x8a1750=_0x69d63a['Prev'];while(_0x23c0c3['IntPoint']['op_Equality'](_0x8a1750['Pt'],_0x69d63a['Pt'])&&_0x8a1750!==_0x69d63a)_0x8a1750=_0x8a1750['Prev'];if(_0x8a1750['Pt']['Y']>_0x69d63a['Pt']['Y']||!_0x23c0c3['ClipperBase']['SlopesEqual4'](_0x69d63a['Pt'],_0x8a1750['Pt'],_0x5ce701['OffPt'],this['m_UseFullRange']))return ![];}_0x32160c=_0x10387a['Next'];while(_0x23c0c3['IntPoint']['op_Equality'](_0x32160c['Pt'],_0x10387a['Pt'])&&_0x32160c!==_0x10387a)_0x32160c=_0x32160c['Next'];var _0x2b2ac1=_0x32160c['Pt']['Y']>_0x10387a['Pt']['Y']||!_0x23c0c3['ClipperBase']['SlopesEqual4'](_0x10387a['Pt'],_0x32160c['Pt'],_0x5ce701['OffPt'],this['m_UseFullRange']);if(_0x2b2ac1){_0x32160c=_0x10387a['Prev'];while(_0x23c0c3['IntPoint']['op_Equality'](_0x32160c['Pt'],_0x10387a['Pt'])&&_0x32160c!==_0x10387a)_0x32160c=_0x32160c['Prev'];if(_0x32160c['Pt']['Y']>_0x10387a['Pt']['Y']||!_0x23c0c3['ClipperBase']['SlopesEqual4'](_0x10387a['Pt'],_0x32160c['Pt'],_0x5ce701['OffPt'],this['m_UseFullRange']))return ![];}if(_0x8a1750===_0x69d63a||_0x32160c===_0x10387a||_0x8a1750===_0x32160c||_0x154f75===_0x51c206&&_0x1a05aa===_0x2b2ac1)return ![];return _0x1a05aa?(_0x8a1750=this['DupOutPt'](_0x69d63a,![]),_0x32160c=this['DupOutPt'](_0x10387a,!![]),_0x69d63a['Prev']=_0x10387a,_0x10387a['Next']=_0x69d63a,_0x8a1750['Next']=_0x32160c,_0x32160c['Prev']=_0x8a1750,_0x5ce701['OutPt1']=_0x69d63a,_0x5ce701['OutPt2']=_0x8a1750,!![]):(_0x8a1750=this['DupOutPt'](_0x69d63a,!![]),_0x32160c=this['DupOutPt'](_0x10387a,![]),_0x69d63a['Next']=_0x10387a,_0x10387a['Prev']=_0x69d63a,_0x8a1750['Prev']=_0x32160c,_0x32160c['Next']=_0x8a1750,_0x5ce701['OutPt1']=_0x69d63a,_0x5ce701['OutPt2']=_0x8a1750,!![]);}}},_0x23c0c3['Clipper']['GetBounds']=function(_0xe9328e){var _0x50a03d=0x0,_0x3ff30d=_0xe9328e['length'];while(_0x50a03d<_0x3ff30d&&_0xe9328e[_0x50a03d]['length']===0x0)_0x50a03d++;if(_0x50a03d===_0x3ff30d)return new _0x23c0c3['IntRect'](0x0,0x0,0x0,0x0);var _0x4c8c44=new _0x23c0c3['IntRect']();_0x4c8c44['left']=_0xe9328e[_0x50a03d][0x0]['X'],_0x4c8c44['right']=_0x4c8c44['left'],_0x4c8c44['top']=_0xe9328e[_0x50a03d][0x0]['Y'],_0x4c8c44['bottom']=_0x4c8c44['top'];for(;_0x50a03d<_0x3ff30d;_0x50a03d++)for(var _0xcec8ea=0x0,_0x36228b=_0xe9328e[_0x50a03d]['length'];_0xcec8ea<_0x36228b;_0xcec8ea++){if(_0xe9328e[_0x50a03d][_0xcec8ea]['X']<_0x4c8c44['left'])_0x4c8c44['left']=_0xe9328e[_0x50a03d][_0xcec8ea]['X'];else {if(_0xe9328e[_0x50a03d][_0xcec8ea]['X']>_0x4c8c44['right'])_0x4c8c44['right']=_0xe9328e[_0x50a03d][_0xcec8ea]['X'];}if(_0xe9328e[_0x50a03d][_0xcec8ea]['Y']<_0x4c8c44['top'])_0x4c8c44['top']=_0xe9328e[_0x50a03d][_0xcec8ea]['Y'];else {if(_0xe9328e[_0x50a03d][_0xcec8ea]['Y']>_0x4c8c44['bottom'])_0x4c8c44['bottom']=_0xe9328e[_0x50a03d][_0xcec8ea]['Y'];}}return _0x4c8c44;},_0x23c0c3['Clipper']['prototype']['GetBounds2']=function(_0x43c7be){var _0x1629dc=_0x43c7be,_0x3eaf54=new _0x23c0c3['IntRect']();_0x3eaf54['left']=_0x43c7be['Pt']['X'],_0x3eaf54['right']=_0x43c7be['Pt']['X'],_0x3eaf54['top']=_0x43c7be['Pt']['Y'],_0x3eaf54['bottom']=_0x43c7be['Pt']['Y'],_0x43c7be=_0x43c7be['Next'];while(_0x43c7be!==_0x1629dc){if(_0x43c7be['Pt']['X']<_0x3eaf54['left'])_0x3eaf54['left']=_0x43c7be['Pt']['X'];if(_0x43c7be['Pt']['X']>_0x3eaf54['right'])_0x3eaf54['right']=_0x43c7be['Pt']['X'];if(_0x43c7be['Pt']['Y']<_0x3eaf54['top'])_0x3eaf54['top']=_0x43c7be['Pt']['Y'];if(_0x43c7be['Pt']['Y']>_0x3eaf54['bottom'])_0x3eaf54['bottom']=_0x43c7be['Pt']['Y'];_0x43c7be=_0x43c7be['Next'];}return _0x3eaf54;},_0x23c0c3['Clipper']['PointInPolygon']=function(_0x1817dc,_0x4d5951){var _0x2e5209=0x0,_0x13c662=_0x4d5951['length'];if(_0x13c662<0x3)return 0x0;var _0x14565b=_0x4d5951[0x0];for(var _0x4c5b87=0x1;_0x4c5b87<=_0x13c662;++_0x4c5b87){var _0xee5fb=_0x4c5b87===_0x13c662?_0x4d5951[0x0]:_0x4d5951[_0x4c5b87];if(_0xee5fb['Y']===_0x1817dc['Y']){if(_0xee5fb['X']===_0x1817dc['X']||_0x14565b['Y']===_0x1817dc['Y']&&_0xee5fb['X']>_0x1817dc['X']===_0x14565b['X']<_0x1817dc['X'])return -0x1;}if(_0x14565b['Y']<_0x1817dc['Y']!==_0xee5fb['Y']<_0x1817dc['Y']){if(_0x14565b['X']>=_0x1817dc['X']){if(_0xee5fb['X']>_0x1817dc['X'])_0x2e5209=0x1-_0x2e5209;else {var _0x442e15=(_0x14565b['X']-_0x1817dc['X'])*(_0xee5fb['Y']-_0x1817dc['Y'])-(_0xee5fb['X']-_0x1817dc['X'])*(_0x14565b['Y']-_0x1817dc['Y']);if(_0x442e15===0x0)return -0x1;else {if(_0x442e15>0x0===_0xee5fb['Y']>_0x14565b['Y'])_0x2e5209=0x1-_0x2e5209;}}}else {if(_0xee5fb['X']>_0x1817dc['X']){var _0x442e15=(_0x14565b['X']-_0x1817dc['X'])*(_0xee5fb['Y']-_0x1817dc['Y'])-(_0xee5fb['X']-_0x1817dc['X'])*(_0x14565b['Y']-_0x1817dc['Y']);if(_0x442e15===0x0)return -0x1;else {if(_0x442e15>0x0===_0xee5fb['Y']>_0x14565b['Y'])_0x2e5209=0x1-_0x2e5209;}}}}_0x14565b=_0xee5fb;}return _0x2e5209;},_0x23c0c3['Clipper']['prototype']['PointInPolygon']=function(_0xfa4c03,_0x5386c4){var _0x347818=0x0,_0x2f7242=_0x5386c4,_0x399216=_0xfa4c03['X'],_0xc3d039=_0xfa4c03['Y'],_0x37d17b=_0x5386c4['Pt']['X'],_0x5b62bb=_0x5386c4['Pt']['Y'];do{_0x5386c4=_0x5386c4['Next'];var _0x1794b4=_0x5386c4['Pt']['X'],_0x24b26c=_0x5386c4['Pt']['Y'];if(_0x24b26c===_0xc3d039){if(_0x1794b4===_0x399216||_0x5b62bb===_0xc3d039&&_0x1794b4>_0x399216===_0x37d17b<_0x399216)return -0x1;}if(_0x5b62bb<_0xc3d039!==_0x24b26c<_0xc3d039){if(_0x37d17b>=_0x399216){if(_0x1794b4>_0x399216)_0x347818=0x1-_0x347818;else {var _0x429cbb=(_0x37d17b-_0x399216)*(_0x24b26c-_0xc3d039)-(_0x1794b4-_0x399216)*(_0x5b62bb-_0xc3d039);if(_0x429cbb===0x0)return -0x1;if(_0x429cbb>0x0===_0x24b26c>_0x5b62bb)_0x347818=0x1-_0x347818;}}else {if(_0x1794b4>_0x399216){var _0x429cbb=(_0x37d17b-_0x399216)*(_0x24b26c-_0xc3d039)-(_0x1794b4-_0x399216)*(_0x5b62bb-_0xc3d039);if(_0x429cbb===0x0)return -0x1;if(_0x429cbb>0x0===_0x24b26c>_0x5b62bb)_0x347818=0x1-_0x347818;}}}_0x37d17b=_0x1794b4,_0x5b62bb=_0x24b26c;}while(_0x2f7242!==_0x5386c4);return _0x347818;},_0x23c0c3['Clipper']['prototype']['Poly2ContainsPoly1']=function(_0x478a52,_0x3c7999){var _0x3bef6c=_0x478a52;do{var _0x521545=this['PointInPolygon'](_0x3bef6c['Pt'],_0x3c7999);if(_0x521545>=0x0)return _0x521545>0x0;_0x3bef6c=_0x3bef6c['Next'];}while(_0x3bef6c!==_0x478a52);return !![];},_0x23c0c3['Clipper']['prototype']['FixupFirstLefts1']=function(_0x337117,_0x6d07af){var _0x1a45c6,_0x4a0ce3;for(var _0x3e95be=0x0,_0x311adc=this['m_PolyOuts']['length'];_0x3e95be<_0x311adc;_0x3e95be++){_0x1a45c6=this['m_PolyOuts'][_0x3e95be],_0x4a0ce3=_0x23c0c3['Clipper']['ParseFirstLeft'](_0x1a45c6['FirstLeft']);if(_0x1a45c6['Pts']!==null&&_0x4a0ce3===_0x337117){if(this['Poly2ContainsPoly1'](_0x1a45c6['Pts'],_0x6d07af['Pts']))_0x1a45c6['FirstLeft']=_0x6d07af;}}},_0x23c0c3['Clipper']['prototype']['FixupFirstLefts2']=function(_0x2f5a4f,_0x2fdcbb){var _0x10d76d=_0x2fdcbb['FirstLeft'],_0x4485fb,_0x30675b;for(var _0x5a4e2c=0x0,_0x12c294=this['m_PolyOuts']['length'];_0x5a4e2c<_0x12c294;_0x5a4e2c++){_0x4485fb=this['m_PolyOuts'][_0x5a4e2c];if(_0x4485fb['Pts']===null||_0x4485fb===_0x2fdcbb||_0x4485fb===_0x2f5a4f)continue;_0x30675b=_0x23c0c3['Clipper']['ParseFirstLeft'](_0x4485fb['FirstLeft']);if(_0x30675b!==_0x10d76d&&_0x30675b!==_0x2f5a4f&&_0x30675b!==_0x2fdcbb)continue;if(this['Poly2ContainsPoly1'](_0x4485fb['Pts'],_0x2f5a4f['Pts']))_0x4485fb['FirstLeft']=_0x2f5a4f;else {if(this['Poly2ContainsPoly1'](_0x4485fb['Pts'],_0x2fdcbb['Pts']))_0x4485fb['FirstLeft']=_0x2fdcbb;else {if(_0x4485fb['FirstLeft']===_0x2f5a4f||_0x4485fb['FirstLeft']===_0x2fdcbb)_0x4485fb['FirstLeft']=_0x10d76d;}}}},_0x23c0c3['Clipper']['prototype']['FixupFirstLefts3']=function(_0x886e24,_0x8f3bc5){var _0x25fb5b,_0x363f48;for(var _0x2369dd=0x0,_0x45e56c=this['m_PolyOuts']['length'];_0x2369dd<_0x45e56c;_0x2369dd++){_0x25fb5b=this['m_PolyOuts'][_0x2369dd],_0x363f48=_0x23c0c3['Clipper']['ParseFirstLeft'](_0x25fb5b['FirstLeft']);if(_0x25fb5b['Pts']!==null&&_0x363f48===_0x886e24)_0x25fb5b['FirstLeft']=_0x8f3bc5;}},_0x23c0c3['Clipper']['ParseFirstLeft']=function(_0x1a756d){while(_0x1a756d!==null&&_0x1a756d['Pts']===null)_0x1a756d=_0x1a756d['FirstLeft'];return _0x1a756d;},_0x23c0c3['Clipper']['prototype']['JoinCommonEdges']=function(){for(var _0x11da88=0x0,_0x103f60=this['m_Joins']['length'];_0x11da88<_0x103f60;_0x11da88++){var _0x178f76=this['m_Joins'][_0x11da88],_0x3a3918=this['GetOutRec'](_0x178f76['OutPt1']['Idx']),_0x22c18f=this['GetOutRec'](_0x178f76['OutPt2']['Idx']);if(_0x3a3918['Pts']===null||_0x22c18f['Pts']===null)continue;if(_0x3a3918['IsOpen']||_0x22c18f['IsOpen'])continue;var _0x3484db;if(_0x3a3918===_0x22c18f)_0x3484db=_0x3a3918;else {if(this['OutRec1RightOfOutRec2'](_0x3a3918,_0x22c18f))_0x3484db=_0x22c18f;else {if(this['OutRec1RightOfOutRec2'](_0x22c18f,_0x3a3918))_0x3484db=_0x3a3918;else _0x3484db=this['GetLowermostRec'](_0x3a3918,_0x22c18f);}}if(!this['JoinPoints'](_0x178f76,_0x3a3918,_0x22c18f))continue;if(_0x3a3918===_0x22c18f){_0x3a3918['Pts']=_0x178f76['OutPt1'],_0x3a3918['BottomPt']=null,_0x22c18f=this['CreateOutRec'](),_0x22c18f['Pts']=_0x178f76['OutPt2'],this['UpdateOutPtIdxs'](_0x22c18f);if(this['Poly2ContainsPoly1'](_0x22c18f['Pts'],_0x3a3918['Pts'])){_0x22c18f['IsHole']=!_0x3a3918['IsHole'],_0x22c18f['FirstLeft']=_0x3a3918;if(this['m_UsingPolyTree'])this['FixupFirstLefts2'](_0x22c18f,_0x3a3918);if((_0x22c18f['IsHole']^this['ReverseSolution'])==this['Area$1'](_0x22c18f)>0x0)this['ReversePolyPtLinks'](_0x22c18f['Pts']);}else {if(this['Poly2ContainsPoly1'](_0x3a3918['Pts'],_0x22c18f['Pts'])){_0x22c18f['IsHole']=_0x3a3918['IsHole'],_0x3a3918['IsHole']=!_0x22c18f['IsHole'],_0x22c18f['FirstLeft']=_0x3a3918['FirstLeft'],_0x3a3918['FirstLeft']=_0x22c18f;if(this['m_UsingPolyTree'])this['FixupFirstLefts2'](_0x3a3918,_0x22c18f);if((_0x3a3918['IsHole']^this['ReverseSolution'])==this['Area$1'](_0x3a3918)>0x0)this['ReversePolyPtLinks'](_0x3a3918['Pts']);}else {_0x22c18f['IsHole']=_0x3a3918['IsHole'],_0x22c18f['FirstLeft']=_0x3a3918['FirstLeft'];if(this['m_UsingPolyTree'])this['FixupFirstLefts1'](_0x3a3918,_0x22c18f);}}}else {_0x22c18f['Pts']=null,_0x22c18f['BottomPt']=null,_0x22c18f['Idx']=_0x3a3918['Idx'],_0x3a3918['IsHole']=_0x3484db['IsHole'];if(_0x3484db===_0x22c18f)_0x3a3918['FirstLeft']=_0x22c18f['FirstLeft'];_0x22c18f['FirstLeft']=_0x3a3918;if(this['m_UsingPolyTree'])this['FixupFirstLefts3'](_0x22c18f,_0x3a3918);}}},_0x23c0c3['Clipper']['prototype']['UpdateOutPtIdxs']=function(_0x2b1825){var _0x1a842e=_0x2b1825['Pts'];do{_0x1a842e['Idx']=_0x2b1825['Idx'],_0x1a842e=_0x1a842e['Prev'];}while(_0x1a842e!==_0x2b1825['Pts']);},_0x23c0c3['Clipper']['prototype']['DoSimplePolygons']=function(){var _0xffc416=0x0;while(_0xffc416<this['m_PolyOuts']['length']){var _0x4884f3=this['m_PolyOuts'][_0xffc416++],_0x488188=_0x4884f3['Pts'];if(_0x488188===null||_0x4884f3['IsOpen'])continue;do{var _0x16e745=_0x488188['Next'];while(_0x16e745!==_0x4884f3['Pts']){if(_0x23c0c3['IntPoint']['op_Equality'](_0x488188['Pt'],_0x16e745['Pt'])&&_0x16e745['Next']!==_0x488188&&_0x16e745['Prev']!==_0x488188){var _0x3d00e8=_0x488188['Prev'],_0x13b08b=_0x16e745['Prev'];_0x488188['Prev']=_0x13b08b,_0x13b08b['Next']=_0x488188,_0x16e745['Prev']=_0x3d00e8,_0x3d00e8['Next']=_0x16e745,_0x4884f3['Pts']=_0x488188;var _0x2eff4a=this['CreateOutRec']();_0x2eff4a['Pts']=_0x16e745,this['UpdateOutPtIdxs'](_0x2eff4a);if(this['Poly2ContainsPoly1'](_0x2eff4a['Pts'],_0x4884f3['Pts'])){_0x2eff4a['IsHole']=!_0x4884f3['IsHole'],_0x2eff4a['FirstLeft']=_0x4884f3;if(this['m_UsingPolyTree'])this['FixupFirstLefts2'](_0x2eff4a,_0x4884f3);}else {if(this['Poly2ContainsPoly1'](_0x4884f3['Pts'],_0x2eff4a['Pts'])){_0x2eff4a['IsHole']=_0x4884f3['IsHole'],_0x4884f3['IsHole']=!_0x2eff4a['IsHole'],_0x2eff4a['FirstLeft']=_0x4884f3['FirstLeft'],_0x4884f3['FirstLeft']=_0x2eff4a;if(this['m_UsingPolyTree'])this['FixupFirstLefts2'](_0x4884f3,_0x2eff4a);}else {_0x2eff4a['IsHole']=_0x4884f3['IsHole'],_0x2eff4a['FirstLeft']=_0x4884f3['FirstLeft'];if(this['m_UsingPolyTree'])this['FixupFirstLefts1'](_0x4884f3,_0x2eff4a);}}_0x16e745=_0x488188;}_0x16e745=_0x16e745['Next'];}_0x488188=_0x488188['Next'];}while(_0x488188!==_0x4884f3['Pts']);}},_0x23c0c3['Clipper']['Area']=function(_0x56b200){if(!Array['isArray'](_0x56b200))return 0x0;var _0xc34ab1=_0x56b200['length'];if(_0xc34ab1<0x3)return 0x0;var _0x3f69e0=0x0;for(var _0x371814=0x0,_0x265bbd=_0xc34ab1-0x1;_0x371814<_0xc34ab1;++_0x371814){_0x3f69e0+=(_0x56b200[_0x265bbd]['X']+_0x56b200[_0x371814]['X'])*(_0x56b200[_0x265bbd]['Y']-_0x56b200[_0x371814]['Y']),_0x265bbd=_0x371814;}return -_0x3f69e0*0.5;},_0x23c0c3['Clipper']['prototype']['Area']=function(_0x349315){var _0x4bf5f8=_0x349315;if(_0x349315===null)return 0x0;var _0x47cc60=0x0;do{_0x47cc60=_0x47cc60+(_0x349315['Prev']['Pt']['X']+_0x349315['Pt']['X'])*(_0x349315['Prev']['Pt']['Y']-_0x349315['Pt']['Y']),_0x349315=_0x349315['Next'];}while(_0x349315!==_0x4bf5f8);return _0x47cc60*0.5;},_0x23c0c3['Clipper']['prototype']['Area$1']=function(_0xcec709){return this['Area'](_0xcec709['Pts']);},_0x23c0c3['Clipper']['SimplifyPolygon']=function(_0x34a1b5,_0x2ddc8a){var _0x572a1f=new Array(),_0x52eae6=new _0x23c0c3['Clipper'](0x0);return _0x52eae6['StrictlySimple']=!![],_0x52eae6['AddPath'](_0x34a1b5,_0x23c0c3['PolyType']['ptSubject'],!![]),_0x52eae6['Execute'](_0x23c0c3['ClipType']['ctUnion'],_0x572a1f,_0x2ddc8a,_0x2ddc8a),_0x572a1f;},_0x23c0c3['Clipper']['SimplifyPolygons']=function(_0x1eb138,_0x303857){if(typeof _0x303857==='undefined')_0x303857=_0x23c0c3['PolyFillType']['pftEvenOdd'];var _0x2c0edf=new Array(),_0x1f3785=new _0x23c0c3['Clipper'](0x0);return _0x1f3785['StrictlySimple']=!![],_0x1f3785['AddPaths'](_0x1eb138,_0x23c0c3['PolyType']['ptSubject'],!![]),_0x1f3785['Execute'](_0x23c0c3['ClipType']['ctUnion'],_0x2c0edf,_0x303857,_0x303857),_0x2c0edf;},_0x23c0c3['Clipper']['DistanceSqrd']=function(_0x400254,_0x45cca9){var _0x240597=_0x400254['X']-_0x45cca9['X'],_0x345eff=_0x400254['Y']-_0x45cca9['Y'];return _0x240597*_0x240597+_0x345eff*_0x345eff;},_0x23c0c3['Clipper']['DistanceFromLineSqrd']=function(_0x302019,_0x3594c3,_0x549862){var _0x541c35=_0x3594c3['Y']-_0x549862['Y'],_0x13525a=_0x549862['X']-_0x3594c3['X'],_0x4996e1=_0x541c35*_0x3594c3['X']+_0x13525a*_0x3594c3['Y'];return _0x4996e1=_0x541c35*_0x302019['X']+_0x13525a*_0x302019['Y']-_0x4996e1,_0x4996e1*_0x4996e1/(_0x541c35*_0x541c35+_0x13525a*_0x13525a);},_0x23c0c3['Clipper']['SlopesNearCollinear']=function(_0x148e7a,_0x43120c,_0x3ba483,_0x5a275c){if(Math['abs'](_0x148e7a['X']-_0x43120c['X'])>Math['abs'](_0x148e7a['Y']-_0x43120c['Y'])){if(_0x148e7a['X']>_0x43120c['X']===_0x148e7a['X']<_0x3ba483['X'])return _0x23c0c3['Clipper']['DistanceFromLineSqrd'](_0x148e7a,_0x43120c,_0x3ba483)<_0x5a275c;else {if(_0x43120c['X']>_0x148e7a['X']===_0x43120c['X']<_0x3ba483['X'])return _0x23c0c3['Clipper']['DistanceFromLineSqrd'](_0x43120c,_0x148e7a,_0x3ba483)<_0x5a275c;else return _0x23c0c3['Clipper']['DistanceFromLineSqrd'](_0x3ba483,_0x148e7a,_0x43120c)<_0x5a275c;}}else {if(_0x148e7a['Y']>_0x43120c['Y']===_0x148e7a['Y']<_0x3ba483['Y'])return _0x23c0c3['Clipper']['DistanceFromLineSqrd'](_0x148e7a,_0x43120c,_0x3ba483)<_0x5a275c;else {if(_0x43120c['Y']>_0x148e7a['Y']===_0x43120c['Y']<_0x3ba483['Y'])return _0x23c0c3['Clipper']['DistanceFromLineSqrd'](_0x43120c,_0x148e7a,_0x3ba483)<_0x5a275c;else return _0x23c0c3['Clipper']['DistanceFromLineSqrd'](_0x3ba483,_0x148e7a,_0x43120c)<_0x5a275c;}}},_0x23c0c3['Clipper']['PointsAreClose']=function(_0x3ec115,_0x3a2334,_0x1b6ad5){var _0x4e29cf=_0x3ec115['X']-_0x3a2334['X'],_0x7750c7=_0x3ec115['Y']-_0x3a2334['Y'];return _0x4e29cf*_0x4e29cf+_0x7750c7*_0x7750c7<=_0x1b6ad5;},_0x23c0c3['Clipper']['ExcludeOp']=function(_0x2eaabb){var _0x3dcd2f=_0x2eaabb['Prev'];return _0x3dcd2f['Next']=_0x2eaabb['Next'],_0x2eaabb['Next']['Prev']=_0x3dcd2f,_0x3dcd2f['Idx']=0x0,_0x3dcd2f;},_0x23c0c3['Clipper']['CleanPolygon']=function(_0x4a9052,_0x1d19cf){if(typeof _0x1d19cf==='undefined')_0x1d19cf=1.415;var _0x58bf52=_0x4a9052['length'];if(_0x58bf52===0x0)return new Array();var _0xce9b7f=new Array(_0x58bf52);for(var _0x1d6b8f=0x0;_0x1d6b8f<_0x58bf52;++_0x1d6b8f)_0xce9b7f[_0x1d6b8f]=new _0x23c0c3['OutPt']();for(var _0x1d6b8f=0x0;_0x1d6b8f<_0x58bf52;++_0x1d6b8f){_0xce9b7f[_0x1d6b8f]['Pt']=_0x4a9052[_0x1d6b8f],_0xce9b7f[_0x1d6b8f]['Next']=_0xce9b7f[(_0x1d6b8f+0x1)%_0x58bf52],_0xce9b7f[_0x1d6b8f]['Next']['Prev']=_0xce9b7f[_0x1d6b8f],_0xce9b7f[_0x1d6b8f]['Idx']=0x0;}var _0x442b2b=_0x1d19cf*_0x1d19cf,_0x2a146c=_0xce9b7f[0x0];while(_0x2a146c['Idx']===0x0&&_0x2a146c['Next']!==_0x2a146c['Prev']){if(_0x23c0c3['Clipper']['PointsAreClose'](_0x2a146c['Pt'],_0x2a146c['Prev']['Pt'],_0x442b2b))_0x2a146c=_0x23c0c3['Clipper']['ExcludeOp'](_0x2a146c),_0x58bf52--;else {if(_0x23c0c3['Clipper']['PointsAreClose'](_0x2a146c['Prev']['Pt'],_0x2a146c['Next']['Pt'],_0x442b2b))_0x23c0c3['Clipper']['ExcludeOp'](_0x2a146c['Next']),_0x2a146c=_0x23c0c3['Clipper']['ExcludeOp'](_0x2a146c),_0x58bf52-=0x2;else _0x23c0c3['Clipper']['SlopesNearCollinear'](_0x2a146c['Prev']['Pt'],_0x2a146c['Pt'],_0x2a146c['Next']['Pt'],_0x442b2b)?(_0x2a146c=_0x23c0c3['Clipper']['ExcludeOp'](_0x2a146c),_0x58bf52--):(_0x2a146c['Idx']=0x1,_0x2a146c=_0x2a146c['Next']);}}if(_0x58bf52<0x3)_0x58bf52=0x0;var _0x233f97=new Array(_0x58bf52);for(var _0x1d6b8f=0x0;_0x1d6b8f<_0x58bf52;++_0x1d6b8f){_0x233f97[_0x1d6b8f]=new _0x23c0c3['IntPoint1'](_0x2a146c['Pt']),_0x2a146c=_0x2a146c['Next'];}return _0xce9b7f=null,_0x233f97;},_0x23c0c3['Clipper']['CleanPolygons']=function(_0x38dc59,_0x3d5238){var _0xb4091c=new Array(_0x38dc59['length']);for(var _0x3fd041=0x0,_0x5b271f=_0x38dc59['length'];_0x3fd041<_0x5b271f;_0x3fd041++)_0xb4091c[_0x3fd041]=_0x23c0c3['Clipper']['CleanPolygon'](_0x38dc59[_0x3fd041],_0x3d5238);return _0xb4091c;},_0x23c0c3['Clipper']['Minkowski']=function(_0x504975,_0x2dba94,_0x455991,_0x535275){var _0x4cc3db=_0x535275?0x1:0x0,_0x4952aa=_0x504975['length'],_0x5dc216=_0x2dba94['length'],_0x3a3eee=new Array();if(_0x455991)for(var _0x21bc46=0x0;_0x21bc46<_0x5dc216;_0x21bc46++){var _0x6818e7=new Array(_0x4952aa);for(var _0x5be4a2=0x0,_0x5758f9=_0x504975['length'],_0x238ec0=_0x504975[_0x5be4a2];_0x5be4a2<_0x5758f9;_0x5be4a2++,_0x238ec0=_0x504975[_0x5be4a2])_0x6818e7[_0x5be4a2]=new _0x23c0c3['IntPoint2'](_0x2dba94[_0x21bc46]['X']+_0x238ec0['X'],_0x2dba94[_0x21bc46]['Y']+_0x238ec0['Y']);_0x3a3eee['push'](_0x6818e7);}else for(var _0x21bc46=0x0;_0x21bc46<_0x5dc216;_0x21bc46++){var _0x6818e7=new Array(_0x4952aa);for(var _0x5be4a2=0x0,_0x5758f9=_0x504975['length'],_0x238ec0=_0x504975[_0x5be4a2];_0x5be4a2<_0x5758f9;_0x5be4a2++,_0x238ec0=_0x504975[_0x5be4a2])_0x6818e7[_0x5be4a2]=new _0x23c0c3['IntPoint2'](_0x2dba94[_0x21bc46]['X']-_0x238ec0['X'],_0x2dba94[_0x21bc46]['Y']-_0x238ec0['Y']);_0x3a3eee['push'](_0x6818e7);}var _0x1d35f9=new Array();for(var _0x21bc46=0x0;_0x21bc46<_0x5dc216-0x1+_0x4cc3db;_0x21bc46++)for(var _0x5be4a2=0x0;_0x5be4a2<_0x4952aa;_0x5be4a2++){var _0x198d68=new Array();_0x198d68['push'](_0x3a3eee[_0x21bc46%_0x5dc216][_0x5be4a2%_0x4952aa]),_0x198d68['push'](_0x3a3eee[(_0x21bc46+0x1)%_0x5dc216][_0x5be4a2%_0x4952aa]),_0x198d68['push'](_0x3a3eee[(_0x21bc46+0x1)%_0x5dc216][(_0x5be4a2+0x1)%_0x4952aa]),_0x198d68['push'](_0x3a3eee[_0x21bc46%_0x5dc216][(_0x5be4a2+0x1)%_0x4952aa]);if(!_0x23c0c3['Clipper']['Orientation'](_0x198d68))_0x198d68['reverse']();_0x1d35f9['push'](_0x198d68);}return _0x1d35f9;},_0x23c0c3['Clipper']['MinkowskiSum']=function(_0x22aa05,_0x2f7f0c,_0x42742c){if(!(_0x2f7f0c[0x0]instanceof Array)){var _0x13a938=_0x2f7f0c,_0x4f8c65=_0x23c0c3['Clipper']['Minkowski'](_0x22aa05,_0x13a938,!![],_0x42742c),_0x515143=new _0x23c0c3['Clipper']();return _0x515143['AddPaths'](_0x4f8c65,_0x23c0c3['PolyType']['ptSubject'],!![]),_0x515143['Execute'](_0x23c0c3['ClipType']['ctUnion'],_0x4f8c65,_0x23c0c3['PolyFillType']['pftNonZero'],_0x23c0c3['PolyFillType']['pftNonZero']),_0x4f8c65;}else {var _0x4f8c65=_0x2f7f0c,_0x41f0b8=new _0x23c0c3['Paths'](),_0x515143=new _0x23c0c3['Clipper']();for(var _0x4db08c=0x0;_0x4db08c<_0x4f8c65['length'];++_0x4db08c){var _0x7534d4=_0x23c0c3['Clipper']['Minkowski'](_0x22aa05,_0x4f8c65[_0x4db08c],!![],_0x42742c);_0x515143['AddPaths'](_0x7534d4,_0x23c0c3['PolyType']['ptSubject'],!![]);if(_0x42742c){var _0x13a938=_0x23c0c3['Clipper']['TranslatePath'](_0x4f8c65[_0x4db08c],_0x22aa05[0x0]);_0x515143['AddPath'](_0x13a938,_0x23c0c3['PolyType']['ptClip'],!![]);}}return _0x515143['Execute'](_0x23c0c3['ClipType']['ctUnion'],_0x41f0b8,_0x23c0c3['PolyFillType']['pftNonZero'],_0x23c0c3['PolyFillType']['pftNonZero']),_0x41f0b8;}},_0x23c0c3['Clipper']['TranslatePath']=function(_0xa3dc79,_0x57d164){var _0x37f2a0=new _0x23c0c3['Path']();for(var _0x5996d2=0x0;_0x5996d2<_0xa3dc79['length'];_0x5996d2++)_0x37f2a0['push'](new _0x23c0c3['IntPoint2'](_0xa3dc79[_0x5996d2]['X']+_0x57d164['X'],_0xa3dc79[_0x5996d2]['Y']+_0x57d164['Y']));return _0x37f2a0;},_0x23c0c3['Clipper']['MinkowskiDiff']=function(_0x3bd1da,_0x3de49d){var _0x4fa362=_0x23c0c3['Clipper']['Minkowski'](_0x3bd1da,_0x3de49d,![],!![]),_0x239a23=new _0x23c0c3['Clipper']();return _0x239a23['AddPaths'](_0x4fa362,_0x23c0c3['PolyType']['ptSubject'],!![]),_0x239a23['Execute'](_0x23c0c3['ClipType']['ctUnion'],_0x4fa362,_0x23c0c3['PolyFillType']['pftNonZero'],_0x23c0c3['PolyFillType']['pftNonZero']),_0x4fa362;},_0x23c0c3['Clipper']['PolyTreeToPaths']=function(_0x2e10bb){var _0x5b6ab3=new Array();return _0x23c0c3['Clipper']['AddPolyNodeToPaths'](_0x2e10bb,_0x23c0c3['Clipper']['NodeType']['ntAny'],_0x5b6ab3),_0x5b6ab3;},_0x23c0c3['Clipper']['AddPolyNodeToPaths']=function(_0x5568b5,_0x2374d6,_0x4ccbba){var _0x45a87d=!![];switch(_0x2374d6){case _0x23c0c3['Clipper']['NodeType']['ntOpen']:return;case _0x23c0c3['Clipper']['NodeType']['ntClosed']:_0x45a87d=!_0x5568b5['IsOpen'];break;}if(_0x5568b5['m_polygon']['length']>0x0&&_0x45a87d)_0x4ccbba['push'](_0x5568b5['m_polygon']);for(var _0x2cf697=0x0,_0x309acf=_0x5568b5['Childs'](),_0x47c168=_0x309acf['length'],_0x1fa605=_0x309acf[_0x2cf697];_0x2cf697<_0x47c168;_0x2cf697++,_0x1fa605=_0x309acf[_0x2cf697])_0x23c0c3['Clipper']['AddPolyNodeToPaths'](_0x1fa605,_0x2374d6,_0x4ccbba);},_0x23c0c3['Clipper']['OpenPathsFromPolyTree']=function(_0x57d26c){var _0x20545b=new _0x23c0c3['Paths']();for(var _0x30b55d=0x0,_0x40b982=_0x57d26c['ChildCount']();_0x30b55d<_0x40b982;_0x30b55d++)if(_0x57d26c['Childs']()[_0x30b55d]['IsOpen'])_0x20545b['push'](_0x57d26c['Childs']()[_0x30b55d]['m_polygon']);return _0x20545b;},_0x23c0c3['Clipper']['ClosedPathsFromPolyTree']=function(_0x3c140e){var _0x47e02c=new _0x23c0c3['Paths']();return _0x23c0c3['Clipper']['AddPolyNodeToPaths'](_0x3c140e,_0x23c0c3['Clipper']['NodeType']['ntClosed'],_0x47e02c),_0x47e02c;},_0xd42dbb(_0x23c0c3['Clipper'],_0x23c0c3['ClipperBase']),_0x23c0c3['Clipper']['NodeType']={'ntAny':0x0,'ntOpen':0x1,'ntClosed':0x2},_0x23c0c3['ClipperOffset']=function(_0x3bc345,_0x278b6b){if(typeof _0x3bc345==='undefined')_0x3bc345=0x2;if(typeof _0x278b6b==='undefined')_0x278b6b=_0x23c0c3['ClipperOffset']['def_arc_tolerance'];this['m_destPolys']=new _0x23c0c3['Paths'](),this['m_srcPoly']=new _0x23c0c3['Path'](),this['m_destPoly']=new _0x23c0c3['Path'](),this['m_normals']=new Array(),this['m_delta']=0x0,this['m_sinA']=0x0,this['m_sin']=0x0,this['m_cos']=0x0,this['m_miterLim']=0x0,this['m_StepsPerRad']=0x0,this['m_lowest']=new _0x23c0c3['IntPoint0'](),this['m_polyNodes']=new _0x23c0c3['PolyNode'](),this['MiterLimit']=_0x3bc345,this['ArcTolerance']=_0x278b6b,this['m_lowest']['X']=-0x1;},_0x23c0c3['ClipperOffset']['two_pi']=6.28318530717959,_0x23c0c3['ClipperOffset']['def_arc_tolerance']=0.25,_0x23c0c3['ClipperOffset']['prototype']['Clear']=function(){_0x23c0c3['Clear'](this['m_polyNodes']['Childs']()),this['m_lowest']['X']=-0x1;},_0x23c0c3['ClipperOffset']['Round']=_0x23c0c3['Clipper']['Round'],_0x23c0c3['ClipperOffset']['prototype']['AddPath']=function(_0x556ec7,_0x4fa0ac,_0x5492c3){var _0x505a74=_0x556ec7['length']-0x1;if(_0x505a74<0x0)return;var _0x3fa2a3=new _0x23c0c3['PolyNode']();_0x3fa2a3['m_jointype']=_0x4fa0ac,_0x3fa2a3['m_endtype']=_0x5492c3;if(_0x5492c3===_0x23c0c3['EndType']['etClosedLine']||_0x5492c3===_0x23c0c3['EndType']['etClosedPolygon']){while(_0x505a74>0x0&&_0x23c0c3['IntPoint']['op_Equality'](_0x556ec7[0x0],_0x556ec7[_0x505a74]))_0x505a74--;}_0x3fa2a3['m_polygon']['push'](_0x556ec7[0x0]);var _0xfbe8ac=0x0,_0x4d09de=0x0;for(var _0x5854b5=0x1;_0x5854b5<=_0x505a74;_0x5854b5++)if(_0x23c0c3['IntPoint']['op_Inequality'](_0x3fa2a3['m_polygon'][_0xfbe8ac],_0x556ec7[_0x5854b5])){_0xfbe8ac++,_0x3fa2a3['m_polygon']['push'](_0x556ec7[_0x5854b5]);if(_0x556ec7[_0x5854b5]['Y']>_0x3fa2a3['m_polygon'][_0x4d09de]['Y']||_0x556ec7[_0x5854b5]['Y']===_0x3fa2a3['m_polygon'][_0x4d09de]['Y']&&_0x556ec7[_0x5854b5]['X']<_0x3fa2a3['m_polygon'][_0x4d09de]['X'])_0x4d09de=_0xfbe8ac;}if(_0x5492c3===_0x23c0c3['EndType']['etClosedPolygon']&&_0xfbe8ac<0x2)return;this['m_polyNodes']['AddChild'](_0x3fa2a3);if(_0x5492c3!==_0x23c0c3['EndType']['etClosedPolygon'])return;if(this['m_lowest']['X']<0x0)this['m_lowest']=new _0x23c0c3['IntPoint2'](this['m_polyNodes']['ChildCount']()-0x1,_0x4d09de);else {var _0x1fd4bd=this['m_polyNodes']['Childs']()[this['m_lowest']['X']]['m_polygon'][this['m_lowest']['Y']];if(_0x3fa2a3['m_polygon'][_0x4d09de]['Y']>_0x1fd4bd['Y']||_0x3fa2a3['m_polygon'][_0x4d09de]['Y']===_0x1fd4bd['Y']&&_0x3fa2a3['m_polygon'][_0x4d09de]['X']<_0x1fd4bd['X'])this['m_lowest']=new _0x23c0c3['IntPoint2'](this['m_polyNodes']['ChildCount']()-0x1,_0x4d09de);}},_0x23c0c3['ClipperOffset']['prototype']['AddPaths']=function(_0x12cefa,_0x590dbd,_0x45a8a5){for(var _0x19c6e6=0x0,_0x30145a=_0x12cefa['length'];_0x19c6e6<_0x30145a;_0x19c6e6++)this['AddPath'](_0x12cefa[_0x19c6e6],_0x590dbd,_0x45a8a5);},_0x23c0c3['ClipperOffset']['prototype']['FixOrientations']=function(){if(this['m_lowest']['X']>=0x0&&!_0x23c0c3['Clipper']['Orientation'](this['m_polyNodes']['Childs']()[this['m_lowest']['X']]['m_polygon']))for(var _0x4d0992=0x0;_0x4d0992<this['m_polyNodes']['ChildCount']();_0x4d0992++){var _0x2428ae=this['m_polyNodes']['Childs']()[_0x4d0992];if(_0x2428ae['m_endtype']===_0x23c0c3['EndType']['etClosedPolygon']||_0x2428ae['m_endtype']===_0x23c0c3['EndType']['etClosedLine']&&_0x23c0c3['Clipper']['Orientation'](_0x2428ae['m_polygon']))_0x2428ae['m_polygon']['reverse']();}else for(var _0x4d0992=0x0;_0x4d0992<this['m_polyNodes']['ChildCount']();_0x4d0992++){var _0x2428ae=this['m_polyNodes']['Childs']()[_0x4d0992];if(_0x2428ae['m_endtype']===_0x23c0c3['EndType']['etClosedLine']&&!_0x23c0c3['Clipper']['Orientation'](_0x2428ae['m_polygon']))_0x2428ae['m_polygon']['reverse']();}},_0x23c0c3['ClipperOffset']['GetUnitNormal']=function(_0x4984e3,_0x1bd5d5){var _0x44e562=_0x1bd5d5['X']-_0x4984e3['X'],_0x504d4c=_0x1bd5d5['Y']-_0x4984e3['Y'];if(_0x44e562===0x0&&_0x504d4c===0x0)return new _0x23c0c3['DoublePoint2'](0x0,0x0);var _0x205750=0x1/Math['sqrt'](_0x44e562*_0x44e562+_0x504d4c*_0x504d4c);return _0x44e562*=_0x205750,_0x504d4c*=_0x205750,new _0x23c0c3['DoublePoint2'](_0x504d4c,-_0x44e562);},_0x23c0c3['ClipperOffset']['prototype']['DoOffset']=function(_0x251f28){this['m_destPolys']=new Array(),this['m_delta']=_0x251f28;if(_0x23c0c3['ClipperBase']['near_zero'](_0x251f28)){for(var _0x3f5dee=0x0;_0x3f5dee<this['m_polyNodes']['ChildCount']();_0x3f5dee++){var _0x345f11=this['m_polyNodes']['Childs']()[_0x3f5dee];if(_0x345f11['m_endtype']===_0x23c0c3['EndType']['etClosedPolygon'])this['m_destPolys']['push'](_0x345f11['m_polygon']);}return;}if(this['MiterLimit']>0x2)this['m_miterLim']=0x2/(this['MiterLimit']*this['MiterLimit']);else this['m_miterLim']=0.5;var _0x29ca1f;if(this['ArcTolerance']<=0x0)_0x29ca1f=_0x23c0c3['ClipperOffset']['def_arc_tolerance'];else {if(this['ArcTolerance']>Math['abs'](_0x251f28)*_0x23c0c3['ClipperOffset']['def_arc_tolerance'])_0x29ca1f=Math['abs'](_0x251f28)*_0x23c0c3['ClipperOffset']['def_arc_tolerance'];else _0x29ca1f=this['ArcTolerance'];}var _0x13dc9f=3.14159265358979/Math['acos'](0x1-_0x29ca1f/Math['abs'](_0x251f28));this['m_sin']=Math['sin'](_0x23c0c3['ClipperOffset']['two_pi']/_0x13dc9f),this['m_cos']=Math['cos'](_0x23c0c3['ClipperOffset']['two_pi']/_0x13dc9f),this['m_StepsPerRad']=_0x13dc9f/_0x23c0c3['ClipperOffset']['two_pi'];if(_0x251f28<0x0)this['m_sin']=-this['m_sin'];for(var _0x3f5dee=0x0;_0x3f5dee<this['m_polyNodes']['ChildCount']();_0x3f5dee++){var _0x345f11=this['m_polyNodes']['Childs']()[_0x3f5dee];this['m_srcPoly']=_0x345f11['m_polygon'];var _0x2e4353=this['m_srcPoly']['length'];if(_0x2e4353===0x0||_0x251f28<=0x0&&(_0x2e4353<0x3||_0x345f11['m_endtype']!==_0x23c0c3['EndType']['etClosedPolygon']))continue;this['m_destPoly']=new Array();if(_0x2e4353===0x1){if(_0x345f11['m_jointype']===_0x23c0c3['JoinType']['jtRound']){var _0x33a3c5=0x1,_0x11d695=0x0;for(var _0x22d466=0x1;_0x22d466<=_0x13dc9f;_0x22d466++){this['m_destPoly']['push'](new _0x23c0c3['IntPoint2'](_0x23c0c3['ClipperOffset']['Round'](this['m_srcPoly'][0x0]['X']+_0x33a3c5*_0x251f28),_0x23c0c3['ClipperOffset']['Round'](this['m_srcPoly'][0x0]['Y']+_0x11d695*_0x251f28)));var _0x426098=_0x33a3c5;_0x33a3c5=_0x33a3c5*this['m_cos']-this['m_sin']*_0x11d695,_0x11d695=_0x426098*this['m_sin']+_0x11d695*this['m_cos'];}}else {var _0x33a3c5=-0x1,_0x11d695=-0x1;for(var _0x22d466=0x0;_0x22d466<0x4;++_0x22d466){this['m_destPoly']['push'](new _0x23c0c3['IntPoint2'](_0x23c0c3['ClipperOffset']['Round'](this['m_srcPoly'][0x0]['X']+_0x33a3c5*_0x251f28),_0x23c0c3['ClipperOffset']['Round'](this['m_srcPoly'][0x0]['Y']+_0x11d695*_0x251f28)));if(_0x33a3c5<0x0)_0x33a3c5=0x1;else {if(_0x11d695<0x0)_0x11d695=0x1;else _0x33a3c5=-0x1;}}}this['m_destPolys']['push'](this['m_destPoly']);continue;}this['m_normals']['length']=0x0;for(var _0x22d466=0x0;_0x22d466<_0x2e4353-0x1;_0x22d466++)this['m_normals']['push'](_0x23c0c3['ClipperOffset']['GetUnitNormal'](this['m_srcPoly'][_0x22d466],this['m_srcPoly'][_0x22d466+0x1]));if(_0x345f11['m_endtype']===_0x23c0c3['EndType']['etClosedLine']||_0x345f11['m_endtype']===_0x23c0c3['EndType']['etClosedPolygon'])this['m_normals']['push'](_0x23c0c3['ClipperOffset']['GetUnitNormal'](this['m_srcPoly'][_0x2e4353-0x1],this['m_srcPoly'][0x0]));else this['m_normals']['push'](new _0x23c0c3['DoublePoint1'](this['m_normals'][_0x2e4353-0x2]));if(_0x345f11['m_endtype']===_0x23c0c3['EndType']['etClosedPolygon']){var _0x159d01=_0x2e4353-0x1;for(var _0x22d466=0x0;_0x22d466<_0x2e4353;_0x22d466++)_0x159d01=this['OffsetPoint'](_0x22d466,_0x159d01,_0x345f11['m_jointype']);this['m_destPolys']['push'](this['m_destPoly']);}else {if(_0x345f11['m_endtype']===_0x23c0c3['EndType']['etClosedLine']){var _0x159d01=_0x2e4353-0x1;for(var _0x22d466=0x0;_0x22d466<_0x2e4353;_0x22d466++)_0x159d01=this['OffsetPoint'](_0x22d466,_0x159d01,_0x345f11['m_jointype']);this['m_destPolys']['push'](this['m_destPoly']),this['m_destPoly']=new Array();var _0x541ac3=this['m_normals'][_0x2e4353-0x1];for(var _0x22d466=_0x2e4353-0x1;_0x22d466>0x0;_0x22d466--)this['m_normals'][_0x22d466]=new _0x23c0c3['DoublePoint2'](-this['m_normals'][_0x22d466-0x1]['X'],-this['m_normals'][_0x22d466-0x1]['Y']);this['m_normals'][0x0]=new _0x23c0c3['DoublePoint2'](-_0x541ac3['X'],-_0x541ac3['Y']),_0x159d01=0x0;for(var _0x22d466=_0x2e4353-0x1;_0x22d466>=0x0;_0x22d466--)_0x159d01=this['OffsetPoint'](_0x22d466,_0x159d01,_0x345f11['m_jointype']);this['m_destPolys']['push'](this['m_destPoly']);}else {var _0x159d01=0x0;for(var _0x22d466=0x1;_0x22d466<_0x2e4353-0x1;++_0x22d466)_0x159d01=this['OffsetPoint'](_0x22d466,_0x159d01,_0x345f11['m_jointype']);var _0x2c505c;if(_0x345f11['m_endtype']===_0x23c0c3['EndType']['etOpenButt']){var _0x22d466=_0x2e4353-0x1;_0x2c505c=new _0x23c0c3['IntPoint2'](_0x23c0c3['ClipperOffset']['Round'](this['m_srcPoly'][_0x22d466]['X']+this['m_normals'][_0x22d466]['X']*_0x251f28),_0x23c0c3['ClipperOffset']['Round'](this['m_srcPoly'][_0x22d466]['Y']+this['m_normals'][_0x22d466]['Y']*_0x251f28)),this['m_destPoly']['push'](_0x2c505c),_0x2c505c=new _0x23c0c3['IntPoint2'](_0x23c0c3['ClipperOffset']['Round'](this['m_srcPoly'][_0x22d466]['X']-this['m_normals'][_0x22d466]['X']*_0x251f28),_0x23c0c3['ClipperOffset']['Round'](this['m_srcPoly'][_0x22d466]['Y']-this['m_normals'][_0x22d466]['Y']*_0x251f28)),this['m_destPoly']['push'](_0x2c505c);}else {var _0x22d466=_0x2e4353-0x1;_0x159d01=_0x2e4353-0x2,this['m_sinA']=0x0,this['m_normals'][_0x22d466]=new _0x23c0c3['DoublePoint2'](-this['m_normals'][_0x22d466]['X'],-this['m_normals'][_0x22d466]['Y']);if(_0x345f11['m_endtype']===_0x23c0c3['EndType']['etOpenSquare'])this['DoSquare'](_0x22d466,_0x159d01);else this['DoRound'](_0x22d466,_0x159d01);}for(var _0x22d466=_0x2e4353-0x1;_0x22d466>0x0;_0x22d466--)this['m_normals'][_0x22d466]=new _0x23c0c3['DoublePoint2'](-this['m_normals'][_0x22d466-0x1]['X'],-this['m_normals'][_0x22d466-0x1]['Y']);this['m_normals'][0x0]=new _0x23c0c3['DoublePoint2'](-this['m_normals'][0x1]['X'],-this['m_normals'][0x1]['Y']),_0x159d01=_0x2e4353-0x1;for(var _0x22d466=_0x159d01-0x1;_0x22d466>0x0;--_0x22d466)_0x159d01=this['OffsetPoint'](_0x22d466,_0x159d01,_0x345f11['m_jointype']);if(_0x345f11['m_endtype']===_0x23c0c3['EndType']['etOpenButt'])_0x2c505c=new _0x23c0c3['IntPoint2'](_0x23c0c3['ClipperOffset']['Round'](this['m_srcPoly'][0x0]['X']-this['m_normals'][0x0]['X']*_0x251f28),_0x23c0c3['ClipperOffset']['Round'](this['m_srcPoly'][0x0]['Y']-this['m_normals'][0x0]['Y']*_0x251f28)),this['m_destPoly']['push'](_0x2c505c),_0x2c505c=new _0x23c0c3['IntPoint2'](_0x23c0c3['ClipperOffset']['Round'](this['m_srcPoly'][0x0]['X']+this['m_normals'][0x0]['X']*_0x251f28),_0x23c0c3['ClipperOffset']['Round'](this['m_srcPoly'][0x0]['Y']+this['m_normals'][0x0]['Y']*_0x251f28)),this['m_destPoly']['push'](_0x2c505c);else {_0x159d01=0x1,this['m_sinA']=0x0;if(_0x345f11['m_endtype']===_0x23c0c3['EndType']['etOpenSquare'])this['DoSquare'](0x0,0x1);else this['DoRound'](0x0,0x1);}this['m_destPolys']['push'](this['m_destPoly']);}}}},_0x23c0c3['ClipperOffset']['prototype']['Execute']=function(){var _0x2e14fd=arguments,_0x5b14c1=_0x2e14fd[0x0]instanceof _0x23c0c3['PolyTree'];if(!_0x5b14c1){var _0x436822=_0x2e14fd[0x0],_0xe85e74=_0x2e14fd[0x1];_0x23c0c3['Clear'](_0x436822),this['FixOrientations'](),this['DoOffset'](_0xe85e74);var _0x37883a=new _0x23c0c3['Clipper'](0x0);_0x37883a['AddPaths'](this['m_destPolys'],_0x23c0c3['PolyType']['ptSubject'],!![]);if(_0xe85e74>0x0)_0x37883a['Execute'](_0x23c0c3['ClipType']['ctUnion'],_0x436822,_0x23c0c3['PolyFillType']['pftPositive'],_0x23c0c3['PolyFillType']['pftPositive']);else {var _0x1aa958=_0x23c0c3['Clipper']['GetBounds'](this['m_destPolys']),_0x1acbc5=new _0x23c0c3['Path']();_0x1acbc5['push'](new _0x23c0c3['IntPoint2'](_0x1aa958['left']-0xa,_0x1aa958['bottom']+0xa)),_0x1acbc5['push'](new _0x23c0c3['IntPoint2'](_0x1aa958['right']+0xa,_0x1aa958['bottom']+0xa)),_0x1acbc5['push'](new _0x23c0c3['IntPoint2'](_0x1aa958['right']+0xa,_0x1aa958['top']-0xa)),_0x1acbc5['push'](new _0x23c0c3['IntPoint2'](_0x1aa958['left']-0xa,_0x1aa958['top']-0xa)),_0x37883a['AddPath'](_0x1acbc5,_0x23c0c3['PolyType']['ptSubject'],!![]),_0x37883a['ReverseSolution']=!![],_0x37883a['Execute'](_0x23c0c3['ClipType']['ctUnion'],_0x436822,_0x23c0c3['PolyFillType']['pftNegative'],_0x23c0c3['PolyFillType']['pftNegative']);if(_0x436822['length']>0x0)_0x436822['splice'](0x0,0x1);}}else {var _0x436822=_0x2e14fd[0x0],_0xe85e74=_0x2e14fd[0x1];_0x436822['Clear'](),this['FixOrientations'](),this['DoOffset'](_0xe85e74);var _0x37883a=new _0x23c0c3['Clipper'](0x0);_0x37883a['AddPaths'](this['m_destPolys'],_0x23c0c3['PolyType']['ptSubject'],!![]);if(_0xe85e74>0x0)_0x37883a['Execute'](_0x23c0c3['ClipType']['ctUnion'],_0x436822,_0x23c0c3['PolyFillType']['pftPositive'],_0x23c0c3['PolyFillType']['pftPositive']);else {var _0x1aa958=_0x23c0c3['Clipper']['GetBounds'](this['m_destPolys']),_0x1acbc5=new _0x23c0c3['Path']();_0x1acbc5['push'](new _0x23c0c3['IntPoint2'](_0x1aa958['left']-0xa,_0x1aa958['bottom']+0xa)),_0x1acbc5['push'](new _0x23c0c3['IntPoint2'](_0x1aa958['right']+0xa,_0x1aa958['bottom']+0xa)),_0x1acbc5['push'](new _0x23c0c3['IntPoint2'](_0x1aa958['right']+0xa,_0x1aa958['top']-0xa)),_0x1acbc5['push'](new _0x23c0c3['IntPoint2'](_0x1aa958['left']-0xa,_0x1aa958['top']-0xa)),_0x37883a['AddPath'](_0x1acbc5,_0x23c0c3['PolyType']['ptSubject'],!![]),_0x37883a['ReverseSolution']=!![],_0x37883a['Execute'](_0x23c0c3['ClipType']['ctUnion'],_0x436822,_0x23c0c3['PolyFillType']['pftNegative'],_0x23c0c3['PolyFillType']['pftNegative']);if(_0x436822['ChildCount']()===0x1&&_0x436822['Childs']()[0x0]['ChildCount']()>0x0){var _0x15ccc5=_0x436822['Childs']()[0x0];_0x436822['Childs']()[0x0]=_0x15ccc5['Childs']()[0x0],_0x436822['Childs']()[0x0]['m_Parent']=_0x436822;for(var _0x3abee3=0x1;_0x3abee3<_0x15ccc5['ChildCount']();_0x3abee3++)_0x436822['AddChild'](_0x15ccc5['Childs']()[_0x3abee3]);}else _0x436822['Clear']();}}},_0x23c0c3['ClipperOffset']['prototype']['OffsetPoint']=function(_0x5a6c1f,_0x3521f6,_0x4230f0){this['m_sinA']=this['m_normals'][_0x3521f6]['X']*this['m_normals'][_0x5a6c1f]['Y']-this['m_normals'][_0x5a6c1f]['X']*this['m_normals'][_0x3521f6]['Y'];if(Math['abs'](this['m_sinA']*this['m_delta'])<0x1){var _0x4fe510=this['m_normals'][_0x3521f6]['X']*this['m_normals'][_0x5a6c1f]['X']+this['m_normals'][_0x5a6c1f]['Y']*this['m_normals'][_0x3521f6]['Y'];if(_0x4fe510>0x0)return this['m_destPoly']['push'](new _0x23c0c3['IntPoint2'](_0x23c0c3['ClipperOffset']['Round'](this['m_srcPoly'][_0x5a6c1f]['X']+this['m_normals'][_0x3521f6]['X']*this['m_delta']),_0x23c0c3['ClipperOffset']['Round'](this['m_srcPoly'][_0x5a6c1f]['Y']+this['m_normals'][_0x3521f6]['Y']*this['m_delta']))),_0x3521f6;}else {if(this['m_sinA']>0x1)this['m_sinA']=0x1;else {if(this['m_sinA']<-0x1)this['m_sinA']=-0x1;}}if(this['m_sinA']*this['m_delta']<0x0)this['m_destPoly']['push'](new _0x23c0c3['IntPoint2'](_0x23c0c3['ClipperOffset']['Round'](this['m_srcPoly'][_0x5a6c1f]['X']+this['m_normals'][_0x3521f6]['X']*this['m_delta']),_0x23c0c3['ClipperOffset']['Round'](this['m_srcPoly'][_0x5a6c1f]['Y']+this['m_normals'][_0x3521f6]['Y']*this['m_delta']))),this['m_destPoly']['push'](new _0x23c0c3['IntPoint1'](this['m_srcPoly'][_0x5a6c1f])),this['m_destPoly']['push'](new _0x23c0c3['IntPoint2'](_0x23c0c3['ClipperOffset']['Round'](this['m_srcPoly'][_0x5a6c1f]['X']+this['m_normals'][_0x5a6c1f]['X']*this['m_delta']),_0x23c0c3['ClipperOffset']['Round'](this['m_srcPoly'][_0x5a6c1f]['Y']+this['m_normals'][_0x5a6c1f]['Y']*this['m_delta'])));else switch(_0x4230f0){case _0x23c0c3['JoinType']['jtMiter']:{var _0x9c98e=0x1+(this['m_normals'][_0x5a6c1f]['X']*this['m_normals'][_0x3521f6]['X']+this['m_normals'][_0x5a6c1f]['Y']*this['m_normals'][_0x3521f6]['Y']);if(_0x9c98e>=this['m_miterLim'])this['DoMiter'](_0x5a6c1f,_0x3521f6,_0x9c98e);else this['DoSquare'](_0x5a6c1f,_0x3521f6);break;}case _0x23c0c3['JoinType']['jtSquare']:this['DoSquare'](_0x5a6c1f,_0x3521f6);break;case _0x23c0c3['JoinType']['jtRound']:this['DoRound'](_0x5a6c1f,_0x3521f6);break;}return _0x3521f6=_0x5a6c1f,_0x3521f6;},_0x23c0c3['ClipperOffset']['prototype']['DoSquare']=function(_0x1a8e41,_0x507574){var _0x5ee4ab=Math['tan'](Math['atan2'](this['m_sinA'],this['m_normals'][_0x507574]['X']*this['m_normals'][_0x1a8e41]['X']+this['m_normals'][_0x507574]['Y']*this['m_normals'][_0x1a8e41]['Y'])/0x4);this['m_destPoly']['push'](new _0x23c0c3['IntPoint2'](_0x23c0c3['ClipperOffset']['Round'](this['m_srcPoly'][_0x1a8e41]['X']+this['m_delta']*(this['m_normals'][_0x507574]['X']-this['m_normals'][_0x507574]['Y']*_0x5ee4ab)),_0x23c0c3['ClipperOffset']['Round'](this['m_srcPoly'][_0x1a8e41]['Y']+this['m_delta']*(this['m_normals'][_0x507574]['Y']+this['m_normals'][_0x507574]['X']*_0x5ee4ab)))),this['m_destPoly']['push'](new _0x23c0c3['IntPoint2'](_0x23c0c3['ClipperOffset']['Round'](this['m_srcPoly'][_0x1a8e41]['X']+this['m_delta']*(this['m_normals'][_0x1a8e41]['X']+this['m_normals'][_0x1a8e41]['Y']*_0x5ee4ab)),_0x23c0c3['ClipperOffset']['Round'](this['m_srcPoly'][_0x1a8e41]['Y']+this['m_delta']*(this['m_normals'][_0x1a8e41]['Y']-this['m_normals'][_0x1a8e41]['X']*_0x5ee4ab))));},_0x23c0c3['ClipperOffset']['prototype']['DoMiter']=function(_0x59b1e0,_0x4d3415,_0x2b57e0){var _0xfa467d=this['m_delta']/_0x2b57e0;this['m_destPoly']['push'](new _0x23c0c3['IntPoint2'](_0x23c0c3['ClipperOffset']['Round'](this['m_srcPoly'][_0x59b1e0]['X']+(this['m_normals'][_0x4d3415]['X']+this['m_normals'][_0x59b1e0]['X'])*_0xfa467d),_0x23c0c3['ClipperOffset']['Round'](this['m_srcPoly'][_0x59b1e0]['Y']+(this['m_normals'][_0x4d3415]['Y']+this['m_normals'][_0x59b1e0]['Y'])*_0xfa467d)));},_0x23c0c3['ClipperOffset']['prototype']['DoRound']=function(_0x3d977d,_0x43f034){var _0x331534=Math['atan2'](this['m_sinA'],this['m_normals'][_0x43f034]['X']*this['m_normals'][_0x3d977d]['X']+this['m_normals'][_0x43f034]['Y']*this['m_normals'][_0x3d977d]['Y']),_0x2dbcd3=Math['max'](_0x23c0c3['Cast_Int32'](_0x23c0c3['ClipperOffset']['Round'](this['m_StepsPerRad']*Math['abs'](_0x331534))),0x1),_0x3f9f94=this['m_normals'][_0x43f034]['X'],_0x304503=this['m_normals'][_0x43f034]['Y'],_0x1e93a4;for(var _0x1b86ed=0x0;_0x1b86ed<_0x2dbcd3;++_0x1b86ed){this['m_destPoly']['push'](new _0x23c0c3['IntPoint2'](_0x23c0c3['ClipperOffset']['Round'](this['m_srcPoly'][_0x3d977d]['X']+_0x3f9f94*this['m_delta']),_0x23c0c3['ClipperOffset']['Round'](this['m_srcPoly'][_0x3d977d]['Y']+_0x304503*this['m_delta']))),_0x1e93a4=_0x3f9f94,_0x3f9f94=_0x3f9f94*this['m_cos']-this['m_sin']*_0x304503,_0x304503=_0x1e93a4*this['m_sin']+_0x304503*this['m_cos'];}this['m_destPoly']['push'](new _0x23c0c3['IntPoint2'](_0x23c0c3['ClipperOffset']['Round'](this['m_srcPoly'][_0x3d977d]['X']+this['m_normals'][_0x3d977d]['X']*this['m_delta']),_0x23c0c3['ClipperOffset']['Round'](this['m_srcPoly'][_0x3d977d]['Y']+this['m_normals'][_0x3d977d]['Y']*this['m_delta'])));},_0x23c0c3['Error']=function(_0x5e8b35){try{throw new Error(_0x5e8b35);}catch(_0x465487){alert(_0x465487['message']);}},_0x23c0c3['JS']={},_0x23c0c3['JS']['AreaOfPolygon']=function(_0x341d8b,_0x4e772f){if(!_0x4e772f)_0x4e772f=0x1;return _0x23c0c3['Clipper']['Area'](_0x341d8b)/(_0x4e772f*_0x4e772f);},_0x23c0c3['JS']['AreaOfPolygons']=function(_0x34c40c,_0x470a8e){if(!_0x470a8e)_0x470a8e=0x1;var _0x4f8968=0x0;for(var _0x28bf79=0x0;_0x28bf79<_0x34c40c['length'];_0x28bf79++){_0x4f8968+=_0x23c0c3['Clipper']['Area'](_0x34c40c[_0x28bf79]);}return _0x4f8968/(_0x470a8e*_0x470a8e);},_0x23c0c3['JS']['BoundsOfPath']=function(_0x1588a1,_0x14b3e9){return _0x23c0c3['JS']['BoundsOfPaths']([_0x1588a1],_0x14b3e9);},_0x23c0c3['JS']['BoundsOfPaths']=function(_0x439029,_0x57c3d8){if(!_0x57c3d8)_0x57c3d8=0x1;var _0x1826d3=_0x23c0c3['Clipper']['GetBounds'](_0x439029);return _0x1826d3['left']/=_0x57c3d8,_0x1826d3['bottom']/=_0x57c3d8,_0x1826d3['right']/=_0x57c3d8,_0x1826d3['top']/=_0x57c3d8,_0x1826d3;},_0x23c0c3['JS']['Clean']=function(_0x5a47fe,_0x582b75){if(!(_0x5a47fe instanceof Array))return [];var _0x427a7d=_0x5a47fe[0x0]instanceof Array,_0x5a47fe=_0x23c0c3['JS']['Clone'](_0x5a47fe);if(typeof _0x582b75!=='number'||_0x582b75===null)return _0x23c0c3['Error']('Delta\x20is\x20not\x20a\x20number\x20in\x20Clean().'),_0x5a47fe;if(_0x5a47fe['length']===0x0||_0x5a47fe['length']===0x1&&_0x5a47fe[0x0]['length']===0x0||_0x582b75<0x0)return _0x5a47fe;if(!_0x427a7d)_0x5a47fe=[_0x5a47fe];var _0x267039=_0x5a47fe['length'],_0x121bcf,_0x555ea4,_0x56d3aa,_0x2b52aa,_0x3445ae,_0x5ba0a0,_0x49c66a,_0x26c9ec=[];for(var _0x339d1f=0x0;_0x339d1f<_0x267039;_0x339d1f++){_0x555ea4=_0x5a47fe[_0x339d1f],_0x121bcf=_0x555ea4['length'];if(_0x121bcf===0x0)continue;else {if(_0x121bcf<0x3){_0x56d3aa=_0x555ea4,_0x26c9ec['push'](_0x56d3aa);continue;}}_0x56d3aa=_0x555ea4,_0x2b52aa=_0x582b75*_0x582b75,_0x3445ae=_0x555ea4[0x0],_0x5ba0a0=0x1;for(_0x49c66a=0x1;_0x49c66a<_0x121bcf;_0x49c66a++){if((_0x555ea4[_0x49c66a]['X']-_0x3445ae['X'])*(_0x555ea4[_0x49c66a]['X']-_0x3445ae['X'])+(_0x555ea4[_0x49c66a]['Y']-_0x3445ae['Y'])*(_0x555ea4[_0x49c66a]['Y']-_0x3445ae['Y'])<=_0x2b52aa)continue;_0x56d3aa[_0x5ba0a0]=_0x555ea4[_0x49c66a],_0x3445ae=_0x555ea4[_0x49c66a],_0x5ba0a0++;}_0x3445ae=_0x555ea4[_0x5ba0a0-0x1];if((_0x555ea4[0x0]['X']-_0x3445ae['X'])*(_0x555ea4[0x0]['X']-_0x3445ae['X'])+(_0x555ea4[0x0]['Y']-_0x3445ae['Y'])*(_0x555ea4[0x0]['Y']-_0x3445ae['Y'])<=_0x2b52aa)_0x5ba0a0--;if(_0x5ba0a0<_0x121bcf)_0x56d3aa['splice'](_0x5ba0a0,_0x121bcf-_0x5ba0a0);if(_0x56d3aa['length'])_0x26c9ec['push'](_0x56d3aa);}if(!_0x427a7d&&_0x26c9ec['length'])_0x26c9ec=_0x26c9ec[0x0];else {if(!_0x427a7d&&_0x26c9ec['length']===0x0)_0x26c9ec=[];else {if(_0x427a7d&&_0x26c9ec['length']===0x0)_0x26c9ec=[[]];}}return _0x26c9ec;},_0x23c0c3['JS']['Clone']=function(_0x5a8442){if(!(_0x5a8442 instanceof Array))return [];if(_0x5a8442['length']===0x0)return [];else {if(_0x5a8442['length']===0x1&&_0x5a8442[0x0]['length']===0x0)return [[]];}var _0x386f11=_0x5a8442[0x0]instanceof Array;if(!_0x386f11)_0x5a8442=[_0x5a8442];var _0x5b8d8f=_0x5a8442['length'],_0x3dec1d,_0x51a56b,_0x476e97,_0x3d6a30,_0x19c5ff=new Array(_0x5b8d8f);for(_0x51a56b=0x0;_0x51a56b<_0x5b8d8f;_0x51a56b++){_0x3dec1d=_0x5a8442[_0x51a56b]['length'],_0x3d6a30=new Array(_0x3dec1d);for(_0x476e97=0x0;_0x476e97<_0x3dec1d;_0x476e97++){_0x3d6a30[_0x476e97]={'X':_0x5a8442[_0x51a56b][_0x476e97]['X'],'Y':_0x5a8442[_0x51a56b][_0x476e97]['Y']};}_0x19c5ff[_0x51a56b]=_0x3d6a30;}if(!_0x386f11)_0x19c5ff=_0x19c5ff[0x0];return _0x19c5ff;},_0x23c0c3['JS']['Lighten']=function(_0x2bcca9,_0x404500){if(!(_0x2bcca9 instanceof Array))return [];if(typeof _0x404500!=='number'||_0x404500===null)return _0x23c0c3['Error']('Tolerance\x20is\x20not\x20a\x20number\x20in\x20Lighten().'),_0x23c0c3['JS']['Clone'](_0x2bcca9);if(_0x2bcca9['length']===0x0||_0x2bcca9['length']===0x1&&_0x2bcca9[0x0]['length']===0x0||_0x404500<0x0)return _0x23c0c3['JS']['Clone'](_0x2bcca9);var _0x1195e8=_0x2bcca9[0x0]instanceof Array;if(!_0x1195e8)_0x2bcca9=[_0x2bcca9];var _0x174862,_0x532b94,_0x3a67c3,_0x502e88,_0x12d6a7,_0x4391d3,_0x212837,_0x159e0f,_0x55e306,_0x1d67b2,_0x43476c,_0x4cd5e6,_0x1982cf,_0x243661,_0x4fd6dc,_0x131b9c,_0x901973,_0x5d4024=_0x2bcca9['length'],_0x3626bf=_0x404500*_0x404500,_0x5c9ecb=[];for(_0x174862=0x0;_0x174862<_0x5d4024;_0x174862++){_0x3a67c3=_0x2bcca9[_0x174862],_0x4391d3=_0x3a67c3['length'];if(_0x4391d3===0x0)continue;for(_0x502e88=0x0;_0x502e88<0xf4240;_0x502e88++){_0x12d6a7=[],_0x4391d3=_0x3a67c3['length'];if(_0x3a67c3[_0x4391d3-0x1]['X']!==_0x3a67c3[0x0]['X']||_0x3a67c3[_0x4391d3-0x1]['Y']!==_0x3a67c3[0x0]['Y'])_0x4cd5e6=0x1,_0x3a67c3['push']({'X':_0x3a67c3[0x0]['X'],'Y':_0x3a67c3[0x0]['Y']}),_0x4391d3=_0x3a67c3['length'];else _0x4cd5e6=0x0;_0x43476c=[];for(_0x532b94=0x0;_0x532b94<_0x4391d3-0x2;_0x532b94++){_0x212837=_0x3a67c3[_0x532b94],_0x55e306=_0x3a67c3[_0x532b94+0x1],_0x159e0f=_0x3a67c3[_0x532b94+0x2],_0x131b9c=_0x212837['X'],_0x901973=_0x212837['Y'],_0x1982cf=_0x159e0f['X']-_0x131b9c,_0x243661=_0x159e0f['Y']-_0x901973;if(_0x1982cf!==0x0||_0x243661!==0x0){_0x4fd6dc=((_0x55e306['X']-_0x131b9c)*_0x1982cf+(_0x55e306['Y']-_0x901973)*_0x243661)/(_0x1982cf*_0x1982cf+_0x243661*_0x243661);if(_0x4fd6dc>0x1)_0x131b9c=_0x159e0f['X'],_0x901973=_0x159e0f['Y'];else _0x4fd6dc>0x0&&(_0x131b9c+=_0x1982cf*_0x4fd6dc,_0x901973+=_0x243661*_0x4fd6dc);}_0x1982cf=_0x55e306['X']-_0x131b9c,_0x243661=_0x55e306['Y']-_0x901973,_0x1d67b2=_0x1982cf*_0x1982cf+_0x243661*_0x243661,_0x1d67b2<=_0x3626bf&&(_0x43476c[_0x532b94+0x1]=0x1,_0x532b94++);}_0x12d6a7['push']({'X':_0x3a67c3[0x0]['X'],'Y':_0x3a67c3[0x0]['Y']});for(_0x532b94=0x1;_0x532b94<_0x4391d3-0x1;_0x532b94++)if(!_0x43476c[_0x532b94])_0x12d6a7['push']({'X':_0x3a67c3[_0x532b94]['X'],'Y':_0x3a67c3[_0x532b94]['Y']});_0x12d6a7['push']({'X':_0x3a67c3[_0x4391d3-0x1]['X'],'Y':_0x3a67c3[_0x4391d3-0x1]['Y']});if(_0x4cd5e6)_0x3a67c3['pop']();if(!_0x43476c['length'])break;else _0x3a67c3=_0x12d6a7;}_0x4391d3=_0x12d6a7['length'];_0x12d6a7[_0x4391d3-0x1]['X']===_0x12d6a7[0x0]['X']&&_0x12d6a7[_0x4391d3-0x1]['Y']===_0x12d6a7[0x0]['Y']&&_0x12d6a7['pop']();if(_0x12d6a7['length']>0x2)_0x5c9ecb['push'](_0x12d6a7);}return !_0x1195e8&&(_0x5c9ecb=_0x5c9ecb[0x0]),typeof _0x5c9ecb==='undefined'&&(_0x5c9ecb=[]),_0x5c9ecb;},_0x23c0c3['JS']['PerimeterOfPath']=function(_0x2e0339,_0x50cc0e,_0x53582d){if(typeof _0x2e0339==='undefined')return 0x0;var _0x35aef8=Math['sqrt'],_0x537bd2=0x0,_0x459ae9,_0x44ce26,_0x5733f7=0x0,_0x1c12d4=0x0,_0xe279e3=0x0,_0x5900d7=0x0,_0x496ac1=_0x2e0339['length'];if(_0x496ac1<0x2)return 0x0;_0x50cc0e&&(_0x2e0339[_0x496ac1]=_0x2e0339[0x0],_0x496ac1++);while(--_0x496ac1){_0x459ae9=_0x2e0339[_0x496ac1],_0x5733f7=_0x459ae9['X'],_0x1c12d4=_0x459ae9['Y'],_0x44ce26=_0x2e0339[_0x496ac1-0x1],_0xe279e3=_0x44ce26['X'],_0x5900d7=_0x44ce26['Y'],_0x537bd2+=_0x35aef8((_0x5733f7-_0xe279e3)*(_0x5733f7-_0xe279e3)+(_0x1c12d4-_0x5900d7)*(_0x1c12d4-_0x5900d7));}if(_0x50cc0e)_0x2e0339['pop']();return _0x537bd2/_0x53582d;},_0x23c0c3['JS']['PerimeterOfPaths']=function(_0x302a20,_0x43a36d,_0x1718e4){if(!_0x1718e4)_0x1718e4=0x1;var _0x40d5ad=0x0;for(var _0x121d94=0x0;_0x121d94<_0x302a20['length'];_0x121d94++){_0x40d5ad+=_0x23c0c3['JS']['PerimeterOfPath'](_0x302a20[_0x121d94],_0x43a36d,_0x1718e4);}return _0x40d5ad;},_0x23c0c3['JS']['ScaleDownPath']=function(_0x2ebd77,_0x30467b){var _0x28e36f,_0x479354;if(!_0x30467b)_0x30467b=0x1;_0x28e36f=_0x2ebd77['length'];while(_0x28e36f--){_0x479354=_0x2ebd77[_0x28e36f],_0x479354['X']=_0x479354['X']/_0x30467b,_0x479354['Y']=_0x479354['Y']/_0x30467b;}},_0x23c0c3['JS']['ScaleDownPaths']=function(_0x54e35f,_0xe76cae){var _0x33d45f,_0x5f29df,_0xc84d8b;if(!_0xe76cae)_0xe76cae=0x1;_0x33d45f=_0x54e35f['length'];while(_0x33d45f--){_0x5f29df=_0x54e35f[_0x33d45f]['length'];while(_0x5f29df--){_0xc84d8b=_0x54e35f[_0x33d45f][_0x5f29df],_0xc84d8b['X']=_0xc84d8b['X']/_0xe76cae,_0xc84d8b['Y']=_0xc84d8b['Y']/_0xe76cae;}}},_0x23c0c3['JS']['ScaleUpPath']=function(_0x959051,_0x6df465){var _0x4a7161,_0xd12d70,_0x2fe357=Math['round'];if(!_0x6df465)_0x6df465=0x1;_0x4a7161=_0x959051['length'];while(_0x4a7161--){_0xd12d70=_0x959051[_0x4a7161],_0xd12d70['X']=_0x2fe357(_0xd12d70['X']*_0x6df465),_0xd12d70['Y']=_0x2fe357(_0xd12d70['Y']*_0x6df465);}},_0x23c0c3['JS']['ScaleUpPaths']=function(_0x2169dc,_0x5315cb){var _0x3f740e,_0x351c3d,_0x5cb673,_0xa68058=Math['round'];if(!_0x5315cb)_0x5315cb=0x1;_0x3f740e=_0x2169dc['length'];while(_0x3f740e--){_0x351c3d=_0x2169dc[_0x3f740e]['length'];while(_0x351c3d--){_0x5cb673=_0x2169dc[_0x3f740e][_0x351c3d],_0x5cb673['X']=_0xa68058(_0x5cb673['X']*_0x5315cb),_0x5cb673['Y']=_0xa68058(_0x5cb673['Y']*_0x5315cb);}}},_0x23c0c3['ExPolygons']=function(){return [];},_0x23c0c3['ExPolygon']=function(){this['outer']=null,this['holes']=null;},_0x23c0c3['JS']['AddOuterPolyNodeToExPolygons']=function(_0x157385,_0x348315){var _0x5cd6fd=new _0x23c0c3['ExPolygon']();_0x5cd6fd['outer']=_0x157385['Contour']();var _0x2210c5=_0x157385['Childs'](),_0x351470=_0x2210c5['length'];_0x5cd6fd['holes']=new Array(_0x351470);var _0x404042,_0x2a93e2,_0x2c4cce,_0x4461af,_0x5d355d,_0x1ff28a;for(_0x2c4cce=0x0;_0x2c4cce<_0x351470;_0x2c4cce++){_0x404042=_0x2210c5[_0x2c4cce],_0x5cd6fd['holes'][_0x2c4cce]=_0x404042['Contour']();for(_0x4461af=0x0,_0x5d355d=_0x404042['Childs'](),_0x1ff28a=_0x5d355d['length'];_0x4461af<_0x1ff28a;_0x4461af++){_0x2a93e2=_0x5d355d[_0x4461af],_0x23c0c3['JS']['AddOuterPolyNodeToExPolygons'](_0x2a93e2,_0x348315);}}_0x348315['push'](_0x5cd6fd);},_0x23c0c3['JS']['ExPolygonsToPaths']=function(_0x3c5ee6){var _0x9f9955,_0x3f8419,_0x1e82c1,_0x5a88b3,_0x1acf83=new _0x23c0c3['Paths']();for(_0x9f9955=0x0,_0x1e82c1=_0x3c5ee6['length'];_0x9f9955<_0x1e82c1;_0x9f9955++){_0x1acf83['push'](_0x3c5ee6[_0x9f9955]['outer']);for(_0x3f8419=0x0,_0x5a88b3=_0x3c5ee6[_0x9f9955]['holes']['length'];_0x3f8419<_0x5a88b3;_0x3f8419++){_0x1acf83['push'](_0x3c5ee6[_0x9f9955]['holes'][_0x3f8419]);}}return _0x1acf83;},_0x23c0c3['JS']['PolyTreeToExPolygons']=function(_0xb2c1c){var _0x1040d5=new _0x23c0c3['ExPolygons'](),_0x4d7ee8,_0x2fc4f6,_0x5d9e2d,_0x321a64;for(_0x2fc4f6=0x0,_0x5d9e2d=_0xb2c1c['Childs'](),_0x321a64=_0x5d9e2d['length'];_0x2fc4f6<_0x321a64;_0x2fc4f6++){_0x4d7ee8=_0x5d9e2d[_0x2fc4f6],_0x23c0c3['JS']['AddOuterPolyNodeToExPolygons'](_0x4d7ee8,_0x1040d5);}return _0x1040d5;};}());}(clipper));var clipperExports=clipper['exports'];getDefaultExportFromCjs(clipperExports);

const PathType={'Fill':'Fill','Stroke':'Stroke','Shading':'Shading'},TextRenderingMode={'Fill':0x0,'Stroke':0x1,'FillStroke':0x2,'Invisible':0x3,'FillAddToPath':0x4,'StrokeAddToPath':0x5,'FillStrokeAddToPath':0x6,'AddToPath':0x7,'FillStrokeMask':0x3,'AddToPathFlag':0x4},MIN_FONT_SIZE=0x10,MAX_FONT_SIZE=0x64,IDENTITY_MATRIX=[0x1,0x0,0x0,0x1,0x0,0x0],FONT_IDENTITY_MATRIX=[0.001,0x0,0x0,0.001,0x0,0x0],NORMAL_CLIP={},EO_CLIP={},tempColor=new THREE['Color'](),tempMatrix4=new THREE['Matrix4']();let zOrder=0x0;const zOrderStep=0.01;class PdfLoader extends THREE['Loader']{constructor(_0x8c7fbd){super(),this['contentVisible']=!![],this['markedContentStack']=[],this['stateStack']=[],this['current']=new CanvasExtraState(0x1,0x1),this['tempSMask']=null,this['pendingEOFill']=![],this['activeLayoutName']='Model',this['defaultLayerId']='0',this['currentLayerId']='0',this['layers']={'0':{'name':'0','id':'0','index':'0','visible':!![]}},this['loadedEntityCount']=0x0,this['viewportScale']=0x1,this['baseTransform']=new THREE['Matrix4'](),this['currentTransform']=new THREE['Matrix4'](),this['transformStack']=[],this['clipType']=clipperExports.PolyFillType['pftNonZero'],this['paths']=[],this['pointsMaterials']={},this['lineBasicMaterials']={},this['meshBasicMaterials']={},this['lineWithWidthCount']=0x0;if(pdfjsLib===undefined)throw '[PdfLoader]\x20need\x20load\x20pdf.js\x20first';pdfjsLib['version']!=='3.8.162'&&log['warn']('[PdfLoader]\x20The\x20pdf.js\x20version\x20we\x20are\x20using\x20now\x20is\x203.8.162,if\x20not\x20maybe\x20wrong.'),this['fontManager']=_0x8c7fbd['font'],pdfjsLib['GlobalWorkerOptions']['workerSrc']=_0x8c7fbd['pdfWorker'];}['load'](_0x42dd46,_0x1a1884,_0x44e3c7,_0x1f1df3){this['loadAsync'](_0x42dd46,_0x44e3c7)['then'](_0x55c606=>{_0x1a1884(_0x55c606);})['catch'](_0x4e0c75=>{_0x1f1df3(_0x4e0c75);});}async['loadAsync'](_0x5740cb,_0x1fa45f){var _0x52adeb,_0x5e51b5,_0x100455;const _0x2cfcb1=CommonUtils['getUpdateProgressFunc'](_0x1fa45f),_0x46cfe1=CommonUtils['getUpdateSubProgressFunc'](0x0,0xa,_0x1fa45f);_0x2cfcb1(0x0);const {src:_0x53ba47}=_0x5740cb;this['modelCfg']=_0x5740cb;const _0x401b6a=_0x5740cb['modelId']||_0x53ba47;let _0x8bdfc7=Date['now']();const _0x150ca6=pdfjsLib['getDocument'](_0x53ba47);_0x150ca6['onProgress']=_0x46cfe1;const _0x323653=await _0x150ca6['promise'];return this['pdf']=_0x323653,log['info']('[PdfLoader]\x20Pdf\x20document\x20loaded\x20in\x20'+(Date['now']()-_0x8bdfc7)/0x3e8+'s'),_0x8bdfc7=Date['now'](),log['log'](_0x323653),this['pdfDocumentGroup']=new THREE['Group'](),this['pdfDocumentGroup']['name']='PdfDocument-'+_0x401b6a,this['optionalContentConfig']=await _0x323653['getOptionalContentConfig'](),await((_0x52adeb=this['fontManager'])===null||_0x52adeb===void 0x0?void 0x0:_0x52adeb['getFontFromIndexeddb']()),log['log']('[PdfLoader]\x20Font\x20loaded.'),_0x323653['numPages']>0x1&&log['info']('[PdfLoader]\x20Only\x20the\x20first\x20page\x20can\x20be\x20render\x20others\x20will\x20be\x20ignore.'),await this['loadPage'](0x1,_0x1fa45f),((_0x5e51b5=this['fontManager'])===null||_0x5e51b5===void 0x0?void 0x0:_0x5e51b5['missingFonts'])&&log['warn']('[PdfLoader]\x20Missing\x20fonts\x20and\x20reference\x20count:',(_0x100455=this['fontManager'])===null||_0x100455===void 0x0?void 0x0:_0x100455['missingFonts'],',\x20used\x20other\x20fonts\x20instead.'),this['lineWithWidthCount']>0x0&&log['warn']('[PdfLoader]\x20Found\x20'+this['lineWithWidthCount']+'\x20line(s)\x20with\x20width,\x20line\x20width\x20is\x20not\x20supported\x20and\x20was\x20ignored.'),!this['progressiveLoadCallback']&&(_0x2cfcb1(0x64),log['info']('[PdfLoader]\x20Loaded\x20\x27'+_0x5740cb['src']+'\x27\x20in\x20'+(Date['now']()-_0x8bdfc7)/0x3e8+'s,\x20adding\x20to\x20scene...')),{'modelId':_0x401b6a,'pdfData':{'threejsObject':this['pdfDocumentGroup'],'layers':this['layers']||[],'layersAndThreejsObjects':this['layersAndThreejsObjects'],'loadedEntityCount':this['loadedEntityCount']}};}async['loadPage'](_0x113768,_0x437a63){var _0x14b94b,_0x2f60ef,_0x4bb10a,_0x44ec19,_0x2f8ab1;if(!this['pdf'])return Promise['reject']('load\x20pdf\x20page\x20failed');if(_0x113768>this['pdf']['numPages'])return Promise['reject']('load\x20pdf\x20page\x20failed');this['pdfPage']&&this['pdfPageGroup']&&((_0x14b94b=this['pdfPageGroup'])===null||_0x14b94b===void 0x0?void 0x0:_0x14b94b['removeFromParent'](),(_0x2f60ef=this['pdfPageGroup'])===null||_0x2f60ef===void 0x0?void 0x0:_0x2f60ef['traverse'](_0x5e7039=>{_0x5e7039['geometry']&&_0x5e7039['geometry']['dispose'](),_0x5e7039['material']&&_0x5e7039['material']['dispose']();}),(_0x4bb10a=this['pdfPageGroup'])===null||_0x4bb10a===void 0x0?void 0x0:_0x4bb10a['clear'](),this['pdfPageGroup']=undefined,this['tryCleanup'](),this['pdfPage']['objs']['clear'](),this['pdfPage']['cleanup'](),this['objs']=undefined,this['pdfPage']=undefined,(_0x44ec19=this['viewportMesh'])===null||_0x44ec19===void 0x0?void 0x0:_0x44ec19['removeFromParent'](),this['viewportMesh']=undefined,this['layersAndThreejsObjects']=undefined);const _0xfdffe1=CommonUtils['getUpdateProgressFunc'](_0x437a63),_0xfdadf1=CommonUtils['getUpdateSubProgressFunc'](0x1e,0x5a,_0x437a63);let _0x3e3907=Date['now']();const _0x111c5a=await this['pdf']['getPage'](_0x113768);_0xfdffe1(0x14),log['info']('[PdfLoader]\x20Pdf\x20page\x20loaded\x20in\x20'+(Date['now']()-_0x3e3907)/0x3e8+'s'),_0x3e3907=Date['now'](),log['log'](_0x111c5a),this['pdfPage']=_0x111c5a,this['pdfPageGroup']=new THREE['Group'](),this['pdfPageGroup']['name']=PdfLoader['MODEL_LAYOUT_NAME'],(_0x2f8ab1=this['pdfDocumentGroup'])===null||_0x2f8ab1===void 0x0?void 0x0:_0x2f8ab1['add'](this['pdfPageGroup']),this['commonObjs']=this['pdf']['_transport']['commonObjs'],this['objs']=_0x111c5a['objs'];const _0x3884ab=_0x111c5a['view'],_0x236705=Math['max'](_0x3884ab[0x2]-_0x3884ab[0x0],_0x3884ab[0x3]-_0x3884ab[0x1]),_0x3ba15a=0x2000,_0x3e397c=_0x3ba15a/_0x236705,_0x2d40be=0x12c,_0x32f158=_0x2d40be/0x48,_0x5650e4=Math['min'](_0x32f158,_0x3e397c),_0x5c68a4=_0x111c5a['getViewport']({'scale':_0x5650e4});this['beginDrawing'](_0x5c68a4),this['current']=new CanvasExtraState(_0x5c68a4['width'],_0x5c68a4['height']),await this['buildLayers'](_0x111c5a),_0xfdffe1(0x1e),await this['getOperatorList'](_0xfdadf1);}['getPageCount'](){if(!this['pdf'])return;return this['pdf']['numPages'];}async['getOperatorList'](_0x1e1c2c){const _0x5cd91f=this['pdfPage'];if(!_0x5cd91f)return;const _0x32891f='display',_0x6de1d1=pdfjsLib['AnnotationMode']['ENABLE'],_0x1e248d=null,_0x5d2ffe=_0x5cd91f['_transport']['getRenderingIntent'](_0x32891f,_0x6de1d1,_0x1e248d,!![]);let _0x3c2339=_0x5cd91f['_intentStates']['get'](_0x5d2ffe['cacheKey']);!_0x3c2339&&(_0x3c2339=Object['create'](null),_0x5cd91f['_intentStates']['set'](_0x5d2ffe['cacheKey'],_0x3c2339));let _0x540081;function _0x382a1b(){_0x3c2339['operatorList']['lastChunk']&&(_0x3c2339['opListReadCapability']['resolve'](_0x3c2339['operatorList']),_0x3c2339['renderTasks']['delete'](_0x540081));}return !_0x3c2339['opListReadCapability']&&(_0x540081=Object['create'](null),_0x540081['operatorListChanged']=_0x382a1b,_0x3c2339['opListReadCapability']=new pdfjsLib['PromiseCapability'](),(_0x3c2339['renderTasks']||(_0x3c2339['renderTasks']=new Set()))['add'](_0x540081),_0x3c2339['operatorList']={'fnArray':[],'argsArray':[],'lastChunk':![],'separateAnnots':null}),await this['_pumpOperatorList'](_0x5d2ffe,_0x1e1c2c);}async['_pumpOperatorList'](_0xbea103,_0x2b46ef){const _0xe734eb=this['pdfPage'];if(!_0xe734eb)return;const {renderingIntent:_0x4d3082,cacheKey:_0xf2824b,annotationStorageSerializable:_0xe64a4b}=_0xbea103,{map:_0x5608aa,transfers:_0x134dae}=_0xe64a4b,_0x42e7a0=_0xe734eb['_transport']['messageHandler']['sendWithStream']('GetOperatorList',{'pageIndex':_0xe734eb['_pageIndex'],'intent':_0x4d3082,'cacheKey':_0xf2824b,'annotationStorage':_0x5608aa},_0x134dae),_0x5a1370=_0x42e7a0['getReader'](),_0x2a1345=_0xe734eb['_intentStates']['get'](_0xf2824b);_0x2a1345['streamReader']=_0x5a1370;const _0x5e72e2=_0x2a1345['operatorList']['argsArray']['length'],_0x19a634=_0x5e72e2<0xbb8;log['info']('[PdfLoader]\x20Operation\x20count:\x20'+_0x5e72e2+',\x20isVerboseProgress:\x20'+_0x19a634);let _0x1b37e3=0x0;const _0x2b9dfc=CommonUtils['getUpdateProgressFunc'](_0x2b46ef);_0x2b9dfc(0x0);const _0x17f317=async()=>{var _0x596cbd;try{const {value:_0x215800,done:_0x3cf250}=await _0x5a1370['read']();if(_0x3cf250){_0x2a1345['streamReader']=null;!this['progressiveLoadCallback']&&_0x2b9dfc(0x64);return;}if(_0xe734eb['_transport']['destroyed'])return;const _0x189d4f=_0x215800,_0x17b669=_0x189d4f['argsArray']['length'],_0x46de70=_0x1b37e3*0x64/_0x5e72e2,_0x7cc349=(_0x1b37e3+_0x17b669)*0x64/_0x5e72e2;if(_0x19a634){const _0x5dcaa4=CommonUtils['getUpdateSubProgressFunc'](_0x46de70,_0x7cc349,_0x2b46ef);await this['executeOperatorList'](_0x189d4f,_0x5dcaa4);}else await this['executeOperatorList'](_0x189d4f),_0x2b9dfc(_0x7cc349);const _0x153049=this['progressiveLoadCallback'],_0x56cc80=_0x189d4f['lastChunk'];_0x153049?window['requestAnimationFrame'](()=>{var _0x59cf58,_0x31a31f;((_0x59cf58=this['modelCfg'])===null||_0x59cf58===void 0x0?void 0x0:_0x59cf58['merge'])&&this['mergePdfObjects'](),_0x153049(zOrder,_0x56cc80),(_0x31a31f=this['pdfPageGroup'])===null||_0x31a31f===void 0x0?void 0x0:_0x31a31f['updateMatrixWorld'](!![]);}):((_0x596cbd=this['modelCfg'])===null||_0x596cbd===void 0x0?void 0x0:_0x596cbd['merge'])&&this['mergePdfObjects'](),_0x189d4f['lastChunk']&&this['endDrawing'](),_0x1b37e3+=_0x17b669,_0x153049?_0x17f317():await _0x17f317();}catch(_0x1cf655){_0x2a1345['streamReader']=null;if(_0xe734eb['_transport']['destroyed'])return;if(_0x2a1345['operatorList']){_0x2a1345['operatorList']['lastChunk']=!![];for(const _0x5ce0a8 of _0x2a1345['renderTasks']){_0x5ce0a8['operatorListChanged']();}this['tryCleanup']();}if(_0x2a1345['displayReadyCapability'])_0x2a1345['displayReadyCapability']['reject'](_0x1cf655);else {if(_0x2a1345['opListReadCapability'])_0x2a1345['opListReadCapability']['reject'](_0x1cf655);else throw _0x1cf655;}}};await _0x17f317();}['tryCleanup'](){const _0x17408f=this['pdfPage'];if(!_0x17408f)return;_0x17408f['_intentStates']['clear']();}['mergePdfObjects'](){for(const _0x31ff36 in this['layersAndThreejsObjects']){const _0x36f6f0=this['layersAndThreejsObjects'][_0x31ff36];if(_0x36f6f0['length']<=0x1)continue;const _0x128132=MergeUtils['deepMerge'](_0x36f6f0,this['pdfPageGroup'],![],![],![]),_0x2afea5=_0x128132['added'],_0x220a3=_0x128132['removed'];_0x220a3['forEach'](_0x5b52a2=>{var _0xb9c2eb,_0x818f96;(_0xb9c2eb=this['pdfPageGroup'])===null||_0xb9c2eb===void 0x0?void 0x0:_0xb9c2eb['remove'](_0x5b52a2);const _0x20bb22=_0x5b52a2;_0x20bb22['geometry']['dispose'](),_0x20bb22['material']['dispose'](),(_0x818f96=_0x20bb22['material']['map'])===null||_0x818f96===void 0x0?void 0x0:_0x818f96['dispose']();}),_0x2afea5['forEach'](_0x5c7a70=>{var _0x3a9584;(_0x3a9584=this['pdfPageGroup'])===null||_0x3a9584===void 0x0?void 0x0:_0x3a9584['add'](_0x5c7a70);});const _0x5de154=_0x36f6f0['filter'](_0x11d12b=>!_0x220a3['includes'](_0x11d12b));_0x5de154['push'](..._0x2afea5),this['layersAndThreejsObjects'][_0x31ff36]=_0x5de154;}}['getPointsMaterial'](_0x2007ed,_0x191752=0x1){return !this['pointsMaterials'][_0x2007ed+'-'+_0x191752]&&(this['pointsMaterials'][_0x2007ed+'-'+_0x191752]=new THREE['PointsMaterial']({'color':_0x2007ed,'transparent':!![],'opacity':_0x191752})),this['pointsMaterials'][_0x2007ed+'-'+_0x191752];}['getLineBasicMaterial'](_0x43a352,_0x346ffd=0x1){return !this['lineBasicMaterials'][_0x43a352+'-'+_0x346ffd]&&(this['lineBasicMaterials'][_0x43a352+'-'+_0x346ffd]=new THREE['LineBasicMaterial']({'color':_0x43a352,'transparent':!![],'opacity':_0x346ffd})),this['lineBasicMaterials'][_0x43a352+'-'+_0x346ffd];}['getMeshBasicMaterial'](_0x2eb535,_0x3ef53d=0x1){return !this['meshBasicMaterials'][_0x2eb535+'-'+_0x3ef53d]&&(this['meshBasicMaterials'][_0x2eb535+'-'+_0x3ef53d]=new THREE['MeshBasicMaterial']({'color':_0x2eb535,'transparent':!![],'opacity':_0x3ef53d,'side':THREE['DoubleSide']})),this['meshBasicMaterials'][_0x2eb535+'-'+_0x3ef53d];}['getTransformByMatrix4'](_0x101d9f){return [_0x101d9f['elements'][0x0],_0x101d9f['elements'][0x1],_0x101d9f['elements'][0x4],_0x101d9f['elements'][0x5],_0x101d9f['elements'][0xc],_0x101d9f['elements'][0xd]];}['getObject'](_0x46d1b6,_0x1007a0=null){if(typeof _0x46d1b6==='string')return _0x46d1b6['startsWith']('g_')?this['commonObjs']['get'](_0x46d1b6):this['objs']['get'](_0x46d1b6);return _0x1007a0;}['beginDrawing'](_0x1919f2){var _0x252808,_0xbbbb47,_0x2c5d44,_0x3d422a;log['log']('beginDrawing',_0x1919f2),this['viewportScale']=_0x1919f2['scale'];const [_0x43a4db,_0xf19009,_0x63adc8,_0x20634e,_0x38f354,_0x4c9f97]=_0x1919f2['transform'];this['baseTransform']['set'](_0x43a4db,_0x63adc8,0x0,_0x38f354,_0xf19009,_0x20634e,0x0,_0x4c9f97,0x0,0x0,0x1,0x0,0x0,0x0,0x0,0x1),this['currentTransform']['copy'](this['baseTransform']),(_0x252808=this['pdfPageGroup'])===null||_0x252808===void 0x0?void 0x0:_0x252808['applyMatrix4'](this['baseTransform']),(_0xbbbb47=this['pdfPageGroup'])===null||_0xbbbb47===void 0x0?void 0x0:_0xbbbb47['rotateZ'](THREE['MathUtils']['degToRad'](-_0x1919f2['rotation'])),(_0x2c5d44=this['pdfPageGroup'])===null||_0x2c5d44===void 0x0?void 0x0:_0x2c5d44['updateMatrix']();const _0x4dd1ee=0xffffff,{width:_0x5c965c,height:_0x557289}=_0x1919f2,_0xef1744=new THREE['BufferGeometry']()['setFromPoints']([new THREE['Vector3'](0x0,0x0,0x0),new THREE['Vector3'](_0x5c965c,0x0,0x0),new THREE['Vector3'](_0x5c965c,_0x557289,0x0),new THREE['Vector3'](0x0,0x0,0x0),new THREE['Vector3'](_0x5c965c,_0x557289,0x0),new THREE['Vector3'](0x0,_0x557289,0x0)]),_0x18b0af=new THREE['MeshBasicMaterial']({'color':_0x4dd1ee}),_0x3aac92=new THREE['Mesh'](_0xef1744,_0x18b0af);_0x3aac92['name']='PDF-viewport',_0x3aac92['renderOrder']=-0x3e7,_0x3aac92['layers']['disable'](LayerForHitableObjects),this['viewportMesh']=_0x3aac92,(_0x3d422a=this['pdfPageGroup'])===null||_0x3d422a===void 0x0?void 0x0:_0x3d422a['add'](_0x3aac92);}['endDrawing'](){var _0x1ffcc9;(_0x1ffcc9=this['pdfPageGroup'])===null||_0x1ffcc9===void 0x0?void 0x0:_0x1ffcc9['updateMatrixWorld'](!![]);}['releaseData'](){var _0x3a0c93;(_0x3a0c93=this['fontManager'])===null||_0x3a0c93===void 0x0?void 0x0:_0x3a0c93['releaseFontData'](),this['operatorList']=undefined,this['optionalContentConfig']=undefined,this['commonObjs']=undefined,this['objs']=undefined,this['pdfPage']=undefined,this['pdf']=undefined;}async['buildLayers'](_0x57fad8){if(!this['pdf'])return;const _0x24b179=await _0x57fad8['getOperatorList'](),_0x124384=_0x24b179['fnArray'],_0x4d47e9=_0x24b179['argsArray'],_0x406672={};let _0x26f459=0x1;for(let _0x1b1ba6=0x0;_0x124384&&_0x1b1ba6<_0x124384['length'];_0x1b1ba6++){const _0x46be65=_0x124384[_0x1b1ba6];if(_0x46be65===pdfjsLib['OPS']['beginMarkedContentProps']){if(_0x4d47e9[_0x1b1ba6]&&_0x4d47e9[_0x1b1ba6][0x0]=='OC'&&_0x4d47e9[_0x1b1ba6][0x1]!==null){let _0x449051;typeof _0x4d47e9[_0x1b1ba6][0x1]=='object'?_0x449051=_0x4d47e9[_0x1b1ba6][0x1]['id']:_0x449051=_0x4d47e9[_0x1b1ba6][0x1],_0x406672[_0x449051]===undefined&&(_0x406672[_0x449051]=_0x26f459++);}}}const _0x4e4d65=this['optionalContentConfig'],_0x56235c={'0':{'name':'0','id':'0','index':'0','visible':!![]}};let _0x166cf4=0x1;for(const _0x29b7ef in _0x406672){const _0x36da38=_0x4e4d65['getGroup'](_0x29b7ef);!_0x36da38?_0x406672[_0x29b7ef]=0x0:(_0x166cf4++,_0x56235c[_0x36da38['name']]={'name':_0x36da38['name'],'id':_0x29b7ef,'index':_0x406672[_0x29b7ef],'visible':_0x36da38['visible']});}return log['log']('buildLayers',_0x56235c),this['layers']=_0x56235c,{'layerCount':_0x166cf4,'layersMap':_0x56235c,'layers':_0x406672};}['addObjectToModel'](_0x2abc5c){var _0x5a0d2f,_0x487d32;!this['layersAndThreejsObjects']&&(this['layersAndThreejsObjects']={});const _0xa30fce=this['layers'][this['currentLayerId']],_0x337b46=(_0xa30fce===null||_0xa30fce===void 0x0?void 0x0:_0xa30fce['name'])||this['defaultLayerId'];!this['layersAndThreejsObjects'][_0x337b46]&&(this['layersAndThreejsObjects'][_0x337b46]=[]);_0x2abc5c['userData']['layerName']=_0x337b46,this['layersAndThreejsObjects'][_0x337b46]['push'](_0x2abc5c),this['loadedEntityCount']++,_0x2abc5c['layers']['enableAll']();const _0x4e6f43=_0x2abc5c;_0x4e6f43['geometry']&&_0x4e6f43['geometry']['hasAttribute']('normal')&&_0x4e6f43['geometry']['deleteAttribute']('normal'),_0x4e6f43['material']&&!_0x4e6f43['material']['map']&&_0x4e6f43['geometry']&&_0x4e6f43['geometry']['hasAttribute']('uv')&&_0x4e6f43['geometry']['deleteAttribute']('uv'),((_0x5a0d2f=this['modelCfg'])===null||_0x5a0d2f===void 0x0?void 0x0:_0x5a0d2f['merge'])&&_0x4e6f43['geometry']&&(_0x4e6f43['geometry']['translate'](0x0,0x0,zOrder),zOrder+=zOrderStep),(_0x487d32=this['pdfPageGroup'])===null||_0x487d32===void 0x0?void 0x0:_0x487d32['add'](_0x2abc5c);}async['executeOperatorList'](_0x5c0154,_0x5b8e58){var _0x44d0d6;const _0x5831eb=_0x5c0154['argsArray'],_0x3a6612=_0x5c0154['fnArray'],_0x3be240=_0x5831eb['length'],_0x463f32=CommonUtils['getUpdateProgressFuncForLoop'](_0x3be240,_0x5b8e58),_0x1b9638=this['commonObjs'],_0x14f162=this['objs'];let _0x18d94b=0x0;while(_0x18d94b<_0x3be240){const _0x119fa6=_0x3a6612[_0x18d94b];if(_0x119fa6!==pdfjsLib['OPS']['dependency'])(_0x44d0d6=this[_0x119fa6])===null||_0x44d0d6===void 0x0?void 0x0:_0x44d0d6['apply'](this,_0x5831eb[_0x18d94b]);else for(const _0x2dda55 of _0x5831eb[_0x18d94b]){const _0x2cda8b=_0x2dda55['startsWith']('g_')?_0x1b9638:_0x14f162;!_0x2cda8b['has'](_0x2dda55)&&console['warn']('Why\x20it\x20runs\x20here?!');}_0x18d94b++,await _0x463f32(_0x18d94b);}}['setLineWidth'](_0x522a98){this['current']['lineWidth']=_0x522a98,_0x522a98>0x1&&this['lineWithWidthCount']++;}['setLineCap'](_0x250207){this['current']['lineCap']=_0x250207;}['setLineJoin'](_0x31544f){this['current']['lineJoin']=_0x31544f;}['setMiterLimit'](_0x2be601){this['current']['miterLimit']=_0x2be601;}['setDash'](_0x5ab4f4,_0x4a5300){}['setRenderingIntent'](_0x382bf7){}['setFlatness'](_0x3b91a2){}['setGState'](_0xd844d){for(const [_0x556496,_0x596667]of _0xd844d){switch(_0x556496){case'LW':this['setLineWidth'](_0x596667);break;case'LC':this['setLineCap'](_0x596667);break;case'LJ':this['setLineJoin'](_0x596667);break;case'ML':this['setMiterLimit'](_0x596667);break;case'D':this['setDash'](_0x596667[0x0],_0x596667[0x1]);break;case'RI':this['setRenderingIntent'](_0x596667);break;case'FL':this['setFlatness'](_0x596667);break;case'Font':this['setFont'](_0x596667[0x0],_0x596667[0x1]);break;case'CA':this['current']['strokeAlpha']=_0x596667;break;case'ca':this['current']['fillAlpha']=_0x596667;break;case'BM':break;case'SMask':this['current']['activeSMask']=_0x596667?this['tempSMask']:null,this['tempSMask']=null;break;}}}['save'](){const _0x4a3c98=this['current'];this['transformStack']['push'](this['currentTransform']['clone']()),this['stateStack']['push'](_0x4a3c98),this['current']=_0x4a3c98['clone']();}['restore'](){this['stateStack']['length']!==0x0&&(this['current']=this['stateStack']['pop']()),this['transformStack']['length']!==0x0&&this['currentTransform']['copy'](this['transformStack']['pop']()),this['pendingClip']=null,this['paths']=[];}['transform'](_0x5be4e4,_0x29366a,_0x37edaf,_0x5d5c82,_0x12db5c,_0x5eab3f){const _0x372dd8=tempMatrix4['set'](_0x5be4e4,_0x37edaf,0x0,_0x12db5c,_0x29366a,_0x5d5c82,0x0,_0x5eab3f,0x0,0x0,0x1,0x0,0x0,0x0,0x0,0x1);this['currentTransform']['multiply'](_0x372dd8);}['moveTo'](){}['lineTo'](){}['curveTo'](){}['curveTo2'](){}['curveTo3'](){}['closePath'](){this['currentPath']&&this['currentPath']['curves']['length']>0x0&&(this['currentPath']['closePath'](),this['paths']['push'](this['currentPath']['clone']()),this['currentPath']=undefined);}['rectangle'](){}['stroke'](_0x346bac=!![]){if(this['contentVisible']){const _0xc207d6=this['current']['strokeColor'],_0x48a7ab=this['current']['strokeAlpha'],_0xcaa97b=[],_0x4c374f=[];for(let _0x34eb64=0x0;_0x34eb64<this['paths']['length'];_0x34eb64++){const _0x4b7931=this['paths'][_0x34eb64],_0x476259=_0x4b7931['getPoints'](),_0x5d5d27=_0x476259['length']===0x1,_0x1c882a=new THREE['BufferGeometry']()['setFromPoints'](_0x4b7931['getPoints']());_0x1c882a['applyMatrix4'](this['currentTransform']),_0x5d5d27?_0xcaa97b['push'](_0x1c882a):_0x4c374f['push'](_0x1c882a);}if(_0xcaa97b['length']>0x0){const _0x52f021=THREEAddons['BufferGeometryUtils']['mergeGeometries'](_0xcaa97b),_0x42e22e=new THREE['Points'](_0x52f021,this['getPointsMaterial'](_0xc207d6,_0x48a7ab));this['addObjectToModel'](_0x42e22e);}if(_0x4c374f['length']>0x0){const _0x527750=THREEAddons['BufferGeometryUtils']['mergeGeometries'](_0x4c374f),_0x39ddb8=new THREE['Line'](_0x527750,this['getLineBasicMaterial'](_0xc207d6,_0x48a7ab));this['addObjectToModel'](_0x39ddb8);}}_0x346bac&&this['consumePath'](this['current']['getClippedPathBoundingBox']());}['closeStroke'](){this['closePath'](),this['stroke']();}['fill'](_0x333e8d=!![]){if(this['paths']['length']===0x0)return;this['current']['patternFill']&&log['warn']('[PdfLoader]\x20fill\x20pattern\x20not\x20supported\x20now.');const _0x1964fb=this['current']['getClippedPathBoundingBox']();if(this['contentVisible']&&_0x1964fb!==null){const _0x5dc669=[];if(this['clipPaths']){const _0x5c7e9a=new clipperExports.PolyTree(),_0x167641=new clipperExports.Clipper(),_0x34c912=this['paths']['map'](_0x449e8e=>{return _0x449e8e['getPoints']()['map'](_0x232efd=>{return {'X':_0x232efd['x'],'Y':_0x232efd['y']};});}),_0x531401=this['clipPaths']['map'](_0x48aa53=>{return _0x48aa53['getPoints']()['map'](_0xeb92fd=>{return {'X':_0xeb92fd['x'],'Y':_0xeb92fd['y']};});}),_0x36069f=0x64;clipperExports.JS['ScaleUpPaths'](_0x34c912,_0x36069f),clipperExports.JS['ScaleUpPaths'](_0x531401,_0x36069f),_0x167641['AddPaths'](_0x34c912,clipperExports.PolyType['ptSubject'],!![]),_0x167641['AddPaths'](_0x531401,clipperExports.PolyType['ptClip'],!![]),_0x167641['Execute'](clipperExports.ClipType['ctIntersection'],_0x5c7e9a,this['pendingEOFill']?clipperExports.PolyFillType['pftEvenOdd']:clipperExports.PolyFillType['pftNonZero'],this['clipType']);const _0x2bb9fb=clipperExports.JS['PolyTreeToExPolygons'](_0x5c7e9a);for(let _0x190743=0x0;_0x190743<_0x2bb9fb['length'];_0x190743++){const {outer:_0x52bd51,holes:_0x12eebe}=_0x2bb9fb[_0x190743],_0x44ca54=new THREE['Shape']();_0x44ca54['setFromPoints'](_0x52bd51['map'](_0x4b67b5=>new THREE['Vector2'](_0x4b67b5['X']/_0x36069f,_0x4b67b5['Y']/_0x36069f))),_0x12eebe['length']>0x0&&_0x12eebe['forEach'](_0x5e7af9=>{const _0x5d9d35=new THREE['Shape']();_0x5d9d35['setFromPoints'](_0x5e7af9['map'](_0x27179c=>new THREE['Vector2'](_0x27179c['X']/_0x36069f,_0x27179c['Y']/_0x36069f))),_0x44ca54['holes']['push'](_0x5d9d35);}),_0x5dc669['push'](_0x44ca54);}this['clipPaths']=undefined;}let _0x47778f;if(_0x5dc669['length']>0x0)_0x47778f=new THREE['ShapeGeometry'](_0x5dc669);else {const _0x39dc8a=this['paths']['map'](_0x3ebab9=>new THREE['ShapeGeometry'](_0x3ebab9));_0x47778f=THREEAddons['BufferGeometryUtils']['mergeGeometries'](_0x39dc8a);}_0x47778f['applyMatrix4'](this['currentTransform']);const _0x19b787=this['current']['fillColor'],_0x4fe492=this['current']['fillAlpha'],_0x3193e1=new THREE['Mesh'](_0x47778f,this['getMeshBasicMaterial'](_0x19b787,_0x4fe492));this['addObjectToModel'](_0x3193e1),this['pendingEOFill']=![];}_0x333e8d&&this['consumePath'](_0x1964fb);}['eoFill'](){this['pendingEOFill']=!![],this['fill']();}['fillStroke'](){this['fill'](![]),this['consumePath']();}['eoFillStroke'](){this['pendingEOFill']=!![],this['fillStroke']();}['closeFillStroke'](){this['closePath'](),this['fillStroke']();}['closeEOFillStroke'](){this['pendingEOFill']=!![],this['closePath'](),this['fillStroke']();}['endPath'](){this['consumePath']();}['clip'](){this['pendingClip']=NORMAL_CLIP;}['eoClip'](){this['pendingClip']=EO_CLIP;}['beginText'](){this['current']['textMatrix']=IDENTITY_MATRIX,this['current']['textMatrixScale']=0x1,this['current']['x']=this['current']['lineX']=0x0,this['current']['y']=this['current']['lineY']=0x0;}['endText'](){this['currentPath']=new THREE['Shape']();}['setCharSpacing'](_0x2caa95){this['current']['charSpacing']=_0x2caa95;}['setWordSpacing'](_0x5e64df){this['current']['wordSpacing']=_0x5e64df;}['setHScale'](_0x4af5d6){this['current']['textHScale']=_0x4af5d6/0x64;}['setLeading'](_0x5c5a23){this['current']['leading']=-_0x5c5a23;}['setFont'](_0x346a3a,_0xaa322b){const _0x2d5a71=this['commonObjs']['get'](_0x346a3a),_0x249bb1=this['current'];if(!_0x2d5a71)throw new Error('Can\x27t\x20find\x20font\x20for\x20'+_0x346a3a);_0x249bb1['fontMatrix']=_0x2d5a71['fontMatrix']||FONT_IDENTITY_MATRIX;(_0x249bb1['fontMatrix'][0x0]===0x0||_0x249bb1['fontMatrix'][0x3]===0x0)&&log['warn']('Invalid\x20font\x20matrix\x20for\x20font\x20'+_0x346a3a);_0xaa322b<0x0?(_0xaa322b=-_0xaa322b,_0x249bb1['fontDirection']=-0x1):_0x249bb1['fontDirection']=0x1;this['current']['font']=_0x2d5a71,this['current']['fontSize']=_0xaa322b;if(_0x2d5a71['isType3Font'])return;let _0x532349=_0xaa322b;if(_0xaa322b<MIN_FONT_SIZE)_0x532349=MIN_FONT_SIZE;else _0xaa322b>MAX_FONT_SIZE&&(_0x532349=MAX_FONT_SIZE);this['current']['fontSizeScale']=_0xaa322b/_0x532349,this['current']['browserFontSize']=_0x532349;}['setTextRenderingMode'](_0x159cd1){this['current']['textRenderingMode']=_0x159cd1;}['setTextRise'](_0x2d33c6){this['current']['textRise']=_0x2d33c6;}['moveText'](_0x59c3dc,_0x169d70){this['current']['x']=this['current']['lineX']+=_0x59c3dc,this['current']['y']=this['current']['lineY']+=_0x169d70;}['setLeadingMoveText'](){}['setTextMatrix'](_0x2bafe1,_0x11ceec,_0x43a7f1,_0x55de69,_0x16c74d,_0x5e58f9){this['current']['textMatrix']=[_0x2bafe1,_0x11ceec,_0x43a7f1,_0x55de69,_0x16c74d,_0x5e58f9],this['current']['textMatrixScale']=Math['hypot'](_0x2bafe1,_0x11ceec),this['current']['x']=this['current']['lineX']=0x0,this['current']['y']=this['current']['lineY']=0x0;}['nextLine'](){this['moveText'](0x0,this['current']['leading']);}['paintChar'](_0x42fcd1,_0x11e5e7,_0x5e62de){var _0x5c6077,_0x36b18f,_0x5eb88d,_0x49c6e2;const _0x2c28e0=this['current'],_0x598579=_0x2c28e0['font'],_0xeb33e8=_0x2c28e0['textRenderingMode'],_0xf7152f=_0x2c28e0['fontSize']/_0x2c28e0['fontSizeScale'],_0xfec640=_0xeb33e8&TextRenderingMode['FillStrokeMask'],_0x471a49=!!(_0xeb33e8&TextRenderingMode['AddToPathFlag']),_0xdea73c=_0x2c28e0['patternFill']&&!_0x598579['missingFile'];let _0x4f0242;(_0x598579['disableFontFace']||_0x471a49||_0xdea73c)&&(_0x4f0242=_0x598579['getPathGenerator'](this['commonObjs'],_0x42fcd1));let _0x3c2a6a;return _0x598579['disableFontFace']||_0xdea73c?log['log']('paintChar\x20path:',_0x4f0242,_0xf7152f,_0xfec640):((_0xfec640===TextRenderingMode['Fill']||_0xfec640===TextRenderingMode['FillStroke'])&&(_0x3c2a6a=(_0x5c6077=this['fontManager'])===null||_0x5c6077===void 0x0?void 0x0:_0x5c6077['getCharShape'](_0x42fcd1,(_0x36b18f=this['current']['font'])===null||_0x36b18f===void 0x0?void 0x0:_0x36b18f['name'],this['current']['browserFontSize']*0.8)),(_0xfec640===TextRenderingMode['Stroke']||_0xfec640===TextRenderingMode['FillStroke'])&&(_0x3c2a6a=(_0x5eb88d=this['fontManager'])===null||_0x5eb88d===void 0x0?void 0x0:_0x5eb88d['getCharShape'](_0x42fcd1,(_0x49c6e2=this['current']['font'])===null||_0x49c6e2===void 0x0?void 0x0:_0x49c6e2['name'],this['current']['browserFontSize']*0.8))),_0x3c2a6a;}['showText'](_0x5ab364){var _0x53e3a4,_0x3fd493;const _0x50ec2c=this['current'],_0x45683b=_0x50ec2c['font'];if(_0x45683b['isType3Font'])return this['showType3Text'](_0x5ab364);const _0x5a5b58=_0x50ec2c['fontSize'];if(_0x5a5b58===0x0)return undefined;const _0xf7e7cb=_0x50ec2c['fontSizeScale'],_0x5c5fc6=_0x50ec2c['charSpacing'],_0x31ce62=_0x50ec2c['wordSpacing'],_0x476969=_0x50ec2c['fontDirection'],_0x19ea58=_0x50ec2c['textHScale']*_0x476969,_0x42d02a=_0x5ab364['length'],_0x5c6fc0=_0x45683b['vertical'],_0xcd79b5=_0x5c6fc0?0x1:-0x1,_0x54b057=_0x45683b['defaultVMetrics'],_0xfc6021=_0x5a5b58*_0x50ec2c['fontMatrix'][0x0],_0x2685ec=_0x50ec2c['textRenderingMode']===TextRenderingMode['Fill']&&!_0x45683b['disableFontFace']&&!_0x50ec2c['patternFill'],[_0x4abf2b,_0x70b03e,_0x1230fc,_0x526b9e,_0x5f50fa,_0x3aec1b]=_0x50ec2c['textMatrix'],_0x5a19b3=this['currentTransform']['clone']();_0x5a19b3['multiply'](tempMatrix4['set'](_0x4abf2b,_0x1230fc,0x0,_0x5f50fa,_0x70b03e,_0x526b9e,0x0,_0x3aec1b,0x0,0x0,0x1,0x0,0x0,0x0,0x0,0x1)),_0x5a19b3['multiply'](tempMatrix4['makeTranslation'](_0x50ec2c['x'],_0x50ec2c['y']+_0x50ec2c['textRise'],0x0));_0x476969>0x0?_0x5a19b3['scale'](new THREE['Vector3'](_0x19ea58,0x1,0x1)):_0x5a19b3['scale'](new THREE['Vector3'](_0x19ea58,-0x1,0x1));let _0x19f655=_0x50ec2c['lineWidth'];const _0x12dd6a=_0x50ec2c['textMatrixScale'];if(_0x12dd6a===0x0||_0x19f655===0x0){_0x50ec2c['textRenderingMode']&TextRenderingMode['FillStrokeMask'];}else _0x19f655/=_0x12dd6a;_0xf7e7cb!==0x1&&(_0x5a19b3['scale'](new THREE['Vector3'](_0xf7e7cb,_0xf7e7cb,0x1)),_0x19f655/=_0xf7e7cb);let _0x581216=0x0,_0x881d01;const _0x5489dd=[];for(_0x881d01=0x0;_0x881d01<_0x42d02a;++_0x881d01){const _0x12526a=_0x5ab364[_0x881d01];if(typeof _0x12526a==='number'){_0x581216+=_0xcd79b5*_0x12526a*_0x5a5b58/0x3e8;continue;}const _0x397c00=(_0x12526a['isSpace']?_0x31ce62:0x0)+_0x5c5fc6,_0x576661=_0x12526a['unicode'],_0x44d59b=_0x12526a['accent'];let _0x14c97e,_0x4a270e,_0xf80938=_0x12526a['width'];if(_0x5c6fc0){const _0x2e85ee=_0x12526a['vmetric']||_0x54b057,_0x46d639=-(_0x12526a['vmetric']?_0x2e85ee[0x1]:_0xf80938*0.5)*_0xfc6021,_0x997cec=_0x2e85ee[0x2]*_0xfc6021;_0xf80938=_0x2e85ee?-_0x2e85ee[0x0]:_0xf80938,_0x14c97e=_0x46d639/_0xf7e7cb,_0x4a270e=(_0x581216+_0x997cec)/_0xf7e7cb;}else _0x14c97e=_0x581216/_0xf7e7cb,_0x4a270e=0x0;if(_0x45683b['remeasure']&&_0xf80938>0x0);if(this['contentVisible']&&(_0x12526a['isInFont']||_0x45683b['missingFile'])){if(_0x2685ec&&!_0x44d59b){const _0x155b49=(_0x53e3a4=this['fontManager'])===null||_0x53e3a4===void 0x0?void 0x0:_0x53e3a4['getCharShape'](_0x576661,(_0x3fd493=this['current']['font'])===null||_0x3fd493===void 0x0?void 0x0:_0x3fd493['name'],this['current']['browserFontSize']);_0x155b49&&(_0x155b49['translate'](_0x14c97e,_0x4a270e,0x0),_0x155b49['applyMatrix4'](_0x5a19b3),_0x5489dd['push'](_0x155b49));}else {const _0x2f888e=this['paintChar'](_0x576661,_0x14c97e,_0x4a270e);_0x2f888e&&(_0x2f888e['translate'](_0x14c97e,_0x4a270e,0x0),_0x2f888e['applyMatrix4'](_0x5a19b3),_0x5489dd['push'](_0x2f888e));}}let _0x28de7c;_0x5c6fc0?_0x28de7c=_0xf80938*_0xfc6021-_0x397c00*_0x476969:_0x28de7c=_0xf80938*_0xfc6021+_0x397c00*_0x476969;_0x581216+=_0x28de7c;}if(_0x5489dd['length']>0x0){const _0x2f1c59=_0x5489dd['filter'](_0xec080f=>_0xec080f instanceof THREE['ExtrudeGeometry']),_0x545ceb=_0x5489dd['filter'](_0x42a4a5=>!(_0x42a4a5 instanceof THREE['ExtrudeGeometry']));if(_0x2f1c59['length']>0x0){const _0x27b5a0=_0x2f1c59['length']>0x1?THREEAddons['BufferGeometryUtils']['mergeGeometries'](_0x2f1c59):_0x2f1c59[0x0],_0x32c449=new THREE['Mesh'](_0x27b5a0,this['getMeshBasicMaterial'](this['current']['fillColor']));this['addObjectToModel'](_0x32c449),_0x32c449['layers']['disable'](LayerForSnapableObjects);}if(_0x545ceb['length']>0x0){const _0x31a895=_0x545ceb['length']>0x1?THREEAddons['BufferGeometryUtils']['mergeGeometries'](_0x545ceb):_0x545ceb[0x0],_0x33fde6=new THREE['LineSegments'](_0x31a895,this['getLineBasicMaterial'](this['current']['fillColor']));this['addObjectToModel'](_0x33fde6),_0x33fde6['layers']['disable'](LayerForSnapableObjects);}}_0x5c6fc0?_0x50ec2c['y']-=_0x581216:_0x50ec2c['x']+=_0x581216*_0x19ea58;}['showType3Text'](_0x5c18d2){}['setCharWidth'](_0x27d96a,_0x5c2f87){}['setCharWidthAndBounds'](_0x17bd22,_0x5356c3,_0x6de613,_0x5b39cc,_0x1d0d40,_0x7281c5){}['setStrokeColor'](){}['setStrokeColorN'](){}['setFillColorN'](){this['current']['patternFill']=!![];}['setStrokeRGBColor'](_0x51dc02,_0x43250d,_0x283e3c){this['current']['strokeColor']=tempColor['setRGB'](_0x51dc02/0xff,_0x43250d/0xff,_0x283e3c/0xff)['convertSRGBToLinear']()['getHex']();}['setFillRGBColor'](_0x37c2af,_0x4fa2f6,_0xaba637){this['current']['fillColor']=tempColor['setRGB'](_0x37c2af/0xff,_0x4fa2f6/0xff,_0xaba637/0xff)['convertSRGBToLinear']()['getHex'](),this['current']['patternFill']=![];}['shadingFill'](){}['beginInlineImage'](){}['beginImageData'](){}['markPoint'](_0x5398ca){}['markPointProps'](_0xd1a48,_0x2194cb){}['beginMarkedContent'](_0x7faa8){log['log']('beginMarkedContent',_0x7faa8),this['markedContentStack']['push']({'visible':!![]});}['beginMarkedContentProps'](_0x57345e,_0x352238){if(_0x57345e==='OC'){this['markedContentStack']['push']({'visible':this['optionalContentConfig']['isVisible'](_0x352238)});const _0x3bfef3=this['optionalContentConfig']['getGroup'](_0x352238===null||_0x352238===void 0x0?void 0x0:_0x352238['id']);this['currentLayerId']=(_0x3bfef3===null||_0x3bfef3===void 0x0?void 0x0:_0x3bfef3['name'])||this['defaultLayerId'];}else this['markedContentStack']['push']({'visible':!![]});this['contentVisible']=this['isContentVisible']();}['endMarkedContent'](){this['markedContentStack']['pop'](),this['contentVisible']=this['isContentVisible']();}['beginCompat'](){}['endCompat'](){}['consumePath'](_0x126940){const _0x3cbe52=this['current']['isEmptyClip']();this['pendingClip']&&this['current']['updateClipFromPath']();if(!this['pendingClip']);this['pendingClip']&&(!_0x3cbe52&&(this['pendingClip']===EO_CLIP?this['clipType']=clipperExports.PolyFillType['pftEvenOdd']:this['clipType']=clipperExports.PolyFillType['pftNonZero'],this['clipPaths']=this['paths']['slice']()),this['pendingClip']=null),this['current']['startNewPathAndClipBox'](this['current']['clipBox']),this['paths']=[],this['currentPath']=undefined;}['paintFormXObjectBegin'](_0x44c167,_0x4b16f7){log['log']('paintFormXObjectBegin',_0x44c167,_0x4b16f7);}['paintFormXObjectEnd'](){}['beginGroup'](){}['endGroup'](){}['beginAnnotation'](){}['endAnnotation'](){}['paintImageMaskXObject'](){}['paintImageMaskXObjectGroup'](){}['paintImageXObject'](_0x4dbfca){if(!this['contentVisible'])return;const _0x53f5df=this['getObject'](_0x4dbfca);if(!_0x53f5df){log['warn']('Dependent\x20image\x20isn\x27t\x20ready\x20yet');return;}this['paintInlineImageXObject'](_0x53f5df);}['paintInlineImageXObject'](_0x11cf53){if(!this['contentVisible'])return;log['log']('paintInlineImageXObject',_0x11cf53),this['save']();const {bitmap:_0x5425c5,width:_0x346744,height:_0x23a894}=_0x11cf53;this['currentTransform']['multiply'](tempMatrix4['makeScale'](0x1/_0x346744,-0x1/_0x23a894,0x1));const _0xfdfc62=new THREE['CanvasTexture'](_0x5425c5),_0xc05a77=new THREE['MeshBasicMaterial']({'map':_0xfdfc62,'transparent':!![]}),_0x3b6ca9=new THREE['PlaneGeometry'](_0x346744,_0x23a894),_0x4ee41f=new THREE['Mesh'](_0x3b6ca9,_0xc05a77);_0x4ee41f['translateX'](_0x346744/0x2),_0x4ee41f['translateY'](-_0x23a894/0x2),_0x4ee41f['applyMatrix4'](this['currentTransform']),this['addObjectToModel'](_0x4ee41f),this['restore']();}['paintInlineImageXObjectGroup'](){}['paintImageXObjectRepeat'](){}['paintImageMaskXObjectRepeat'](){}['paintSolidColorImageMask'](){}['_scaleImage'](_0x36516e,_0x5a2499){const _0x155e4a=_0x36516e['width'],_0x328e4f=_0x36516e['height'];let _0xabf243=Math['max'](Math['hypot'](_0x5a2499['elements'][0x0],_0x5a2499['elements'][0x4]),0x1),_0x133888=Math['max'](Math['hypot'](_0x5a2499['elements'][0x1],_0x5a2499['elements'][0x5]),0x1),_0xb38d75=_0x155e4a,_0x398c32=_0x328e4f,_0x55b382=_0xb38d75,_0x1b751b=_0x398c32;while(_0xabf243>0x2&&_0xb38d75>0x1||_0x133888>0x2&&_0x398c32>0x1){_0xabf243>0x2&&_0xb38d75>0x1&&(_0x55b382=_0xb38d75>=0x4000?Math['floor'](_0xb38d75/0x2)-0x1||0x1:Math['ceil'](_0xb38d75/0x2),_0xabf243/=_0xb38d75/_0x55b382),_0x133888>0x2&&_0x398c32>0x1&&(_0x1b751b=_0x398c32>=0x4000?Math['floor'](_0x398c32/0x2)-0x1||0x1:Math['ceil'](_0x398c32)/0x2,_0x133888/=_0x398c32/_0x1b751b),_0xb38d75=_0x55b382,_0x398c32=_0x1b751b;}return {'paintWidth':_0xb38d75,'paintHeight':_0x398c32};}['constructPath'](_0x5c2704,_0x432380,_0x20ca22){const _0x2cb15c=this['current'];let _0x483477=_0x2cb15c['x'],_0x37cba9=_0x2cb15c['y'],_0x1df649,_0x1815e6;const _0x36caf8=[this['currentTransform']['elements'][0x0],this['currentTransform']['elements'][0x1],this['currentTransform']['elements'][0x4],this['currentTransform']['elements'][0x5],this['currentTransform']['elements'][0xc],this['currentTransform']['elements'][0xd]],_0x937144=_0x36caf8[0x0]===0x0&&_0x36caf8[0x3]===0x0||_0x36caf8[0x1]===0x0&&_0x36caf8[0x2]===0x0,_0x4b5958=_0x937144?_0x20ca22['slice'](0x0):null;for(let _0x82aa0a=0x0,_0x4b121=0x0,_0x408555=_0x5c2704['length'];_0x82aa0a<_0x408555;_0x82aa0a++){!this['currentPath']&&(this['currentPath']=new THREE['Shape']());switch(_0x5c2704[_0x82aa0a]|0x0){case pdfjsLib['OPS']['rectangle']:{_0x483477=_0x432380[_0x4b121++],_0x37cba9=_0x432380[_0x4b121++];const _0x532a19=_0x432380[_0x4b121++],_0x20cbf2=_0x432380[_0x4b121++],_0x493306=_0x483477+_0x532a19,_0x637d64=_0x37cba9+_0x20cbf2;this['currentPath']['moveTo'](_0x483477,_0x37cba9),_0x532a19===0x0||_0x20cbf2===0x0?this['currentPath']['lineTo'](_0x493306,_0x637d64):(this['currentPath']['lineTo'](_0x493306,_0x37cba9),this['currentPath']['lineTo'](_0x493306,_0x637d64),this['currentPath']['lineTo'](_0x483477,_0x637d64)),!_0x937144&&_0x2cb15c['updateRectMinMax'](_0x36caf8,[_0x483477,_0x37cba9,_0x493306,_0x637d64]),this['currentPath']['closePath'](),this['paths']['push'](this['currentPath']['clone']()),this['currentPath']=undefined;}break;case pdfjsLib['OPS']['moveTo']:_0x483477=_0x432380[_0x4b121++],_0x37cba9=_0x432380[_0x4b121++],this['currentPath']['moveTo'](_0x483477,_0x37cba9);!_0x937144&&_0x2cb15c['updatePathMinMax'](_0x36caf8,_0x483477,_0x37cba9);break;case pdfjsLib['OPS']['lineTo']:_0x483477=_0x432380[_0x4b121++],_0x37cba9=_0x432380[_0x4b121++],this['currentPath']['lineTo'](_0x483477,_0x37cba9);!_0x937144&&_0x2cb15c['updatePathMinMax'](_0x36caf8,_0x483477,_0x37cba9);break;case pdfjsLib['OPS']['curveTo']:_0x1df649=_0x483477,_0x1815e6=_0x37cba9,_0x483477=_0x432380[_0x4b121+0x4],_0x37cba9=_0x432380[_0x4b121+0x5],this['currentPath']['bezierCurveTo'](_0x432380[_0x4b121],_0x432380[_0x4b121+0x1],_0x432380[_0x4b121+0x2],_0x432380[_0x4b121+0x3],_0x483477,_0x37cba9),_0x2cb15c['updateCurvePathMinMax'](_0x36caf8,_0x1df649,_0x1815e6,_0x432380[_0x4b121],_0x432380[_0x4b121+0x1],_0x432380[_0x4b121+0x2],_0x432380[_0x4b121+0x3],_0x483477,_0x37cba9,_0x4b5958),_0x4b121+=0x6;break;case pdfjsLib['OPS']['curveTo2']:_0x1df649=_0x483477,_0x1815e6=_0x37cba9,this['currentPath']['bezierCurveTo'](_0x483477,_0x37cba9,_0x432380[_0x4b121],_0x432380[_0x4b121+0x1],_0x432380[_0x4b121+0x2],_0x432380[_0x4b121+0x3]),_0x2cb15c['updateCurvePathMinMax'](_0x36caf8,_0x1df649,_0x1815e6,_0x483477,_0x37cba9,_0x432380[_0x4b121],_0x432380[_0x4b121+0x1],_0x432380[_0x4b121+0x2],_0x432380[_0x4b121+0x3],_0x4b5958),_0x483477=_0x432380[_0x4b121+0x2],_0x37cba9=_0x432380[_0x4b121+0x3],_0x4b121+=0x4;break;case pdfjsLib['OPS']['curveTo3']:_0x1df649=_0x483477,_0x1815e6=_0x37cba9,_0x483477=_0x432380[_0x4b121+0x2],_0x37cba9=_0x432380[_0x4b121+0x3],this['currentPath']['bezierCurveTo'](_0x432380[_0x4b121],_0x432380[_0x4b121+0x1],_0x483477,_0x37cba9,_0x483477,_0x37cba9),_0x2cb15c['updateCurvePathMinMax'](_0x36caf8,_0x1df649,_0x1815e6,_0x432380[_0x4b121],_0x432380[_0x4b121+0x1],_0x483477,_0x37cba9,_0x483477,_0x37cba9,_0x4b5958),_0x4b121+=0x4;break;case pdfjsLib['OPS']['closePath']:this['paths']['push'](this['currentPath']['clone']()),this['currentPath']=undefined;break;}}this['currentPath']&&this['paths']['push'](this['currentPath']['clone']()),_0x937144&&_0x2cb15c['updateScalingPathMinMax'](_0x36caf8,_0x4b5958),this['current']['setCurrentPoint'](_0x483477,_0x37cba9);}['isContentVisible'](){for(let _0x4c9ef0=this['markedContentStack']['length']-0x1;_0x4c9ef0>=0x0;_0x4c9ef0--){if(!this['markedContentStack'][_0x4c9ef0]['visible'])return ![];}return !![];}}PdfLoader['MODEL_LAYOUT_NAME']='Model';if(window['pdfjsLib'])for(const op in pdfjsLib['OPS']){PdfLoader['prototype'][op]!==undefined&&(PdfLoader['prototype'][pdfjsLib['OPS'][op]]=PdfLoader['prototype'][op]);}class CanvasExtraState{constructor(_0x3a102a,_0x5aff61){this['textMatrix']=IDENTITY_MATRIX,this['fontMatrix']=FONT_IDENTITY_MATRIX,this['textRenderingMode']=TextRenderingMode['Fill'],this['fillColor']=0x0,this['strokeColor']=0x0,this['activeSMask']=null,this['lineCap']=0x0,this['lineJoin']=0x0,this['miterLimit']=0x0,this['alphaIsShape']=![],this['fontSize']=0x0,this['fontSizeScale']=0x1,this['browserFontSize']=0x1,this['textMatrix']=IDENTITY_MATRIX,this['textMatrixScale']=0x1,this['fontMatrix']=FONT_IDENTITY_MATRIX,this['leading']=0x0,this['x']=0x0,this['y']=0x0,this['lineX']=0x0,this['lineY']=0x0,this['charSpacing']=0x0,this['wordSpacing']=0x0,this['textHScale']=0x1,this['textRenderingMode']=TextRenderingMode['Fill'],this['textRise']=0x0,this['fillColor']=0x0,this['strokeColor']=0x0,this['patternFill']=![],this['fillAlpha']=0x1,this['strokeAlpha']=0x1,this['lineWidth']=0x1,this['activeSMask']=null,this['transferMaps']='none',this['ctxMatrix']=new THREE['Matrix3'](),this['clipBox']=[0x0,0x0,_0x3a102a,_0x5aff61],this['minX']=Infinity,this['minY']=Infinity,this['maxX']=0x0,this['maxY']=0x0;}['clone'](){const _0x2979d7=Object['create'](this);return _0x2979d7;}['setCurrentPoint'](_0x59a409,_0xef1d66){this['x']=_0x59a409,this['y']=_0xef1d66;}['startNewPathAndClipBox'](_0x9832ca){this['clipBox']=_0x9832ca,this['minX']=Infinity,this['minY']=Infinity,this['maxX']=0x0,this['maxY']=0x0;}['updatePathMinMax'](_0x17026e,_0x41f3fd,_0xdd6de9){[_0x41f3fd,_0xdd6de9]=pdfjsLib['Util']['applyTransform']([_0x41f3fd,_0xdd6de9],_0x17026e),this['minX']=Math['min'](this['minX'],_0x41f3fd),this['minY']=Math['min'](this['minY'],_0xdd6de9),this['maxX']=Math['max'](this['maxX'],_0x41f3fd),this['maxY']=Math['max'](this['maxY'],_0xdd6de9);}['getPathBoundingBox'](_0x324382=PathType['Fill'],_0x449d92=null){const _0x49581e=[this['minX'],this['minY'],this['maxX'],this['maxY']];if(_0x324382===PathType['Stroke']){if(!_0x449d92)throw new Error('Stroke\x20bounding\x20box\x20must\x20include\x20transform.');const _0x51dbca=pdfjsLib['Util']['singularValueDecompose2dScale'](_0x449d92),_0x54d7f6=_0x51dbca[0x0]*this['lineWidth']/0x2,_0x4534b5=_0x51dbca[0x1]*this['lineWidth']/0x2;_0x49581e[0x0]-=_0x54d7f6,_0x49581e[0x1]-=_0x4534b5,_0x49581e[0x2]+=_0x54d7f6,_0x49581e[0x3]+=_0x4534b5;}return _0x49581e;}['updateRectMinMax'](_0xfa6864,_0x321e45){const _0x1cbf6f=pdfjsLib['Util']['applyTransform'](_0x321e45,_0xfa6864),_0x2fd9a1=pdfjsLib['Util']['applyTransform'](_0x321e45['slice'](0x2),_0xfa6864);this['minX']=Math['min'](this['minX'],_0x1cbf6f[0x0],_0x2fd9a1[0x0]),this['minY']=Math['min'](this['minY'],_0x1cbf6f[0x1],_0x2fd9a1[0x1]),this['maxX']=Math['max'](this['maxX'],_0x1cbf6f[0x0],_0x2fd9a1[0x0]),this['maxY']=Math['max'](this['maxY'],_0x1cbf6f[0x1],_0x2fd9a1[0x1]);}['updateScalingPathMinMax'](_0x376fb6,_0x32850f){pdfjsLib['Util']['scaleMinMax'](_0x376fb6,_0x32850f),this['minX']=Math['min'](this['minX'],_0x32850f[0x0]),this['maxX']=Math['max'](this['maxX'],_0x32850f[0x1]),this['minY']=Math['min'](this['minY'],_0x32850f[0x2]),this['maxY']=Math['max'](this['maxY'],_0x32850f[0x3]);}['updateCurvePathMinMax'](_0x4614b3,_0x5e67ba,_0x69ccdb,_0x638534,_0x42a6ca,_0x5f44ca,_0x785238,_0x4da38a,_0x253b22,_0x78fe90){const _0x1dab27=pdfjsLib['Util']['bezierBoundingBox'](_0x5e67ba,_0x69ccdb,_0x638534,_0x42a6ca,_0x5f44ca,_0x785238,_0x4da38a,_0x253b22);if(_0x78fe90){_0x78fe90[0x0]=Math['min'](_0x78fe90[0x0],_0x1dab27[0x0],_0x1dab27[0x2]),_0x78fe90[0x1]=Math['max'](_0x78fe90[0x1],_0x1dab27[0x0],_0x1dab27[0x2]),_0x78fe90[0x2]=Math['min'](_0x78fe90[0x2],_0x1dab27[0x1],_0x1dab27[0x3]),_0x78fe90[0x3]=Math['max'](_0x78fe90[0x3],_0x1dab27[0x1],_0x1dab27[0x3]);return;}this['updateRectMinMax'](_0x4614b3,_0x1dab27);}['updateClipFromPath'](){const _0x51bb85=pdfjsLib['Util']['intersect'](this['clipBox'],this['getPathBoundingBox']());this['startNewPathAndClipBox'](_0x51bb85||[0x0,0x0,0x0,0x0]);}['isEmptyClip'](){return this['minX']===Infinity;}['getClippedPathBoundingBox'](_0x52fccb=PathType['Fill'],_0x57e9c2=null){return pdfjsLib['Util']['intersect'](this['clipBox'],this['getPathBoundingBox'](_0x52fccb,_0x57e9c2))||[];}}

class PdfLoaderPlugin extends Plugin{constructor(_0x15da6e,_0x5da35f){const _0x1b4628=(_0x5da35f===null||_0x5da35f===void 0x0?void 0x0:_0x5da35f['id'])||PdfLoaderPlugin['DEFAULT_ID'];super(_0x15da6e,{'id':_0x1b4628}),this['cfg']=_0x5da35f||{},this['cfg']['enableProgressiveLoad']==null&&(this['cfg']['enableProgressiveLoad']=!![]);}async['loadAsync'](_0x3da552,_0x4ee640){const _0x29e946=this['viewer'];_0x29e946['getSpinner']()['increaseJobCount']();const _0x2e1758=Date['now'](),_0x8d36a1=_0x29e946['getFontManager'](),_0x3cb6ed=this['cfg']['pdfWorker'];!this['loader']&&(this['loader']=new PdfLoader({'font':_0x8d36a1,'pdfWorker':_0x3cb6ed}));this['cfg']['enableProgressiveLoad']&&(this['loader']['progressiveLoadCallback']=(_0x5a61f5,_0x3078c1)=>{const _0x4ade8c=_0x29e946['camera']['position'];_0x5a61f5&&_0x4ade8c['z']<_0x5a61f5&&_0x29e946['getCameraManager']()['setCameraPosition'](new THREE['Vector3'](_0x4ade8c['x'],_0x4ade8c['y'],_0x5a61f5));if(_0x3078c1){const _0x41cc8d=CommonUtils['getUpdateProgressFunc'](_0x4ee640);_0x41cc8d(0x64),log['info']('[PdfLoader]\x20Progressively\x20loaded\x20\x27'+_0x3da552['src']+'\x27\x20in\x20'+(Date['now']()-_0x2e1758)/0x3e8+'s'),_0x29e946['getSpinner']()['decreaseJobCount']();}_0x29e946['enableRender']();});const _0x1d6499=await this['loader']['loadAsync'](_0x3da552,_0x4ee640);return !this['cfg']['enableProgressiveLoad']&&_0x29e946['getSpinner']()['decreaseJobCount'](),new Model2d(_0x1d6499);}async['loadPage'](_0x24c6fb,_0x218d97){var _0x7c78d2;return (_0x7c78d2=this['loader'])===null||_0x7c78d2===void 0x0?void 0x0:_0x7c78d2['loadPage'](_0x24c6fb,_0x218d97);}['getPageCount'](){var _0x4755de;return ((_0x4755de=this['loader'])===null||_0x4755de===void 0x0?void 0x0:_0x4755de['getPageCount']())||0x0;}['getPdfViewport'](){var _0xa8f2ea;const _0x5212d3=(_0xa8f2ea=this['loader'])===null||_0xa8f2ea===void 0x0?void 0x0:_0xa8f2ea['viewportMesh'];if(!_0x5212d3)return undefined;const _0x598710=new THREE['Box3']()['setFromObject'](_0x5212d3);return _0x598710;}['worldPosition2PdfPoint'](_0x3c823a){const _0x53f5bf=this['getPdfViewport'](),_0x434831=(_0x53f5bf===null||_0x53f5bf===void 0x0?void 0x0:_0x53f5bf['min'])||new THREE['Vector3'](),_0x4159ae=new THREE['Vector3']();_0x53f5bf===null||_0x53f5bf===void 0x0?void 0x0:_0x53f5bf['getSize'](_0x4159ae);const _0x233bc5=_0x4159ae['x'],_0x5ff30a=_0x4159ae['y'],_0x2e0f9d=_0x3c823a['x']-_0x434831['x'],_0x5f1b48=_0x3c823a['y']-_0x434831['y'];return new THREE['Vector2'](_0x2e0f9d/_0x233bc5,_0x5f1b48/_0x5ff30a);}['pdfPoint2WorldPosition'](_0xc3591a){const _0x489e7b=this['getPdfViewport'](),_0x4957a0=(_0x489e7b===null||_0x489e7b===void 0x0?void 0x0:_0x489e7b['min'])||new THREE['Vector3'](),_0xdd7a5a=new THREE['Vector3']();_0x489e7b===null||_0x489e7b===void 0x0?void 0x0:_0x489e7b['getSize'](_0xdd7a5a);const _0x2a1e28=_0xdd7a5a['x'],_0x19d4bd=_0xdd7a5a['y'];return new THREE['Vector2'](_0xc3591a['x']*_0x2a1e28+_0x4957a0['x'],_0xc3591a['y']*_0x19d4bd+_0x4957a0['y']);}}PdfLoaderPlugin['DEFAULT_ID']='PdfLoaderPlugin';

class LocalDxfUploader extends IUploader{constructor(_0x5e8dab,_0xdc2c09,_0x3e838f){super(_0x5e8dab,_0xdc2c09,_0x3e838f),this['pdfWorker']='',this['defaultModelConfig']={'src':'','merge':!![]},(!this['formats']||this['_formats']['length']===0x0)&&(this['_formats']=['dwg','dxf','pdf']);}['setPdfWorker'](_0x38ffa9){this['pdfWorker']=_0x38ffa9;}['formats'](){return this['_formats'];}['uploadFiles'](_0x382570){for(let _0xd83c77=0x0;_0xd83c77<_0x382570['length'];_0xd83c77++){const _0x2b880d=_0x382570[_0xd83c77];if(_0x2b880d['name']['match'](/\.(dxf|dwg)$/i))this['uploadSingleDxf'](_0x2b880d);else _0x2b880d['name']['match'](/\.(pdf)$/i)&&this['uploadSinglePdf'](_0x2b880d);}}async['uploadSingleDxf'](_0x245612){const _0x1e6597=_0x2b1144=>{const _0x1c0533=Math['floor'](_0x2b1144['loaded']*0x64/_0x2b1144['total']);log['info']('[Uploader]\x20Loading\x20'+(_0x245612===null||_0x245612===void 0x0?void 0x0:_0x245612['name'])+',\x20'+_0x1c0533+'%');},_0x4fdd9b=Object['assign'](Object['assign']({},this['defaultModelConfig']),{'src':URL['createObjectURL'](_0x245612),'modelId':_0x245612['name']});await this['viewer']['loadModel'](_0x4fdd9b,_0x1e6597);}async['uploadSinglePdf'](_0xf5ab94){const _0xc33d40=_0xb6c2a2=>{const _0x1828ae=Math['floor'](_0xb6c2a2['loaded']*0x64/_0xb6c2a2['total']);log['info']('[Uploader]\x20Loading\x20'+(_0xf5ab94===null||_0xf5ab94===void 0x0?void 0x0:_0xf5ab94['name'])+',\x20'+_0x1828ae+'%');};try{const _0x5475b2=this['viewer'],_0x28caff={'font':_0x5475b2['fontManager'],'pdfWorker':this['pdfWorker'],'enableProgressiveLoad':!![]},_0x1c985f={'merge':!![],'src':URL['createObjectURL'](_0xf5ab94),'modelId':_0xf5ab94['name']},_0x3f6ac4=new PdfLoaderPlugin(_0x5475b2,_0x28caff);_0x3f6ac4['loadAsync'](_0x1c985f,_0xc33d40)['then'](_0x3dee69=>{this['viewer']['addModel'](_0x3dee69),this['onSuccess']&&this['onSuccess']({});});}catch(_0x56e310){log['info'](_0x56e310);}}}

var MarkupType;(function(_0x34134c){_0x34134c['Arrow']='ArrowMarkup',_0x34134c['Circle']='CircleMarkup',_0x34134c['CloudLine']='CloudLineMarkup',_0x34134c['CloudLineRectangle']='CloudRectMarkup',_0x34134c['CloudRectWithText']='CloudRectWithTextMarkup',_0x34134c['Dot']='DotMarkup',_0x34134c['Ellipse']='EllipseMarkup',_0x34134c['LeaderLine']='LeaderLineMarkup',_0x34134c['PolyLine']='PolylineMarkup',_0x34134c['Rectangle']='RectMarkup',_0x34134c['Text']='TextMarkup',_0x34134c['X']='XMarkup';}(MarkupType||(MarkupType={})));

class ArrowMarkup extends BaseMarkup{constructor(_0x4f77df,_0x2a31f8){super(_0x4f77df),this['type']=MarkupType['Arrow'],this['update'](_0x2a31f8);}['draw'](_0x3d6da3,_0x20dd82){const _0x3338ec=this['points']['map'](_0x860581=>this['transToScreenCoord'](_0x860581,_0x20dd82)),_0x5dbf83=0xa,[_0x1a5cf0,_0x410e96]=this['points'],_0x1c565d=new THREE['Vector3']()['subVectors'](_0x1a5cf0,_0x410e96)['length']()/0xa/this['tolerance'];this['drawArrowLine'](_0x3d6da3,_0x3338ec,_0x1c565d),this['drawArrowHead'](_0x3d6da3,_0x3338ec[0x0],_0x3338ec[0x1],_0x5dbf83,_0x1c565d);}['drawArrowLine'](_0x35cc95,_0x4a9069,_0x4d75dd){_0x35cc95['save'](),_0x35cc95['lineWidth']=this['lineWidth'],_0x35cc95['strokeStyle']=ColorUtils['floatArray2CssColor'](this['lineColor']);const [_0x50219e,_0x59bd44]=_0x4a9069,_0x8ea3a9=new THREE['Vector2']()['subVectors'](_0x59bd44,_0x50219e)['normalize']();_0x35cc95['beginPath'](),_0x35cc95['moveTo'](_0x50219e['x'],_0x50219e['y']);const _0x3bfda3=_0x59bd44['clone']()['sub'](_0x8ea3a9['multiplyScalar'](_0x4d75dd));_0x35cc95['lineTo'](_0x3bfda3['x'],_0x3bfda3['y']),_0x35cc95['closePath'](),_0x35cc95['stroke'](),_0x35cc95['restore']();}['drawArrowHead'](_0xfdc3e,_0x345345,_0x4bf88d,_0x27427e,_0x4878ff){const _0x3b7ddd=Math['atan2'](_0x345345['y']-_0x4bf88d['y'],_0x345345['x']-_0x4bf88d['x'])*0xb4/Math['PI'],_0x1c8e4b=(_0x3b7ddd+_0x27427e)*Math['PI']/0xb4,_0x22f02b=(_0x3b7ddd-_0x27427e)*Math['PI']/0xb4,_0xf69778=_0x4878ff*Math['cos'](_0x1c8e4b),_0x5b0c86=_0x4878ff*Math['sin'](_0x1c8e4b),_0x233585=_0x4878ff*Math['cos'](_0x22f02b),_0x13faca=_0x4878ff*Math['sin'](_0x22f02b),_0x1d0c38=new THREE['Vector2'](_0x4bf88d['x']+_0xf69778,_0x4bf88d['y']+_0x5b0c86),_0x1f4cd7=new THREE['Vector2'](_0x4bf88d['x']+_0x233585,_0x4bf88d['y']+_0x13faca);_0xfdc3e['save'](),_0xfdc3e['fillStyle']=ColorUtils['floatArray2CssColor'](this['lineColor']),_0xfdc3e['beginPath'](),_0xfdc3e['moveTo'](_0x4bf88d['x'],_0x4bf88d['y']),_0xfdc3e['lineTo'](_0x1d0c38['x'],_0x1d0c38['y']),_0xfdc3e['lineTo'](_0x1f4cd7['x'],_0x1f4cd7['y']),_0xfdc3e['closePath'](),_0xfdc3e['fill'](),_0xfdc3e['restore']();}['isPointInPath'](_0x44c472){return GeometryUtils['isPointOnLineSegments'](_0x44c472,this['points'],this['tolerance']);}['getClassType'](){return 'ArrowMarkup';}}CanvasRender['_registerDrawableClass'](ArrowMarkup);

const tempVec2$2=new THREE['Vector2'](),tempVec3$1=new THREE['Vector3']();class CircleMarkup extends BaseMarkup{constructor(_0x583279,_0x2083cd){super(_0x583279),this['radius']=0x1,this['type']=MarkupType['Circle'],this['update'](_0x2083cd);}['getVertexes'](){const _0x417813=this['points'][0x0],_0x36d9eb=this['radius']*this['tolerance'];return [new THREE['Vector3'](_0x417813['x']-_0x36d9eb,_0x417813['y']-_0x36d9eb,_0x417813['z']),new THREE['Vector3'](_0x417813['x']+_0x36d9eb,_0x417813['y']-_0x36d9eb,_0x417813['z']),new THREE['Vector3'](_0x417813['x']+_0x36d9eb,_0x417813['y']+_0x36d9eb,_0x417813['z']),new THREE['Vector3'](_0x417813['x']-_0x36d9eb,_0x417813['y']+_0x36d9eb,_0x417813['z'])];}['draw'](_0x41f147,_0x37dbbc){const [_0x51a6c1,_0x50804a]=this['points']['map'](_0x4df0fc=>this['transToScreenCoord'](_0x4df0fc,_0x37dbbc));this['radius']=tempVec2$2['subVectors'](_0x50804a,_0x51a6c1)['length'](),_0x41f147['save'](),_0x41f147['lineWidth']=this['lineWidth'],_0x41f147['strokeStyle']=ColorUtils['floatArray2CssColor'](this['lineColor']),_0x41f147['fillStyle']=ColorUtils['floatArray2CssColor'](this['fillColor']),_0x41f147['beginPath'](),_0x41f147['arc'](_0x51a6c1['x'],_0x51a6c1['y'],this['radius'],0x0,Math['PI']*0x2),_0x41f147['closePath'](),_0x41f147['stroke'](),_0x41f147['restore']();}['isPointInPath'](_0x507cd4){const [_0x426073,_0x263c3d]=this['points'],_0x1edf48=tempVec3$1['subVectors'](_0x426073,_0x263c3d)['length']();return Math['abs'](_0x507cd4['distanceTo'](_0x426073)-_0x1edf48)<=this['tolerance']*0x2;}['getClassType'](){return 'CircleMarkup';}}CanvasRender['_registerDrawableClass'](CircleMarkup);

class CloudLineMarkup extends BaseMarkup{constructor(_0x27e5bc,_0x31c27c){super(_0x27e5bc),this['type']=MarkupType['CloudLine'],this['update'](_0x31c27c);}['draw'](_0x389df7,_0x4f53cb){const _0xf43294=this['points'],_0x158a2e=[];_0x389df7['save'](),_0x389df7['lineWidth']=this['lineWidth'],_0x389df7['strokeStyle']=ColorUtils['floatArray2CssColor'](this['lineColor']),_0x389df7['fillStyle']=ColorUtils['floatArray2CssColor'](this['fillColor']),_0x389df7['beginPath']();for(let _0x3a9e58=0x0;_0x3a9e58<_0xf43294['length']-0x1;_0x3a9e58++){const _0x576956=this['transToScreenCoord'](_0xf43294[_0x3a9e58],_0x4f53cb),_0x4153e1=this['transToScreenCoord'](_0xf43294[_0x3a9e58+0x1],_0x4f53cb),_0x47460d=CloudLineMarkup['getControlPointByTwoPoints'](_0x576956,_0x4153e1);_0x3a9e58===0x0&&_0x389df7['moveTo'](_0x576956['x'],_0x576956['y']),_0x389df7['quadraticCurveTo'](_0x47460d['x'],_0x47460d['y'],_0x4153e1['x'],_0x4153e1['y']),_0x158a2e['push'](_0xf43294[_0x3a9e58],_0xf43294[_0x3a9e58+0x1],CoordinateUtils['screen2World'](_0x47460d,_0x4f53cb,this['ctx']['canvas']));}_0x389df7['stroke'](),_0x389df7['restore']();}static['getControlPointByTwoPoints'](_0x10a786,_0x23744c){const _0x588324=new THREE['Vector2']()['subVectors'](_0x23744c,_0x10a786),_0xaf8014=_0x588324['angle'](),_0x82636a=_0x588324['length'](),_0x1e6606=THREE['MathUtils']['degToRad'](0x2d),_0x13c2af=_0x82636a/0x2/Math['cos'](_0x1e6606);return new THREE['Vector2'](_0x10a786['x']+_0x13c2af*Math['cos'](_0x1e6606-_0xaf8014),_0x10a786['y']-_0x13c2af*Math['sin'](_0x1e6606-_0xaf8014));}['getClassType'](){return 'CloudLineMarkup';}}CanvasRender['_registerDrawableClass'](CloudLineMarkup);

class CloudRectMarkup extends BaseMarkup{constructor(_0x450013,_0x382c8b){super(_0x450013),this['type']=MarkupType['CloudLineRectangle'],this['update'](_0x382c8b);}['draw'](_0x44b768,_0x4b6973){_0x44b768['save'](),_0x44b768['lineWidth']=this['lineWidth'],_0x44b768['strokeStyle']=ColorUtils['floatArray2CssColor'](this['lineColor']),_0x44b768['fillStyle']=ColorUtils['floatArray2CssColor'](this['fillColor']),_0x44b768['beginPath']();const _0xb6af07=this['getVertexes']();_0xb6af07['push'](_0xb6af07[0x0]);let _0x107f59;const _0x7c1603=[],_0x190e96=new THREE['Vector3']();for(let _0x5e1e55=0x0;_0x5e1e55<_0xb6af07['length']-0x1;_0x5e1e55++){const _0x494fb8=_0xb6af07[_0x5e1e55],_0x1cb98e=_0xb6af07[_0x5e1e55+0x1];_0x190e96['subVectors'](_0x1cb98e,_0x494fb8);!_0x107f59&&(_0x107f59=_0x190e96['length']()/0xa);const _0x314efe=_0x190e96['length'](),_0x5694f4=_0x190e96['normalize'](),_0x1cba60=Math['round'](_0x314efe/_0x107f59);for(let _0xf0a827=0x0;_0xf0a827<_0x1cba60;_0xf0a827++){_0x7c1603['push'](_0x494fb8['clone']()['add'](_0x5694f4['clone']()['multiplyScalar'](_0x107f59*_0xf0a827)));}}_0x7c1603['push'](_0x7c1603[0x0]),this['vertexes']=[];for(let _0x363457=0x0;_0x363457<_0x7c1603['length']-0x1;_0x363457++){const _0x5d100d=_0x7c1603[_0x363457],_0x3c0649=_0x7c1603[_0x363457+0x1],_0x4c6e37=this['transToScreenCoord'](_0x5d100d,_0x4b6973),_0x49cf6c=this['transToScreenCoord'](_0x3c0649,_0x4b6973),_0x50af42=CloudLineMarkup['getControlPointByTwoPoints'](_0x4c6e37,_0x49cf6c);this['vertexes']['push'](_0x5d100d,_0x3c0649,CoordinateUtils['screen2World'](_0x50af42,_0x4b6973,this['ctx']['canvas'])),_0x363457===0x0&&_0x44b768['moveTo'](_0x4c6e37['x'],_0x4c6e37['y']),_0x44b768['quadraticCurveTo'](_0x50af42['x'],_0x50af42['y'],_0x49cf6c['x'],_0x49cf6c['y']);}_0x44b768['closePath'](),_0x44b768['stroke'](),_0x44b768['restore']();}['isPointInPath'](_0x5575e3){const _0xf13532=this['getVertexes'](),_0x200bbc=[];for(let _0x37b789=0x0;_0x37b789<_0xf13532['length'];_0x37b789++){const _0x1caf49=_0xf13532[_0x37b789],_0x32a5a9=_0xf13532[_0x37b789+0x1]||_0xf13532[0x0];_0x200bbc['push'](_0x1caf49,_0x32a5a9);}return GeometryUtils['isPointOnLineSegments'](_0x5575e3,_0x200bbc,this['tolerance']*0x3);}['getClassType'](){return 'CloudRectMarkup';}}CanvasRender['_registerDrawableClass'](CloudRectMarkup);

class DotMarkup extends BaseMarkup{constructor(_0xde9ec6,_0x35b0c7){super(_0xde9ec6),this['radius']=0x8,this['update'](_0x35b0c7);}['getVertexes'](){const _0x5ffcad=this['points'][0x0],_0x384032=this['radius']*0x2*this['tolerance'],_0x51868b=this['radius']*0x2*this['tolerance'];return [new THREE['Vector3'](_0x5ffcad['x']-_0x384032/0x2,_0x5ffcad['y']+_0x51868b/0x2,_0x5ffcad['z']),new THREE['Vector3'](_0x5ffcad['x']+_0x384032/0x2,_0x5ffcad['y']+_0x51868b/0x2,_0x5ffcad['z']),new THREE['Vector3'](_0x5ffcad['x']+_0x384032/0x2,_0x5ffcad['y']-_0x51868b/0x2,_0x5ffcad['z']),new THREE['Vector3'](_0x5ffcad['x']-_0x384032/0x2,_0x5ffcad['y']-_0x51868b/0x2,_0x5ffcad['z'])];}['draw'](_0x5038a5,_0x41fcf9){const _0x22f481=this['transToScreenCoord'](this['points'][0x0],_0x41fcf9);this['width']=this['radius']*0x2*this['tolerance'],this['height']=this['radius']*0x2*this['tolerance'],this['x']=this['points'][0x0]['x']-this['radius']*this['tolerance'],this['y']=this['points'][0x0]['y']+this['radius']*this['tolerance'],_0x5038a5['save'](),_0x5038a5['lineWidth']=this['lineWidth'],_0x5038a5['strokeStyle']=ColorUtils['floatArray2CssColor'](this['lineColor']),_0x5038a5['fillStyle']=ColorUtils['floatArray2CssColor'](this['fillColor']),_0x5038a5['beginPath'](),_0x5038a5['arc'](_0x22f481['x'],_0x22f481['y'],this['radius'],0x0,Math['PI']*0x2),_0x5038a5['closePath'](),_0x5038a5['fill'](),_0x5038a5['stroke'](),_0x5038a5['restore']();}['getClassType'](){return 'DotMarkup';}}CanvasRender['_registerDrawableClass'](DotMarkup);

class EllipseMarkup extends BaseMarkup{constructor(_0x49b843,_0xb0d796){super(_0x49b843),this['radiusX']=0x1,this['radiusY']=0x1,this['type']=MarkupType['Ellipse'],this['update'](_0xb0d796);}['draw'](_0x1e46ee,_0x271603){const [_0x39df03,_0x2f7a72]=this['points']['map'](_0x578a59=>this['transToScreenCoord'](_0x578a59,_0x271603)),_0x31ea9e=new THREE['Vector2']()['lerpVectors'](_0x39df03,_0x2f7a72,0.5);this['radiusX']=Math['abs'](_0x2f7a72['x']-_0x39df03['x'])/0x2,this['radiusY']=Math['abs'](_0x2f7a72['y']-_0x39df03['y'])/0x2,_0x1e46ee['save'](),_0x1e46ee['lineWidth']=this['lineWidth'],_0x1e46ee['strokeStyle']=ColorUtils['floatArray2CssColor'](this['lineColor']),_0x1e46ee['fillStyle']=ColorUtils['floatArray2CssColor'](this['fillColor']),_0x1e46ee['beginPath'](),_0x1e46ee['ellipse'](_0x31ea9e['x'],_0x31ea9e['y'],this['radiusX'],this['radiusY'],0x0,0x0,Math['PI']*0x2),_0x1e46ee['closePath'](),_0x1e46ee['stroke'](),_0x1e46ee['restore']();}['isPointInPath'](_0x837ecb){const [_0x46a7b,_0x5828f3]=this['points'],_0x584316=new THREE['Vector3']()['lerpVectors'](_0x46a7b,_0x5828f3,0.5),_0x406b52=Math['pow'](_0x837ecb['x']-_0x584316['x'],0x2),_0x1e4ccc=Math['pow'](_0x837ecb['y']-_0x584316['y'],0x2),_0x708460=0x2*this['tolerance'],_0x579ca9=Math['abs'](_0x5828f3['x']-_0x46a7b['x'])/0x2-_0x708460,_0x221d46=Math['abs'](_0x5828f3['y']-_0x46a7b['y'])/0x2-_0x708460,_0x1f02cd=_0x406b52/(_0x579ca9*_0x579ca9),_0x3fb7bc=_0x1e4ccc/(_0x221d46*_0x221d46),_0x281846=Math['abs'](_0x5828f3['x']-_0x46a7b['x'])/0x2+_0x708460,_0x23435f=Math['abs'](_0x5828f3['y']-_0x46a7b['y'])/0x2+_0x708460,_0x471d29=_0x406b52/(_0x281846*_0x281846),_0x192322=_0x1e4ccc/(_0x23435f*_0x23435f);return _0x1f02cd+_0x3fb7bc>=0x1&&_0x471d29+_0x192322<=0x1;}['getClassType'](){return 'EllipseMarkup';}}CanvasRender['_registerDrawableClass'](EllipseMarkup);

var TextMarkupEvent;(function(_0x457f6f){_0x457f6f['EnterEditing']='enterediting',_0x457f6f['ExitEditing']='exitediting';}(TextMarkupEvent||(TextMarkupEvent={})));class TextMarkup extends BaseMarkup{constructor(_0x4d832e,_0x234156,_0x1f9306){super(_0x4d832e),this['text']='',this['fontSize']=0xc,this['type']=MarkupType['Text'],this['padding']=0x12c,this['inputStatus']='CHAR_TYPING',this['isEditing']=![],this['handleClick']=()=>{},this['handleKeydown']=_0x1006b9=>{if(!this['textInput'])return;if(_0x1006b9['key']==='Enter'){const _0x410c2a=parseInt(this['textInput']['style']['height']);this['textInput']['style']['height']=Math['round'](_0x410c2a+this['fontSize']/this['tolerance'])+'px';}else _0x1006b9['code']==='Escape'&&this['exitEditing']();},this['handleInput']=()=>{var _0x1d1360;if(!this['textInput']||!this['manager']||this['inputStatus']==='CHINESE_TYPING')return;const _0xf409b=this['textInput']['value'],_0x32f120=((_0x1d1360=this['manager']['overlayRender'])===null||_0x1d1360===void 0x0?void 0x0:_0x1d1360['measureTextLength'](_0xf409b,this['fontSize']/this['tolerance']+'px\x20Arial'))||0x0;_0x32f120>TextMarkup['DEFAULT_INPUT_WIDTH']&&(this['textInput']['style']['width']=Math['round'](_0x32f120+this['padding']/this['tolerance']*0x2)+'px'),this['inputStatus']='CHAR_TYPING',this['text']=_0xf409b;},this['handleCompositionStart']=()=>{this['inputStatus']='CHINESE_TYPING';},this['handleCompositionEnd']=()=>{var _0x59a9aa;if(!this['textInput']||!this['manager']||this['inputStatus']!=='CHINESE_TYPING')return;const _0x63e5b7=this['textInput']['value'],_0x39eff1=((_0x59a9aa=this['manager']['overlayRender'])===null||_0x59a9aa===void 0x0?void 0x0:_0x59a9aa['measureTextLength'](_0x63e5b7,this['fontSize']/this['tolerance']+'px\x20Arial'))||0x0;_0x39eff1>TextMarkup['DEFAULT_INPUT_WIDTH']&&(this['textInput']['style']['width']=Math['round'](_0x39eff1+this['padding']/this['tolerance']*0x2)+'px'),this['text']=_0x63e5b7,this['inputStatus']='CHAR_TYPING';},this['handleBlur']=()=>{this['exitEditing']();},this['handleFoucs']=()=>{},this['update'](_0x234156),this['text']=_0x1f9306;}['draw'](_0x1a90e2,_0x493fd3){!this['isEditing']&&this['drawText'](_0x1a90e2,_0x493fd3,this['text']);}['drawText'](_0x236ea3,_0x1f74ea,_0x8732df){const _0x135a1f=this['transToScreenCoord'](new THREE['Vector3'](this['x'],this['y'],0x0),_0x1f74ea),_0x168737=_0x8732df['split']('\x0a'),_0x192fae=this['fontSize']/this['tolerance'];let _0x93a156=0x0;_0x236ea3['save'](),_0x236ea3['lineWidth']=this['lineWidth'],_0x236ea3['strokeStyle']=ColorUtils['floatArray2CssColor'](this['lineColor']),_0x236ea3['fillStyle']=ColorUtils['floatArray2CssColor'](this['lineColor']),_0x236ea3['textAlign']='left',_0x236ea3['textBaseline']='top',_0x236ea3['font']=_0x192fae+'px\x20Arial';for(let _0x18531d=0x0;_0x18531d<_0x168737['length'];_0x18531d++){const _0x5ae0f6=_0x168737[_0x18531d],_0x2072d7=_0x236ea3['measureText'](_0x5ae0f6)['width'];_0x2072d7>_0x93a156&&(_0x93a156=_0x2072d7);}const _0x16dda9=this['padding']/this['tolerance'],_0x131e52=new THREE['Vector2'](_0x135a1f['x'],_0x135a1f['y']);for(let _0x51973a=0x0;_0x51973a<_0x168737['length'];_0x51973a++){const _0x8affa1=_0x168737[_0x51973a];_0x236ea3['fillText'](_0x8affa1,_0x131e52['x']+_0x16dda9,_0x131e52['y']+_0x16dda9+_0x51973a*_0x192fae,_0x93a156+_0x16dda9*0x2);}_0x236ea3['strokeRect'](_0x131e52['x'],_0x131e52['y'],_0x93a156+_0x16dda9*0x2,_0x168737['length']*_0x192fae+_0x16dda9*0x2),_0x236ea3['restore'](),this['width']=(_0x93a156+_0x16dda9*0x2)*this['tolerance'],this['height']=(_0x168737['length']*_0x192fae+_0x16dda9*0x2)*this['tolerance'];}['setFontSize'](_0x465a6f){this['fontSize']=_0x465a6f,this['padding']=_0x465a6f/0x2;}['update'](_0x1130be){const _0x2c324c=_0x1130be[0x0];return this['x']=_0x2c324c['x'],this['y']=_0x2c324c['y'],this['points']=[_0x2c324c],this;}['getVertexes'](){return [new THREE['Vector3'](this['x'],this['y'],0x0),new THREE['Vector3'](this['x']+this['width'],this['y'],0x0),new THREE['Vector3'](this['x']+this['width'],this['y']-this['height'],0x0),new THREE['Vector3'](this['x'],this['y']-this['height'],0x0)];}['setData'](_0x855fa4){super['setData'](_0x855fa4),this['text']=_0x855fa4['text']||'',this['setFontSize'](_0x855fa4['fontSize']||0xc),this['padding']=_0x855fa4['fontSize']/0x2;}['updateText'](_0xf78b3f){this['text']=_0xf78b3f;}['getData'](){return {'id':this['id'],'points':this['points']['map'](_0x1120d6=>[_0x1120d6['x'],_0x1120d6['y']]),'text':this['text'],'lineWidth':this['lineWidth'],'lineColor':this['lineColor'],'fillColor':this['fillColor'],'fontSize':this['fontSize'],'type':this['getClassType']()};}['getClassType'](){return 'TextMarkup';}['addInput'](_0x424886,_0x24350c,_0x2180ab){var _0x112c28;!this['textInput']&&(this['textInput']=document['createElement']('textarea'),this['textInput']['style']['cssText']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20'+this['lineWidth']+'px\x20solid\x20'+ColorUtils['floatArray2CssColor'](this['lineColor'])+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20outline:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resize:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-sizing:\x20content-box;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x20'+this['padding']/this['tolerance']+'px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20whiteSpace:\x20\x27nowrap\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20'+this['lineColor'],this['textInput']['style']['display']='inline-block',(_0x112c28=_0x424886['viewerCanvas']['parentElement'])===null||_0x112c28===void 0x0?void 0x0:_0x112c28['appendChild'](this['textInput']),this['addInputEvents']()),this['manager']=_0x424886,this['enterEditing'](),this['textInput']['style']['left']=_0x24350c+'px',this['textInput']['style']['top']=_0x2180ab+'px',this['textInput']['style']['width']=TextMarkup['DEFAULT_INPUT_WIDTH']+'px',this['textInput']['style']['height']=this['fontSize']/this['tolerance']+'px',this['textInput']['style']['lineHeight']=this['fontSize']/this['tolerance']+'px',this['textInput']['style']['fontSize']=this['fontSize']/this['tolerance']+'px',this['textInput']['style']['color']=ColorUtils['floatArray2CssColor'](this['lineColor']);}['addInputEvents'](){var _0x3f423b,_0x2d5eac,_0x39515e,_0x160196,_0x458f96,_0x59978f,_0x24457;(_0x3f423b=this['textInput'])===null||_0x3f423b===void 0x0?void 0x0:_0x3f423b['addEventListener']('click',this['handleClick']),(_0x2d5eac=this['textInput'])===null||_0x2d5eac===void 0x0?void 0x0:_0x2d5eac['addEventListener']('blur',this['handleBlur']),(_0x39515e=this['textInput'])===null||_0x39515e===void 0x0?void 0x0:_0x39515e['addEventListener']('foucs',this['handleFoucs']),(_0x160196=this['textInput'])===null||_0x160196===void 0x0?void 0x0:_0x160196['addEventListener']('keydown',this['handleKeydown']),(_0x458f96=this['textInput'])===null||_0x458f96===void 0x0?void 0x0:_0x458f96['addEventListener']('input',this['handleInput']),(_0x59978f=this['textInput'])===null||_0x59978f===void 0x0?void 0x0:_0x59978f['addEventListener']('compositionstart',this['handleCompositionStart']),(_0x24457=this['textInput'])===null||_0x24457===void 0x0?void 0x0:_0x24457['addEventListener']('compositionend',this['handleCompositionEnd']);}['enterEditing'](){if(!this['textInput'])return;this['textInput']['value']=this['text'],this['textInput']['focus'](),this['isEditing']=!![],this['dispatchEvent'](TextMarkupEvent['EnterEditing']);}['exitEditing'](){var _0x4ed29b,_0x312f0e,_0x169d38,_0x460734,_0x50a93a,_0x1e42f6,_0x4d6862,_0x1a34d2;(_0x4ed29b=this['textInput'])===null||_0x4ed29b===void 0x0?void 0x0:_0x4ed29b['removeEventListener']('click',this['handleClick']),(_0x312f0e=this['textInput'])===null||_0x312f0e===void 0x0?void 0x0:_0x312f0e['removeEventListener']('blur',this['handleBlur']),(_0x169d38=this['textInput'])===null||_0x169d38===void 0x0?void 0x0:_0x169d38['removeEventListener']('foucs',this['handleFoucs']),(_0x460734=this['textInput'])===null||_0x460734===void 0x0?void 0x0:_0x460734['removeEventListener']('keydown',this['handleKeydown']),(_0x50a93a=this['textInput'])===null||_0x50a93a===void 0x0?void 0x0:_0x50a93a['removeEventListener']('input',this['handleInput']),(_0x1e42f6=this['textInput'])===null||_0x1e42f6===void 0x0?void 0x0:_0x1e42f6['removeEventListener']('compositionstart',this['handleCompositionStart']),(_0x4d6862=this['textInput'])===null||_0x4d6862===void 0x0?void 0x0:_0x4d6862['removeEventListener']('compositionend',this['handleCompositionEnd']),(_0x1a34d2=this['textInput'])===null||_0x1a34d2===void 0x0?void 0x0:_0x1a34d2['remove'](),this['textInput']=undefined,this['isEditing']=![],this['dispatchEvent'](TextMarkupEvent['ExitEditing']);}}TextMarkup['DEFAULT_INPUT_WIDTH']=0x32,CanvasRender['_registerDrawableClass'](TextMarkup);

const tempVec2$1=new THREE['Vector2'](),xAxis$1=new THREE['Vector2'](0x1,0x0),yAxis$1=new THREE['Vector2'](0x0,-0x1);class LeaderLineMarkup extends TextMarkup{constructor(_0x9d9a72,_0x126209,_0x2608c1){super(_0x9d9a72,_0x126209,_0x2608c1),this['type']=MarkupType['LeaderLine'],this['text']='LeaderLine',this['fontSize']=0xc,this['textBounds']=new THREE['Box3'](),this['handleInput']=()=>{if(!this['textInput']||!this['manager']||this['inputStatus']==='CHINESE_TYPING')return;this['text']=this['textInput']['value'],this['calcuTextInputPositionByText'](this['text']),this['inputStatus']='CHAR_TYPING';},this['handleCompositionEnd']=()=>{if(!this['textInput']||!this['manager']||this['inputStatus']!=='CHINESE_TYPING')return;this['text']=this['textInput']['value'],this['calcuTextInputPositionByText'](this['text']),this['inputStatus']='CHAR_TYPING';};}['draw'](_0x199d43,_0x500808){if(this['points']['length']<0x2)return;const _0x24187a=this['points']['map'](_0x2610c8=>this['transToScreenCoord'](_0x2610c8,_0x500808)),_0x276ca6=0xa,[_0x2939fb,_0x2c6827]=this['points'],_0x3a1e4e=new THREE['Vector3']()['subVectors'](_0x2939fb,_0x2c6827)['length']()/0xa/this['tolerance'];this['drawArrowLine'](_0x199d43,_0x24187a,_0x3a1e4e),this['drawArrowHead'](_0x199d43,_0x24187a[0x1],_0x24187a[0x0],_0x276ca6,_0x3a1e4e),!this['isEditing']&&this['text']['length']>0x0&&this['drawText'](_0x199d43,_0x500808,this['text']);}['drawArrowHead'](_0x2e8c6e,_0xefb098,_0x37c637,_0x31d91d,_0x2d0ca7){const _0x1970c5=Math['atan2'](_0xefb098['y']-_0x37c637['y'],_0xefb098['x']-_0x37c637['x'])*0xb4/Math['PI'],_0x5e21a8=(_0x1970c5+_0x31d91d)*Math['PI']/0xb4,_0x5a1051=(_0x1970c5-_0x31d91d)*Math['PI']/0xb4,_0x46188f=_0x2d0ca7*Math['cos'](_0x5e21a8),_0x58aa49=_0x2d0ca7*Math['sin'](_0x5e21a8),_0x3f79ff=_0x2d0ca7*Math['cos'](_0x5a1051),_0x5166b1=_0x2d0ca7*Math['sin'](_0x5a1051),_0x220035=new THREE['Vector2'](_0x37c637['x']+_0x46188f,_0x37c637['y']+_0x58aa49),_0x1f60ab=new THREE['Vector2'](_0x37c637['x']+_0x3f79ff,_0x37c637['y']+_0x5166b1);_0x2e8c6e['save'](),_0x2e8c6e['fillStyle']=ColorUtils['floatArray2CssColor'](this['lineColor']),_0x2e8c6e['beginPath'](),_0x2e8c6e['moveTo'](_0x37c637['x'],_0x37c637['y']),_0x2e8c6e['lineTo'](_0x220035['x'],_0x220035['y']),_0x2e8c6e['lineTo'](_0x1f60ab['x'],_0x1f60ab['y']),_0x2e8c6e['closePath'](),_0x2e8c6e['fill'](),_0x2e8c6e['restore']();}['drawArrowLine'](_0x4d86f6,_0x161025,_0x3e7029){_0x4d86f6['save'](),_0x4d86f6['lineWidth']=this['lineWidth'],_0x4d86f6['strokeStyle']=ColorUtils['floatArray2CssColor'](this['lineColor']);const [_0x217827,_0x1c9cbf]=_0x161025,_0x3602cb=new THREE['Vector2']()['subVectors'](_0x217827,_0x1c9cbf)['normalize']();_0x4d86f6['beginPath'](),_0x4d86f6['moveTo'](_0x1c9cbf['x'],_0x1c9cbf['y']);const _0x1a4d78=_0x217827['clone']()['sub'](_0x3602cb['multiplyScalar'](_0x3e7029));_0x4d86f6['lineTo'](_0x1a4d78['x'],_0x1a4d78['y']),_0x4d86f6['closePath'](),_0x4d86f6['stroke'](),_0x4d86f6['restore']();}['drawText'](_0x5d3864,_0x1ee29f,_0x446b5c){const [_0x5a4e18,_0x1c63e4]=this['points']['map'](_0x5506ee=>this['transToScreenCoord'](_0x5506ee,_0x1ee29f)),_0xfea6ca=new THREE['Vector2']()['subVectors'](_0x1c63e4,_0x5a4e18)['normalize'](),_0x20d80e=_0xfea6ca['cross'](yAxis$1)<0x0,_0x2ea223=_0xfea6ca['cross'](xAxis$1)<0x0,_0x22ef50=_0x446b5c['split']('\x0a'),_0x314675=this['fontSize']/this['tolerance'];let _0x22a5b0=0x0;_0x5d3864['save'](),_0x5d3864['lineWidth']=this['lineWidth'],_0x5d3864['strokeStyle']=ColorUtils['floatArray2CssColor'](this['lineColor']),_0x5d3864['fillStyle']=ColorUtils['floatArray2CssColor'](this['lineColor']),_0x5d3864['textAlign']='left',_0x5d3864['textBaseline']='top',_0x5d3864['font']=_0x314675+'px\x20Arial';for(let _0x3d4ea6=0x0;_0x3d4ea6<_0x22ef50['length'];_0x3d4ea6++){const _0x307779=_0x22ef50[_0x3d4ea6],_0x49c90c=_0x5d3864['measureText'](_0x307779)['width'];_0x49c90c>_0x22a5b0&&(_0x22a5b0=_0x49c90c);}const _0x43661b=this['padding']/this['tolerance'],_0x1a424f=_0x43661b+_0x314675/0x2,_0xfdf878=_0x22ef50['length']*_0x314675+_0x43661b*0x2,_0x311a3f=new THREE['Vector2'](_0x20d80e?_0x1c63e4['x']:_0x1c63e4['x']-_0x22a5b0-_0x43661b*0x2,_0x2ea223?_0x1c63e4['y']-_0x1a424f:_0x1c63e4['y']-_0xfdf878+(_0xfdf878-_0x1a424f));for(let _0x18f818=0x0;_0x18f818<_0x22ef50['length'];_0x18f818++){const _0xb81fc9=_0x22ef50[_0x18f818];_0x5d3864['fillText'](_0xb81fc9,_0x311a3f['x']+_0x43661b,_0x311a3f['y']+_0x43661b+_0x18f818*_0x314675,_0x22a5b0+_0x43661b*0x2);}_0x5d3864['strokeRect'](_0x311a3f['x'],_0x311a3f['y'],_0x22a5b0+_0x43661b*0x2,_0x22ef50['length']*_0x314675+_0x43661b*0x2),_0x5d3864['restore']();const _0x135ffd=CoordinateUtils['screen2World'](tempVec2$1['set'](_0x311a3f['x'],_0x311a3f['y']),_0x1ee29f,this['ctx']['canvas']);_0x135ffd['z']=0x0;const _0xe6cccc=CoordinateUtils['screen2World'](tempVec2$1['set'](_0x311a3f['x']+_0x22a5b0+_0x43661b*0x2,_0x311a3f['y']+_0xfdf878),_0x1ee29f,this['ctx']['canvas']);_0xe6cccc['z']=0x0,this['textBounds']['setFromPoints']([_0x135ffd,_0xe6cccc]);}['getVertexes'](){return this['points'];}['update'](_0x752169){const [_0x341336,_0x40cdb7]=_0x752169;return this['points']=_0x752169,this['x']=Math['min'](_0x341336['x'],_0x40cdb7['x']),this['y']=Math['max'](_0x341336['y'],_0x40cdb7['y']),this['width']=Math['abs'](_0x40cdb7['x']-_0x341336['x']),this['height']=Math['abs'](_0x40cdb7['y']-_0x341336['y']),this;}['getData'](){return {'id':this['id'],'points':this['points']['map'](_0x2f28c2=>[_0x2f28c2['x'],_0x2f28c2['y']]),'text':this['text'],'lineWidth':this['lineWidth'],'lineColor':this['lineColor'],'fillColor':this['fillColor'],'fontSize':this['fontSize'],'type':this['getClassType']()};}['isPointInPath'](_0xe4bcd3){return GeometryUtils['isPointOnLineSegments'](_0xe4bcd3,this['points'],this['tolerance'])||this['textBounds']['containsPoint'](_0xe4bcd3);}['updateText'](_0x389b36){this['text']=_0x389b36;}['getClassType'](){return 'LeaderLineMarkup';}['addInput'](_0x1e842f,_0x20c991,_0x406dab){const [_0x282795,_0xf2a2ca]=this['points']['map'](_0x31f905=>CoordinateUtils['world2Screen'](_0x31f905,_0x1e842f['camera'],_0x1e842f['viewerCanvas'])),_0x4a53e5=new THREE['Vector2']()['subVectors'](_0xf2a2ca,_0x282795)['normalize'](),_0x2d52a5=_0x4a53e5['cross'](yAxis$1)<0x0,_0xde343=_0x4a53e5['cross'](xAxis$1)<0x0,_0x201475=this['fontSize']/this['tolerance'],_0x53f862=this['padding']/this['tolerance'],_0x30a4ca=_0x53f862+_0x201475/0x2,_0x5a9a5c=TextMarkup['DEFAULT_INPUT_WIDTH'],_0xa5ab8d=_0x201475;super['addInput'](_0x1e842f,_0x2d52a5?_0x20c991:_0x20c991-_0x5a9a5c-_0x53f862*0x2,_0xde343?_0x406dab-_0x30a4ca:_0x406dab-_0xa5ab8d+(_0xa5ab8d-_0x30a4ca));}['calcuTextInputPositionByText'](_0x4346f4){var _0x53160b;if(!this['textInput']||!this['manager'])return;const _0x1da335=((_0x53160b=this['manager']['overlayRender'])===null||_0x53160b===void 0x0?void 0x0:_0x53160b['measureTextLength'](_0x4346f4,this['fontSize']/this['tolerance']+'px\x20Arial'))||0x0;if(_0x1da335>TextMarkup['DEFAULT_INPUT_WIDTH']){const _0x1d204f=this['points'][0x1],_0x1ea0f0=CoordinateUtils['world2Screen'](this['points'][0x0],this['manager']['camera'],this['manager']['viewerCanvas']),_0x47ad77=CoordinateUtils['world2Screen'](_0x1d204f,this['manager']['camera'],this['manager']['viewerCanvas']),_0x37ec58=_0x47ad77['clone']()['sub'](_0x1ea0f0)['normalize'](),_0x3a9f95=_0x37ec58['cross'](new THREE['Vector2'](0x0,-0x1))<0x0,_0x246275=CoordinateUtils['world2Screen'](_0x1d204f,this['manager']['camera'],this['manager']['viewerCanvas']);!_0x3a9f95&&(this['textInput']['style']['left']=_0x246275['x']-_0x1da335-this['padding']/this['tolerance']*0x2+'px'),this['textInput']['style']['width']=Math['round'](_0x1da335)+'px';}}}CanvasRender['_registerDrawableClass'](LeaderLineMarkup);

class PolylineMarkup extends BaseMarkup{constructor(_0x3e4955,_0x1b7065){super(_0x3e4955),this['type']=MarkupType['PolyLine'],this['update'](_0x1b7065);}['draw'](_0x5f4828,_0x4231f2){_0x5f4828['save'](),_0x5f4828['lineWidth']=this['lineWidth'],_0x5f4828['strokeStyle']=ColorUtils['floatArray2CssColor'](this['lineColor']),_0x5f4828['fillStyle']=ColorUtils['floatArray2CssColor'](this['fillColor']);const _0x52f076=this['points'];_0x5f4828['beginPath'](),_0x52f076['forEach']((_0x54fb69,_0x4265d4)=>{const _0x4bcd02=this['transToScreenCoord'](_0x54fb69,_0x4231f2);_0x4265d4===0x0?_0x5f4828['moveTo'](_0x4bcd02['x'],_0x4bcd02['y']):_0x5f4828['lineTo'](_0x4bcd02['x'],_0x4bcd02['y']);}),_0x5f4828['stroke'](),_0x5f4828['restore']();}['isPointInPath'](_0x1d8357){const _0x1a0f09=this['points'],_0x50eb0e=[];for(let _0x2fdc6f=0x0;_0x2fdc6f<_0x1a0f09['length']-0x1;_0x2fdc6f++){_0x50eb0e['push'](_0x1a0f09[_0x2fdc6f],_0x1a0f09[_0x2fdc6f+0x1]);}return GeometryUtils['isPointOnLineSegments'](_0x1d8357,_0x50eb0e,this['tolerance']*0x1);}['getClassType'](){return 'PolylineMarkup';}}CanvasRender['_registerDrawableClass'](PolylineMarkup);

class RectMarkup extends BaseMarkup{constructor(_0x45fa2f,_0x1187e7){super(_0x45fa2f),this['type']=MarkupType['Rectangle'],this['update'](_0x1187e7);}['getVertexes'](){const _0x53238d=new THREE['Box3']()['setFromPoints'](this['points']);return [new THREE['Vector3'](_0x53238d['min']['x'],_0x53238d['min']['y'],0x0),new THREE['Vector3'](_0x53238d['max']['x'],_0x53238d['min']['y'],0x0),new THREE['Vector3'](_0x53238d['max']['x'],_0x53238d['max']['y'],0x0),new THREE['Vector3'](_0x53238d['min']['x'],_0x53238d['max']['y'],0x0)];}['draw'](_0x2177f0,_0x286235){_0x2177f0['save'](),_0x2177f0['lineWidth']=this['lineWidth'],_0x2177f0['strokeStyle']=ColorUtils['floatArray2CssColor'](this['lineColor']),_0x2177f0['fillStyle']=ColorUtils['floatArray2CssColor'](this['fillColor']),_0x2177f0['beginPath']();const _0x274725=this['getVertexes']();_0x274725['forEach']((_0x8c12fa,_0x384010)=>{const _0x10b2b3=this['transToScreenCoord'](_0x8c12fa,_0x286235);_0x384010===0x0?_0x2177f0['moveTo'](_0x10b2b3['x'],_0x10b2b3['y']):_0x2177f0['lineTo'](_0x10b2b3['x'],_0x10b2b3['y']);}),_0x2177f0['closePath'](),_0x2177f0['stroke'](),_0x2177f0['restore']();}['isPointInPath'](_0x413f77){const _0x23326a=this['getVertexes'](),_0x405788=[];for(let _0x3f1a69=0x0;_0x3f1a69<_0x23326a['length'];_0x3f1a69++){const _0x1d71f4=_0x23326a[_0x3f1a69],_0x935318=_0x23326a[_0x3f1a69+0x1]||_0x23326a[0x0];_0x405788['push'](_0x1d71f4,_0x935318);}return GeometryUtils['isPointOnLineSegments'](_0x413f77,_0x405788,this['tolerance']*0x2);}['getClassType'](){return 'RectMarkup';}}CanvasRender['_registerDrawableClass'](RectMarkup);

class XMarkup extends BaseMarkup{constructor(_0x20470e,_0x161ad0){super(_0x20470e),this['type']=MarkupType['X'],this['update'](_0x161ad0);}['draw'](_0x214c73,_0x383311){_0x214c73['save'](),_0x214c73['lineWidth']=this['lineWidth'],_0x214c73['strokeStyle']=ColorUtils['floatArray2CssColor'](this['lineColor']),_0x214c73['beginPath']();const [_0x507714,_0x3ae818,_0x5d6bef,_0xafd5a]=this['getVertexes']()['map'](_0x51f2b8=>this['transToScreenCoord'](_0x51f2b8,_0x383311));_0x214c73['moveTo'](_0x507714['x'],_0x507714['y']),_0x214c73['lineTo'](_0x5d6bef['x'],_0x5d6bef['y']),_0x214c73['moveTo'](_0x3ae818['x'],_0x3ae818['y']),_0x214c73['lineTo'](_0xafd5a['x'],_0xafd5a['y']),_0x214c73['closePath'](),_0x214c73['stroke'](),_0x214c73['restore']();}['isPointInPath'](_0xae644b){const [_0x4f1f65,_0x1701e7,_0x43b345,_0x13ed39]=this['getVertexes']();return GeometryUtils['isPointOnLineSegments'](_0xae644b,[_0x4f1f65,_0x43b345,_0x1701e7,_0x13ed39],0.1);}['getClassType'](){return 'XMarkup';}}CanvasRender['_registerDrawableClass'](XMarkup);

const tempBox=new THREE['Box3'](),tempVec3=new THREE['Vector3'](),tempVec2=new THREE['Vector2'](),xAxis=new THREE['Vector2'](0x1,0x0),yAxis=new THREE['Vector2'](0x0,-0x1);class CloudRectWithTextMarkup extends TextMarkup{constructor(_0x448cdb,_0x4e0ebc,_0x1888ac=''){super(_0x448cdb,_0x4e0ebc,_0x1888ac),this['type']=MarkupType['CloudRectWithText'],this['textPosition']=new THREE['Vector3'](),this['textBounds']=new THREE['Box3'](),this['text']='CloudRectWithText',this['fontSize']=0xc,this['handleClick']=()=>{var _0x26ed88;(_0x26ed88=this['textInput'])===null||_0x26ed88===void 0x0?void 0x0:_0x26ed88['blur']();},this['handleInput']=()=>{if(!this['textInput']||!this['manager']||this['inputStatus']==='CHINESE_TYPING')return;this['text']=this['textInput']['value'],this['calcInputPositionByText'](this['text']),this['inputStatus']='CHAR_TYPING';},this['handleCompositionEnd']=()=>{if(!this['textInput']||!this['manager']||this['inputStatus']!=='CHINESE_TYPING')return;this['text']=this['textInput']['value'],this['calcInputPositionByText'](this['text']),this['inputStatus']='CHAR_TYPING';};}['draw'](_0x3b1ef9,_0x1fef07){this['drawCloudRect'](_0x3b1ef9,_0x1fef07),(this['isEditing']||this['text']['length']>0x0)&&this['drawLeaderLine'](_0x3b1ef9,_0x1fef07),!this['isEditing']&&this['text']['length']>0x0&&this['drawText'](_0x3b1ef9,_0x1fef07,this['text']);}['drawCloudRect'](_0x2574b3,_0x2c8e3c){_0x2574b3['save'](),_0x2574b3['lineWidth']=this['lineWidth'],_0x2574b3['strokeStyle']=ColorUtils['floatArray2CssColor'](this['lineColor']),_0x2574b3['fillStyle']=ColorUtils['floatArray2CssColor'](this['fillColor']),_0x2574b3['beginPath']();const _0x57e714=this['getCloudPoints']();_0x57e714['push'](_0x57e714[0x0]);let _0x55a594;const _0x5eb7dc=[];for(let _0x31f55e=0x0;_0x31f55e<_0x57e714['length']-0x1;_0x31f55e++){const _0x11f8bd=_0x57e714[_0x31f55e],_0x493578=_0x57e714[_0x31f55e+0x1],_0x13b60a=tempVec3['subVectors'](_0x493578,_0x11f8bd);!_0x55a594&&(_0x55a594=_0x13b60a['length']()/0xa);const _0xae720b=_0x13b60a['length'](),_0x48b19b=_0x13b60a['normalize'](),_0x51e95c=Math['round'](_0xae720b/_0x55a594);for(let _0x50c1d7=0x0;_0x50c1d7<_0x51e95c;_0x50c1d7++){_0x5eb7dc['push'](_0x11f8bd['clone']()['add'](_0x48b19b['clone']()['multiplyScalar'](_0x55a594*_0x50c1d7)));}}_0x5eb7dc['push'](_0x5eb7dc[0x0]),this['controlPoints']=[],this['vertexes']=[];for(let _0x993f2b=0x0;_0x993f2b<_0x5eb7dc['length']-0x1;_0x993f2b++){const _0x1c8279=_0x5eb7dc[_0x993f2b],_0x421092=_0x5eb7dc[_0x993f2b+0x1],_0xccd844=this['transToScreenCoord'](_0x1c8279,_0x2c8e3c),_0x383702=this['transToScreenCoord'](_0x421092,_0x2c8e3c),_0x38e940=CloudLineMarkup['getControlPointByTwoPoints'](_0xccd844,_0x383702);this['controlPoints']['push'](_0xccd844,_0x383702),this['vertexes']['push'](_0x1c8279,_0x421092,CoordinateUtils['screen2World'](_0x38e940,_0x2c8e3c,this['ctx']['canvas'])),_0x993f2b===0x0&&_0x2574b3['moveTo'](_0xccd844['x'],_0xccd844['y']),_0x2574b3['quadraticCurveTo'](_0x38e940['x'],_0x38e940['y'],_0x383702['x'],_0x383702['y']);}_0x2574b3['closePath'](),_0x2574b3['stroke'](),_0x2574b3['restore']();}['drawLeaderLine'](_0x4de339,_0x10ca9d){if(!this['controlPoints'])return;const _0x213af5=this['transToScreenCoord'](this['textPosition'],_0x10ca9d);this['controlPoints']['sort']((_0x542b72,_0x2ca3f4)=>_0x213af5['distanceTo'](_0x542b72)-_0x213af5['distanceTo'](_0x2ca3f4));const _0x4977bd=this['controlPoints'][0x0];_0x4de339['save'](),_0x4de339['lineWidth']=CloudRectWithTextMarkup['LEADER_LINE_WIDTH'],_0x4de339['strokeStyle']=ColorUtils['floatArray2CssColor'](this['lineColor']),_0x4de339['beginPath'](),_0x4de339['moveTo'](_0x4977bd['x'],_0x4977bd['y']),_0x4de339['lineTo'](_0x213af5['x'],_0x213af5['y']),_0x4de339['closePath'](),_0x4de339['stroke'](),_0x4de339['restore']();}['drawText'](_0x11f1f5,_0xe40580,_0x44e5b1){const _0x412c23=this['transToScreenCoord'](this['points'][0x0],_0xe40580),_0x50f242=this['transToScreenCoord'](this['textPosition'],_0xe40580),_0x18fe09=tempVec2['subVectors'](_0x50f242,_0x412c23)['normalize'](),_0x3e7978=_0x18fe09['cross'](xAxis)<0x0,_0x3f1844=_0x18fe09['cross'](yAxis)<0x0,_0x307289=_0x44e5b1['split']('\x0a'),_0x282b0f=this['fontSize']/this['tolerance'];let _0x2caf14=0x0;_0x11f1f5['save'](),_0x11f1f5['lineWidth']=this['lineWidth'],_0x11f1f5['strokeStyle']=ColorUtils['floatArray2CssColor'](this['lineColor']),_0x11f1f5['fillStyle']=ColorUtils['floatArray2CssColor'](this['lineColor']),_0x11f1f5['textAlign']='left',_0x11f1f5['textBaseline']='top',_0x11f1f5['font']=_0x282b0f+'px\x20Arial';for(let _0xcc6158=0x0;_0xcc6158<_0x307289['length'];_0xcc6158++){const _0x5d26eb=_0x307289[_0xcc6158],_0x7b89d=_0x11f1f5['measureText'](_0x5d26eb)['width'];_0x7b89d>_0x2caf14&&(_0x2caf14=_0x7b89d);}const _0x136648=this['padding']/this['tolerance'],_0x5c0519=_0x136648+_0x282b0f/0x2,_0x235bae=_0x307289['length']*_0x282b0f+_0x136648*0x2,_0x30ca65=new THREE['Vector2'](_0x3f1844?_0x50f242['x']:_0x50f242['x']-_0x2caf14-_0x136648*0x2,_0x3e7978?_0x50f242['y']-_0x5c0519:_0x50f242['y']-_0x235bae+(_0x235bae-_0x5c0519));for(let _0x499a21=0x0;_0x499a21<_0x307289['length'];_0x499a21++){const _0x2ec59a=_0x307289[_0x499a21];_0x11f1f5['fillText'](_0x2ec59a,_0x30ca65['x']+_0x136648,_0x30ca65['y']+_0x136648+_0x499a21*_0x282b0f,_0x2caf14+_0x136648*0x2);}_0x11f1f5['strokeRect'](_0x30ca65['x'],_0x30ca65['y'],_0x2caf14+_0x136648*0x2,_0x307289['length']*_0x282b0f+_0x136648*0x2),_0x11f1f5['restore']();const _0x312768=CoordinateUtils['screen2World'](tempVec2['set'](_0x30ca65['x'],_0x30ca65['y']),_0xe40580,this['ctx']['canvas']);_0x312768['z']=0x0;const _0xc6c48=CoordinateUtils['screen2World'](tempVec2['set'](_0x30ca65['x']+_0x2caf14+_0x136648*0x2,_0x30ca65['y']+_0x235bae),_0xe40580,this['ctx']['canvas']);_0xc6c48['z']=0x0,this['textBounds']['setFromPoints']([_0x312768,_0xc6c48]);}['translate'](_0x3e593a,_0x21861b){const _0x1abaad=tempVec3['set'](_0x3e593a,_0x21861b,0x0);this['points']['forEach'](_0x1098c=>_0x1098c['add'](_0x1abaad)),this['textPosition']['add'](_0x1abaad);const [_0x1e86bd,_0x41d16]=this['points'];return this['x']=Math['min'](_0x1e86bd['x'],_0x41d16['x']),this['y']=Math['max'](_0x1e86bd['y'],_0x41d16['y']),this['width']=Math['abs'](_0x41d16['x']-_0x1e86bd['x']),this['height']=Math['abs'](_0x41d16['y']-_0x1e86bd['y']),this;}['update'](_0x206dd3){const [_0x1a5a2a,_0x425566]=_0x206dd3;return this['points']=_0x206dd3,this['x']=Math['min'](_0x1a5a2a['x'],_0x425566['x']),this['y']=Math['max'](_0x1a5a2a['y'],_0x425566['y']),this['width']=Math['abs'](_0x425566['x']-_0x1a5a2a['x']),this['height']=Math['abs'](_0x425566['y']-_0x1a5a2a['y']),!this['textPosition']&&(this['textPosition']=new THREE['Vector3']()),this['textPosition']['set'](Math['max'](_0x1a5a2a['x'],_0x425566['x']),Math['max'](_0x1a5a2a['y'],_0x425566['y']),0x0),this;}['getCloudPoints'](){const _0x35b768=new THREE['Vector3'](this['x'],this['y'],0x0),_0x26290a=new THREE['Vector3'](this['x']+this['width'],this['y'],0x0),_0x12f38f=new THREE['Vector3'](this['x']+this['width'],this['y']-this['height'],0x0),_0xd91531=new THREE['Vector3'](this['x'],this['y']-this['height'],0x0);return [_0x35b768,_0x26290a,_0x12f38f,_0xd91531];}['getBounds'](){return tempBox['setFromPoints']([...this['points'],...this['vertexes']||[]]),tempBox['union'](this['textBounds']);}['getVertexes'](){const _0x21c31d=this['getBounds'](),_0x5889ca=_0x21c31d['min'],_0x41275f=_0x21c31d['getSize'](tempVec3),_0x3a8519=new THREE['Vector3'](_0x5889ca['x'],_0x5889ca['y'],0x0),_0x115808=new THREE['Vector3'](_0x5889ca['x']+_0x41275f['x'],_0x5889ca['y'],0x0),_0x8d3a93=new THREE['Vector3'](_0x5889ca['x']+_0x41275f['x'],_0x5889ca['y']+_0x41275f['y'],0x0),_0x41f3a5=new THREE['Vector3'](_0x5889ca['x'],_0x5889ca['y']+_0x41275f['y'],0x0);return [_0x3a8519,_0x115808,_0x8d3a93,_0x41f3a5];}['isLeaderTextSelected'](_0x40f5f5){return this['textBounds']['containsPoint'](_0x40f5f5);}['translateLeaderText'](_0x54743e,_0x15f87f){const _0x2d5953=new THREE['Vector3'](_0x54743e,_0x15f87f,0x0);return this['textPosition']['add'](_0x2d5953),this;}['isPointInPath'](_0x361fba){const _0x4d5a58=this['getCloudPoints'](),_0x3cf5c7=[];for(let _0x12b6bd=0x0;_0x12b6bd<_0x4d5a58['length'];_0x12b6bd++){const _0x3fb541=_0x4d5a58[_0x12b6bd],_0x111e7e=_0x4d5a58[(_0x12b6bd+0x1)%_0x4d5a58['length']];_0x3cf5c7['push'](_0x3fb541,_0x111e7e);}return GeometryUtils['isPointOnLineSegments'](_0x361fba,_0x3cf5c7,this['tolerance']*0x3)||this['textBounds']['containsPoint'](_0x361fba);}['setData'](_0xc18cce){super['setData'](_0xc18cce);const _0x4db8e1=_0xc18cce['textPosition']||[0x0,0x0];this['textPosition']['set'](_0x4db8e1[0x0],_0x4db8e1[0x1],0x0);}['updateText'](_0x2b230e){this['text']=_0x2b230e;}['getData'](){return {'id':this['id'],'points':this['points']['map'](_0x3771b1=>[_0x3771b1['x'],_0x3771b1['y']]),'lineWidth':this['lineWidth'],'lineColor':this['lineColor'],'fillColor':this['fillColor'],'fontSize':this['fontSize'],'text':this['text'],'textPosition':[this['textPosition']['x'],this['textPosition']['y']],'type':this['getClassType']()};}['getClassType'](){return 'CloudRectWithTextMarkup';}['addInput'](_0x4fc08c,_0x128b70,_0x265c07){const _0x55e367=this['padding']/this['tolerance']+this['fontSize']/this['tolerance']/0x2;super['addInput'](_0x4fc08c,_0x128b70,_0x265c07-_0x55e367);}['updateInputPosition'](_0x31dc14,_0x385793){var _0x57a11c;if(!this['manager']||!this['textInput'])return;const _0x44dbfc=_0x385793['clone']()['sub'](_0x31dc14)['normalize'](),_0x123f33=_0x44dbfc['cross'](new THREE['Vector2'](0x0,-0x1))<0x0,_0x46302d=this['textInput']['value'],_0x95d12b=((_0x57a11c=this['manager']['overlayRender'])===null||_0x57a11c===void 0x0?void 0x0:_0x57a11c['measureTextLength'](_0x46302d,this['fontSize']/this['tolerance']+'px\x20Arial'))||TextMarkup['DEFAULT_INPUT_WIDTH'],_0x1be49e=this['padding']/this['tolerance']+this['fontSize']/this['tolerance']/0x2;this['textInput']['style']['left']=(_0x123f33?_0x385793['x']:_0x385793['x']-this['padding']/this['tolerance']*0x2-_0x95d12b)+'px',this['textInput']['style']['top']=_0x385793['y']-_0x1be49e+'px',this['textPosition']['copy'](CoordinateUtils['screen2World'](_0x385793,this['manager']['camera'],this['manager']['viewerCanvas']));}['calcInputPositionByText'](_0x2e3b9e){var _0x159550;if(!this['textInput']||!this['manager'])return;const _0x367a94=((_0x159550=this['manager']['overlayRender'])===null||_0x159550===void 0x0?void 0x0:_0x159550['measureTextLength'](_0x2e3b9e,this['fontSize']/this['tolerance']+'px\x20Arial'))||0x0;if(_0x367a94>TextMarkup['DEFAULT_INPUT_WIDTH']){const _0x17315e=CoordinateUtils['world2Screen'](this['points'][0x0],this['manager']['camera'],this['manager']['viewerCanvas']),_0x5a2de8=CoordinateUtils['world2Screen'](this['textPosition'],this['manager']['camera'],this['manager']['viewerCanvas']),_0x2e3b06=_0x5a2de8['clone']()['sub'](_0x17315e)['normalize'](),_0x1e7edf=_0x2e3b06['cross'](new THREE['Vector2'](0x0,-0x1))<0x0,_0x431de7=CoordinateUtils['world2Screen'](this['textPosition'],this['manager']['camera'],this['manager']['viewerCanvas']);!_0x1e7edf&&(this['textInput']['style']['left']=_0x431de7['x']-_0x367a94-this['padding']/this['tolerance']*0x2+'px'),this['textInput']['style']['width']=Math['round'](_0x367a94)+'px';}}}CloudRectWithTextMarkup['LEADER_LINE_WIDTH']=0x1,CanvasRender['_registerDrawableClass'](CloudRectWithTextMarkup);

class AddMarkupCommand extends Command{constructor(_0x48cfa8,_0x29b769){super('AddMarkup'),this['manager']=_0x48cfa8,this['data']=_0x29b769;}['undo'](){const _0x360a2d=this['manager']['getMarkupById'](this['data']['id']);return _0x360a2d?(this['manager']['removeMarkup'](_0x360a2d),!![]):![];}['redo'](){const _0x770f48=this['manager']['createMarkup'](this['data']);return _0x770f48?(this['manager']['addMarkup'](_0x770f48),!![]):![];}}

class RemoveMarkupCommand extends Command{constructor(_0x6990df,_0x701007){super('RemoveMarkup'),this['manager']=_0x6990df,this['data']=_0x701007;}['undo'](){const _0x45c20c=this['manager']['createMarkup'](this['data']);return _0x45c20c?(this['manager']['addMarkup'](_0x45c20c),!![]):![];}['redo'](){const _0x1bc922=this['manager']['getMarkupById'](this['data']['id']);return _0x1bc922?(this['manager']['removeMarkup'](_0x1bc922),!![]):![];}}

class UpdateMarkupCommand extends Command{constructor(_0x28df20,_0x4dabf1,_0x40abee){super('UpdateMarkup'),this['manager']=_0x28df20,this['oldData']=_0x4dabf1,this['newData']=_0x40abee;}['undo'](){const _0x4a8495=this['manager']['getMarkupById'](this['oldData']['id']);return _0x4a8495?(this['manager']['updateMarkup'](_0x4a8495,this['oldData']),!![]):![];}['redo'](){const _0x1dc0c1=this['manager']['getMarkupById'](this['newData']['id']);return _0x1dc0c1?(this['manager']['updateMarkup'](_0x1dc0c1,this['newData']),!![]):![];}}

const tempVector3=new THREE['Vector3']();var MarkupPluginEvent;(function(_0x4e1ba1){_0x4e1ba1['StartDraw']='StartDraw',_0x4e1ba1['EndDraw']='EndDraw',_0x4e1ba1['EndEdit']='EndEdit';}(MarkupPluginEvent||(MarkupPluginEvent={})));class MarkupPlugin extends Plugin{constructor(_0x103110){super(_0x103110,{'id':MarkupPlugin['DEFAULT_ID']}),this['drawableList']=new DrawableList('markup'),this['lineWidth']=0x2,this['lineColor']=[0x1,0x0,0x0,0x1],this['fillColor']=[0x1,0x0,0x0,0.3],this['fontSize']=0x14,this['mouseDown']=![],this['mouseDownPositionX']=undefined,this['mouseDownPositionY']=undefined,this['isSelectLeaderText']=![],this['isDrawing']=![],this['tempPoints']=[],this['activated']=![],this['handleDbClick']=()=>{},this['handleInputMousemove']=_0x5406df=>{if(!this['mouseDown']&&this['type']===MarkupType['CloudRectWithText']&&this['isDrawing']&&this['creatingShape']){const _0x5b8d5e=CoordinateUtils['getScreenCoordinateByEvent'](_0x5406df,this['viewerCanvas']);this['creatingShape']['updateInputPosition'](this['mousedownPoint'],_0x5b8d5e),this['render']();}},this['mousedown']=_0x19fc43=>{var _0x4c3d02;if(_0x19fc43['pointers']&&_0x19fc43['pointers']['length']>0x1)return;const _0x5308f4=new THREE['Vector2'](_0x19fc43['x'],_0x19fc43['y']);let _0x5c1af2=this['pickPositionByScreenPoint'](_0x5308f4);if(!_0x5c1af2)return;_0x5c1af2['z']=0x0,this['mouseDownPositionX']=_0x5c1af2['x'],this['mouseDownPositionY']=_0x5c1af2['y'],this['mousedownPoint']=new THREE['Vector2'](_0x19fc43['x'],_0x19fc43['y']);_0x19fc43['button']===0x0&&(this['mouseDown']=!![]);if(_0x19fc43['button']===0x2){this['isDrawing']&&this['endDraw'](this['creatingShape']);return;}this['selectedShape']&&(this['selectedShape']['selected']=![],this['selectedShape']=undefined,this['render']());if(!this['isDrawing']){const _0x18928c=this['drawableList']['getDrawableByPosition'](_0x5c1af2);_0x18928c&&(this['selectedShape']=_0x18928c,_0x18928c['selected']=!![],_0x18928c instanceof CloudRectWithTextMarkup&&(this['isSelectLeaderText']=_0x18928c['isLeaderTextSelected'](_0x5c1af2)),this['render']());}if(this['isCreateTextMode']()&&this['mouseDown']&&!this['selectedShape']){!this['creatingShape']&&(this['creatingShape']=this['drawText'](_0x5c1af2,''));const _0x34b990=this['creatingShape'];_0x34b990['text']['length']===0x0?(_0x34b990['setTolerance'](this['viewer']['getPixelSizeInWorldCoord']()),_0x34b990['update']([_0x5c1af2]),_0x34b990['addInput'](this,_0x19fc43['x'],_0x19fc43['y'])):(_0x34b990['exitEditing'](),this['addMarkup'](_0x34b990,![]),this['endDraw'](_0x34b990)),this['render']();}if(this['isCreateLineMode']()&&this['mouseDown']&&!this['selectedShape']){if(this['tempPoints']['length']>0x0){const _0x401097=this['tempPoints'][0x0];if(tempVector3['subVectors'](_0x401097,_0x5c1af2)['length']()<this['viewer']['getPixelSizeInWorldCoord']()*0x5){_0x5c1af2=this['tempPoints'][0x0]['clone'](),this['tempPoints']['push'](_0x5c1af2),this['endDraw'](this['creatingShape']);return;}}this['isDrawing']=!![],this['tempPoints']['push'](_0x5c1af2);if(!this['creatingShape']){const _0x5ce7ec=this['creatingShape']=this['drawLine']([...this['tempPoints'],_0x5c1af2]);_0x5ce7ec&&this['addMarkup'](_0x5ce7ec,![]);}this['creatingShape']&&(this['creatingShape']['update']([...this['tempPoints'],_0x5c1af2]),this['render']()),this['dispatchEvent'](MarkupPluginEvent['StartDraw'],this['creatingShape']);}if(this['isCreateDotMode']()&&this['mouseDown']&&!this['selectedShape']){if(!this['creatingShape']){const _0x416fc1=this['creatingShape']=this['drawShape'](_0x5c1af2);_0x416fc1&&this['addMarkup'](_0x416fc1,![]);}this['isDrawing']=!![],this['render']();}(_0x4c3d02=this['creatingShape'])===null||_0x4c3d02===void 0x0?void 0x0:_0x4c3d02['setTolerance'](this['viewer']['getPixelSizeInWorldCoord']());},this['mousemove']=_0x48f982=>{if(_0x48f982['pointers']&&_0x48f982['pointers']['length']>0x1)return;const _0x2acd50=new THREE['Vector2'](_0x48f982['x'],_0x48f982['y']);let _0x1fa0d0=this['pickPositionByScreenPoint'](_0x2acd50);if(!_0x1fa0d0)return;if(this['selectedShape']){if(this['mouseDown']&&this['mouseDownPositionX']!==undefined&&this['mouseDownPositionY']!==undefined){!this['isEditing']()&&(this['initialDataForEditing']=this['selectedShape']['getData']());const _0x57c969=_0x1fa0d0['x']-this['mouseDownPositionX'],_0xcc5b71=_0x1fa0d0['y']-this['mouseDownPositionY'];this['selectedShape']instanceof CloudRectWithTextMarkup&&this['isSelectLeaderText']?this['selectedShape']['translateLeaderText'](_0x57c969,_0xcc5b71):this['selectedShape']['translate'](_0x57c969,_0xcc5b71),this['render'](),this['mouseDownPositionX']=_0x1fa0d0['x'],this['mouseDownPositionY']=_0x1fa0d0['y'];}}else {if(this['isCreateDotMode']())return;if(this['mouseDown']&&this['isCreateShapeMode']()&&this['mouseDownPositionX']!==undefined&&this['mouseDownPositionY']!==undefined){const _0x23d805=new THREE['Vector3'](this['mouseDownPositionX'],this['mouseDownPositionY'],0x0);if(!this['creatingShape']){const _0x4824f3=this['creatingShape']=this['drawShape'](_0x23d805,_0x1fa0d0);_0x4824f3&&this['addMarkup'](_0x4824f3,![]);}this['creatingShape']['update']([_0x23d805,_0x1fa0d0]),this['isDrawing']=!![],this['render']();}if(this['isCreateLineMode']()&&this['tempPoints']['length']>0x0&&this['isDrawing']){const _0x7f119d=this['tempPoints'][0x0];tempVector3['subVectors'](_0x7f119d,_0x1fa0d0)['length']()<this['viewer']['getPixelSizeInWorldCoord']()*0x5&&(_0x1fa0d0=this['tempPoints'][0x0]['clone']()),this['creatingShape']['update']([...this['tempPoints'],_0x1fa0d0]),this['render']();}}},this['mouseup']=_0x43b591=>{this['mouseDown']=![];this['selectedShape']&&this['isEditing']()&&this['endEdit'](this['selectedShape']);if(this['isCreateShapeMode']()&&this['isDrawing']&&this['creatingShape']){if(this['type']===MarkupType['LeaderLine']){const _0xca4248=this['creatingShape'];_0xca4248['isEditing']?_0xca4248['exitEditing']():(_0xca4248['setFontSize'](this['fontSize']*this['viewer']['getPixelSizeInWorldCoord']()),_0xca4248['addInput'](this,_0x43b591['x'],_0x43b591['y'])),_0xca4248['addEventListener'](TextMarkupEvent['ExitEditing'],()=>{this['isDrawing']=![],this['endDraw'](this['creatingShape']);});}else {if(this['type']===MarkupType['CloudRectWithText']){const _0x18de95=this['creatingShape'];_0x18de95['setFontSize'](this['fontSize']*this['viewer']['getPixelSizeInWorldCoord']()),_0x18de95['addInput'](this,_0x43b591['x'],_0x43b591['y']),_0x18de95['addEventListener'](TextMarkupEvent['ExitEditing'],()=>{this['isDrawing']=![],this['endDraw'](this['creatingShape']);});}else this['endDraw'](this['creatingShape']);}}},this['keydown']=_0x46d2ce=>{if(_0x46d2ce['code']==='Delete')this['selectedShape']&&(this['viewer']['hasEventListener'](ViewerEvent['BeforeRemoveMarkup'])?this['viewer']['dispatchEvent'](ViewerEvent['BeforeRemoveMarkup'],this['confirmToRemove']['bind'](this)):(this['removeMarkup'](this['selectedShape']),this['undoMgr']['addCommand'](new RemoveMarkupCommand(this,this['selectedShape']['getData']())),this['selectedShape']=undefined));else _0x46d2ce['code']==='Escape'&&this['cancelDraw'](this['creatingShape']);},this['viewer']=_0x103110,this['inputManager']=_0x103110['getInputManager'](),this['overlayRender']=this['viewer']['getOverlayRender'](),this['overlayRender']['addDrawableList'](this['drawableList']);}get['viewerCanvas'](){return this['overlayRender']['getCanvas']();}get['camera'](){return this['viewer']['camera'];}get['raycaster'](){return this['viewer']['getRaycaster']();}get['undoMgr'](){return this['viewer']['getUndoManager']();}['setMarkupVisibility'](_0x4b91f9,_0x8e7240){const _0x442b0c=this['drawableList']['getDrawables'](),_0x41a8a6=_0x442b0c['get'](_0x4b91f9);if(!_0x41a8a6)return ![];return _0x41a8a6['visible']!==_0x8e7240&&(_0x41a8a6['visible']=_0x8e7240,this['render']()),!![];}['setMarkupsVisibility'](_0x358adc){let _0x79f60d=![];this['drawableList']['getDrawables']()['forEach'](_0x1cbf5a=>{_0x1cbf5a['visible']!==_0x358adc&&(_0x1cbf5a['visible']=_0x358adc,_0x79f60d=!![]);}),_0x79f60d&&this['render']();}['clear'](){this['drawableList']['clear'](),this['isDrawing']&&this['reset'](),this['render']();}['isActive'](){return this['activated'];}['activate'](){this['activated']=!![],DeviceUtils['isMobile']?(this['inputManager']['addEventListener']('touchstart',this['mousedown']),this['inputManager']['addEventListener']('touchmove',this['mousemove']),this['inputManager']['addEventListener']('touchend',this['mouseup'])):(this['inputManager']['addEventListener']('mousedown',this['mousedown']),this['inputManager']['addEventListener']('mousemove',this['mousemove']),this['inputManager']['addEventListener']('mouseup',this['mouseup']),this['inputManager']['addEventListener']('dblclick',this['handleDbClick'])),this['inputManager']['addEventListener']('keydown',this['keydown']),window['addEventListener']('mousemove',this['handleInputMousemove']),this['viewer']['getCameraManager']()['enableMouseLeft'](![]),this['viewer']['getCameraManager']()['enableKeyControl'](![]),this['render']();}['deactivate'](){this['activated']=![],DeviceUtils['isMobile']?(this['inputManager']['removeEventListener']('touchstart',this['mousedown']),this['inputManager']['removeEventListener']('touchmove',this['mousemove']),this['inputManager']['removeEventListener']('touchend',this['mouseup'])):(this['inputManager']['removeEventListener']('mousedown',this['mousedown']),this['inputManager']['removeEventListener']('mousemove',this['mousemove']),this['inputManager']['removeEventListener']('mouseup',this['mouseup']),this['inputManager']['removeEventListener']('dblclick',this['handleDbClick'])),this['inputManager']['removeEventListener']('keydown',this['keydown']),window['removeEventListener']('mousemove',this['handleInputMousemove']),this['viewer']['getCameraManager']()['enableMouseLeft'](!![]),this['viewer']['getCameraManager']()['enableKeyControl'](!![]),this['mouseDown']=![],this['tempPoints']=[],this['isDrawing']=![],this['creatingShape']=undefined,this['selectedShape']&&(this['selectedShape']['selected']=![],this['selectedShape']=undefined),this['render']();}['getActiveMarkupType'](){return this['type'];}['setDrawType'](_0x5aa721){this['type']=_0x5aa721,this['reset']();}['setLineWidth'](_0x18188d){this['lineWidth']=_0x18188d;}['getLineWidth'](){return this['lineWidth'];}['setLineColor'](_0x58d3d2){this['lineColor']=_0x58d3d2;}['getLineColor'](){return this['lineColor'];}['setFillColor'](_0x183751){this['fillColor']=_0x183751;}['getFillColor'](){return this['fillColor'];}['setFontSize'](_0x10bc1e){this['fontSize']=_0x10bc1e;}['getFontSize'](){return this['fontSize'];}['pickPositionByScreenPoint'](_0x10e41e){var _0x124d3a;return (_0x124d3a=this['viewer']['pickObject'](_0x10e41e))===null||_0x124d3a===void 0x0?void 0x0:_0x124d3a['point'];}['confirmToRemove'](_0x41f3ff){if(!this['selectedShape'])return;if(_0x41f3ff)this['removeMarkup'](this['selectedShape']),this['undoMgr']['addCommand'](new RemoveMarkupCommand(this,this['selectedShape']['getData']())),this['selectedShape']=undefined;}['isEditing'](){return !!this['initialDataForEditing'];}['endEdit'](_0x352a3c){if(!this['initialDataForEditing'])return;const _0x5a5145=_0x352a3c['getData']();this['viewer']['dispatchEvent'](ViewerEvent['MarkupUpdate'],{'oldData':this['initialDataForEditing'],'newData':_0x5a5145}),this['dispatchEvent'](MarkupPluginEvent['EndEdit'],_0x352a3c),this['undoMgr']['addCommand'](new UpdateMarkupCommand(this,this['initialDataForEditing'],_0x5a5145)),this['initialDataForEditing']=undefined,this['isSelectLeaderText']=![];}['endDraw'](_0x5a75f3){this['type']===MarkupType['PolyLine']&&this['creatingShape']&&(this['tempPoints']['length']<0x2?(this['removeMarkup'](this['creatingShape'],![]),this['creatingShape']=undefined):this['creatingShape']['update'](this['tempPoints']));if(_0x5a75f3){const _0x4af553=_0x5a75f3['getData']();this['viewer']['dispatchEvent'](ViewerEvent['MarkupAdd'],_0x4af553),this['undoMgr']['addCommand'](new AddMarkupCommand(this,_0x4af553));}this['dispatchEvent'](MarkupPluginEvent['EndDraw'],_0x5a75f3),this['reset']();}['cancelDraw'](_0x4a93ad){_0x4a93ad&&this['removeMarkup'](_0x4a93ad,![]),this['reset']();}['reset'](){this['tempPoints']=[],this['isDrawing']=![],this['creatingShape']=undefined,this['mouseDownPositionX']=undefined,this['mouseDownPositionY']=undefined,this['mousedownPoint']=undefined,this['isSelectLeaderText']=![],this['selectedShape']&&(this['selectedShape']['selected']=![],this['selectedShape']=undefined),this['render']();}['render'](){var _0x1164f2;(_0x1164f2=this['overlayRender'])===null||_0x1164f2===void 0x0?void 0x0:_0x1164f2['render']();}['addMarkup'](_0x5196aa,_0x226d97=!![]){this['drawableList']['addDrawable'](_0x5196aa),this['render'](),_0x226d97&&this['viewer']['dispatchEvent'](ViewerEvent['MarkupAdd'],_0x5196aa['getData']());}['updateMarkup'](_0x3c8df6,_0x5127ba,_0x34634e=!![]){this['drawableList']['updateDrawable'](_0x3c8df6,_0x5127ba),this['render'](),_0x34634e&&this['viewer']['dispatchEvent'](ViewerEvent['MarkupUpdate'],{'oldData':_0x3c8df6['getData'](),'newData':_0x5127ba});}['removeMarkup'](_0xe371e1,_0x2f2b49=!![]){this['drawableList']['removeDrawable'](_0xe371e1),this['render'](),_0x2f2b49&&this['viewer']['dispatchEvent'](ViewerEvent['MarkupRemove'],_0xe371e1['getData']());}['removeMarkupById'](_0x44fb48){const _0x2fccfd=this['getMarkupById'](_0x44fb48);if(!_0x2fccfd)return ![];return this['removeMarkup'](_0x2fccfd,![]),!![];}['createMarkup'](_0x35ff19){return CanvasRender['createDrawable'](_0x35ff19);}['getMarkupById'](_0x4fc0db){return this['drawableList']['getDrawableById'](_0x4fc0db);}['getData'](){return this['drawableList']['getDrawableDatas']();}['setData'](_0x3a996c){this['undoMgr']['startTransaction'](),_0x3a996c['forEach'](_0x4bf214=>{this['addMarkup'](this['createMarkup'](_0x4bf214)),this['undoMgr']['addCommand'](new AddMarkupCommand(this,_0x4bf214));}),this['undoMgr']['endTransaction'](),this['render']();}['isCreateLineMode'](){return [MarkupType['PolyLine'],MarkupType['CloudLine']]['includes'](this['type']);}['isCreateDotMode'](){return [MarkupType['Dot']]['includes'](this['type']);}['isCreateTextMode'](){return [MarkupType['Text']]['includes'](this['type']);}['isCreateShapeMode'](){return [MarkupType['X'],MarkupType['Rectangle'],MarkupType['CloudLineRectangle'],MarkupType['Circle'],MarkupType['Ellipse'],MarkupType['Arrow'],MarkupType['LeaderLine'],MarkupType['CloudRectWithText'],MarkupType['Dot']]['includes'](this['type']);}['drawShape'](_0x263f10,_0x215fff){const _0x574829=[[_0x263f10['x'],_0x263f10['y']]];return _0x215fff&&_0x574829['push']([_0x215fff['x'],_0x215fff['y']]),CanvasRender['createDrawable']({'id':CommonUtils['guid'](),'lineWidth':this['lineWidth'],'lineColor':this['lineColor'],'fillColor':this['fillColor'],'type':this['type'],'points':_0x574829});}['drawLine'](_0x14367c){return CanvasRender['createDrawable']({'id':CommonUtils['guid'](),'lineWidth':this['lineWidth'],'lineColor':this['lineColor'],'fillColor':this['fillColor'],'type':this['type'],'points':_0x14367c['map'](_0xb9965d=>[_0xb9965d['x'],_0xb9965d['y']])});}['drawText'](_0x2512e6,_0x11c267){return CanvasRender['createDrawable']({'id':CommonUtils['guid'](),'lineWidth':this['lineWidth'],'lineColor':this['lineColor'],'fillColor':this['fillColor'],'fontSize':this['fontSize']*this['viewer']['getPixelSizeInWorldCoord'](),'type':this['type'],'text':_0x11c267,'points':[[_0x2512e6['x'],_0x2512e6['y']]]});}['destroy'](){this['deactivate'](),this['clear']();}}MarkupPlugin['DEFAULT_ID']='MarkupPlugin';

var css_248z$7 = "#navCube{bottom:10px;cursor:pointer;height:135px;pointer-events:none;position:absolute;right:10px;width:135px;z-index:1}#navCube:hover{opacity:1}.css3d-navcube .navcube-plane{backface-visibility:hidden;transition:all .2s;z-index:1}.css3d-navcube .navcube-plane.outer{background:linear-gradient(-45deg,transparent 15px,#efefef 0) 100% 100%,linear-gradient(-135deg,transparent 15px,#efefef 0) 100% 0,linear-gradient(135deg,transparent 15px,#efefef 0) 0 0,linear-gradient(45deg,transparent 15px,#efefef 0) 0 100%;background-repeat:no-repeat;background-size:70% 70%;opacity:.7}.css3d-navcube .navcube-plane.inner{background:linear-gradient(-45deg,transparent 14px,#2c7be5 0) 100% 100%,linear-gradient(-135deg,transparent 14px,#2c7be5 0) 100% 0,linear-gradient(135deg,transparent 14px,#2c7be5 0) 0 0,linear-gradient(45deg,transparent 14px,#2c7be5 0) 0 100%;background-repeat:no-repeat;background-size:70% 70%;font-size:30px;line-height:100px;margin:2px;text-align:center}.css3d-navcube .navcube-plane:hover{opacity:1!important}.css3d-navcube .navcube-edge{opacity:0;transition:all .2s;z-index:2}.css3d-navcube .navcube-edge:hover{opacity:1!important}.css3d-navcube .navcube-corner{backface-visibility:hidden;box-sizing:content-box;opacity:.7;top:4px;transform-origin:50% 33%;transition:all .2s;z-index:3}.css3d-navcube .navcube-corner-plane{backface-visibility:hidden;opacity:0;top:-6.5px;transform-origin:bottom;transition:all .2s;z-index:3}.css3d-navcube .highlight{opacity:1}";
styleInject(css_248z$7);

const en$6={'front':'Front','back':'Back','top':'Top','bottom':'Bottom','left':'Left','right':'Right'};const cn$6={'front':'前','back':'后','top':'上','bottom':'下','left':'左','right':'右'};const i18n$6=i18next['createInstance']();const lng$6='en';i18n$6['init']({'lng':lng$6,'debug':![],'resources':{'en':{'translation':en$6},'cn':{'translation':cn$6}}});

const navCubeColor='#2C7BE5',halfPI=Math['PI']/0x2,quarterPI=Math['PI']/0x4,posAndRot=([_0x5b66b3,_0x278c06,_0x396198],[_0xb49418,_0x4c0632,_0x42faf7])=>({'position':new THREE['Vector3'](_0x5b66b3,_0x278c06,_0x396198),'rotation':new THREE['Euler'](_0xb49418,_0x4c0632,_0x42faf7)}),plane={[ViewDirection['Front']]:Object['assign'](Object['assign']({},posAndRot([0x0,0x0,0x1],[0x0,0x0,0x0])),{'label':'front'}),[ViewDirection['Right']]:Object['assign'](Object['assign']({},posAndRot([0x1,0x0,0x0],[0x0,halfPI,0x0])),{'label':'right'}),[ViewDirection['Back']]:Object['assign'](Object['assign']({},posAndRot([0x0,0x0,-0x1],[0x0,Math['PI'],0x0])),{'label':'back'}),[ViewDirection['Left']]:Object['assign'](Object['assign']({},posAndRot([-0x1,0x0,0x0],[0x0,-halfPI,0x0])),{'label':'left'}),[ViewDirection['Top']]:Object['assign'](Object['assign']({},posAndRot([0x0,0x1,0x0],[-halfPI,0x0,0x0])),{'label':'top'}),[ViewDirection['Bottom']]:Object['assign'](Object['assign']({},posAndRot([0x0,-0x1,0x0],[halfPI,0x0,0x0])),{'label':'bottom'})},edge=[posAndRot([0x0,0x1,0x1],[-quarterPI,0x0,-halfPI]),posAndRot([0x0,0x1,-0x1],[-0x3*quarterPI,0x0,-halfPI]),posAndRot([0x0,-0x1,0x1],[quarterPI,0x0,-halfPI]),posAndRot([0x0,-0x1,-0x1],[0x3*quarterPI,0x0,-halfPI]),posAndRot([0x1,0x1,0x0],[-halfPI,quarterPI,0x0]),posAndRot([0x1,-0x1,0x0],[-halfPI,0x3*quarterPI,0x0]),posAndRot([-0x1,0x1,0x0],[-halfPI,-quarterPI,0x0]),posAndRot([-0x1,-0x1,0x0],[-halfPI,-0x3*quarterPI,0x0]),posAndRot([0x1,0x0,0x1],[0x0,quarterPI,0x0]),posAndRot([0x1,0x0,-0x1],[0x0,0x3*quarterPI,0x0]),posAndRot([-0x1,0x0,0x1],[0x0,-quarterPI,0x0]),posAndRot([-0x1,0x0,-0x1],[0x0,-0x3*quarterPI,0x0])],corner=[{'position':new THREE['Vector3'](0x1,0x1,0x1),'rotation':[new THREE['Euler'](-halfPI,halfPI,-quarterPI),new THREE['Euler'](-halfPI,0x0,quarterPI),new THREE['Euler'](0x0,0x0,0x3*quarterPI)]},{'position':new THREE['Vector3'](0x1,0x1,-0x1),'rotation':[new THREE['Euler'](0x0,halfPI,0x3*quarterPI),new THREE['Euler'](-halfPI,0x0,0x3*quarterPI),new THREE['Euler'](0x0,Math['PI'],-0x3*quarterPI)]},{'position':new THREE['Vector3'](-0x1,0x1,-0x1),'rotation':[new THREE['Euler'](Math['PI'],-halfPI,quarterPI),new THREE['Euler'](-halfPI,0x0,-0x3*quarterPI),new THREE['Euler'](0x0,Math['PI'],0x3*quarterPI)]},{'position':new THREE['Vector3'](-0x1,0x1,0x1),'rotation':[new THREE['Euler'](0x0,-halfPI,0x3*quarterPI),new THREE['Euler'](-halfPI,0x0,-quarterPI),new THREE['Euler'](0x0,0x0,-0x3*quarterPI)]},{'position':new THREE['Vector3'](0x1,-0x1,0x1),'rotation':[new THREE['Euler'](0x0,halfPI,-quarterPI),new THREE['Euler'](-halfPI,Math['PI'],-quarterPI),new THREE['Euler'](0x0,0x0,quarterPI)]},{'position':new THREE['Vector3'](0x1,-0x1,-0x1),'rotation':[new THREE['Euler'](-halfPI,halfPI,0x3*quarterPI),new THREE['Euler'](halfPI,0x0,quarterPI),new THREE['Euler'](0x0,Math['PI'],-quarterPI)]},{'position':new THREE['Vector3'](-0x1,-0x1,0x1),'rotation':[new THREE['Euler'](0x0,-halfPI,quarterPI),new THREE['Euler'](halfPI,0x0,-0x3*quarterPI),new THREE['Euler'](0x0,0x0,-quarterPI)]},{'position':new THREE['Vector3'](-0x1,-0x1,-0x1),'rotation':[new THREE['Euler'](0x0,-halfPI,-quarterPI),new THREE['Euler'](halfPI,0x0,-quarterPI),new THREE['Euler'](0x0,Math['PI'],quarterPI)]}];class NavCube extends THREE['Object3D']{constructor(_0x81e58e={}){super(),this['NAVCUBE_SIZE']=0x64,this['clickHandler']=_0x81e58e['onClick'],forEach(plane,_0x4a354f=>{this['createPlane'](_0x4a354f);}),forEach(edge,_0x59ecf8=>{this['createEdge'](_0x59ecf8);}),forEach(corner,(_0xdfe5a3,_0x234b94)=>{this['createCorner'](_0xdfe5a3,_0x234b94);});}['createPlane'](_0x5123d6){const _0x148ca5=_0x5123d6['position']['clone']()['multiplyScalar'](this['NAVCUBE_SIZE']/0x2),{rotation:_0x32b6d3,label:_0x29fe93}=_0x5123d6,_0x1900b1=document['createElement']('div');_0x1900b1['style']['width']=this['NAVCUBE_SIZE']+'px',_0x1900b1['style']['height']=this['NAVCUBE_SIZE']+'px',_0x1900b1['classList']['add']('navcube-plane'),_0x1900b1['classList']['add']('outer');const _0x4984cb=document['createElement']('div');_0x4984cb['style']['width']=this['NAVCUBE_SIZE']-0x4+'px',_0x4984cb['style']['height']=this['NAVCUBE_SIZE']-0x4+'px',_0x4984cb['innerHTML']=i18n$6['t'](_0x29fe93),_0x4984cb['classList']['add']('navcube-plane'),_0x4984cb['classList']['add']('inner'),_0x1900b1['appendChild'](_0x4984cb);const _0x5b4305=new THREEAddons['CSS3DObject'](_0x1900b1);_0x5b4305['position']['copy'](_0x148ca5),_0x5b4305['rotation']['copy'](_0x32b6d3),this['add'](_0x5b4305),_0x1900b1['addEventListener']('click',()=>{this['clickHandler']&&this['clickHandler'](_0x148ca5['clone']()['normalize'](),_0x32b6d3);});}['createEdge'](_0x296222){const _0x1414c8=_0x296222['position']['clone']()['multiplyScalar'](this['NAVCUBE_SIZE']/0x2),_0x2be81b=document['createElement']('div');_0x2be81b['style']['width']=0x4+'px',_0x2be81b['style']['height']=this['NAVCUBE_SIZE']-0x28+'px',_0x2be81b['style']['background']=navCubeColor,_0x2be81b['classList']['add']('navcube-edge');const _0xa28921=new THREEAddons['CSS3DObject'](_0x2be81b);_0xa28921['position']['copy'](_0x1414c8),_0xa28921['rotation']['copy'](_0x296222['rotation']),this['add'](_0xa28921),_0x2be81b['addEventListener']('click',()=>{this['clickHandler']&&this['clickHandler'](_0x1414c8['clone']()['normalize'](),_0x296222['rotation']);});}['createCorner'](_0x2d4608,_0x49c2b6){const _0xce1d01=_0x3f95b1=>{_0x3f95b1['addEventListener']('click',()=>{this['clickHandler']&&this['clickHandler'](_0x2d4608['position']['clone']()['normalize'](),new THREE['Euler']());}),_0x3f95b1['addEventListener']('mouseenter',()=>{const _0x2ca684=document['getElementsByClassName']('group-'+_0x49c2b6);Array['from'](_0x2ca684)['forEach'](_0x4ad1bc=>{_0x4ad1bc instanceof HTMLElement&&_0x4ad1bc['classList']['add']('highlight');});}),_0x3f95b1['addEventListener']('mouseleave',()=>{const _0x579d4a=document['getElementsByClassName']('group-'+_0x49c2b6);Array['from'](_0x579d4a)['forEach'](_0x1a1f65=>{_0x1a1f65 instanceof HTMLElement&&_0x1a1f65['classList']['remove']('highlight');});});},_0x4ce5cb=_0x2d4608['position']['clone']()['multiplyScalar'](this['NAVCUBE_SIZE']/0x2+0.5),_0x2aeda7=document['createElement']('div');_0x2aeda7['style']['borderTop']=0xe*Math['sqrt'](0x3)+'px\x20solid\x20'+'#efefef',_0x2aeda7['style']['borderLeft']=0xe+'px\x20solid\x20transparent',_0x2aeda7['style']['borderRight']=0xe+'px\x20solid\x20transparent',_0x2aeda7['classList']['add']('navcube-corner'),_0x2aeda7['classList']['add']('group-'+_0x49c2b6);const _0x33a3c8=new THREEAddons['CSS3DObject'](_0x2aeda7);_0x33a3c8['position']['copy'](_0x4ce5cb)['lerp'](_0x2d4608['position'],0.14);const _0xeefc6d=Math['atan2'](_0x4ce5cb['z'],_0x4ce5cb['x']);_0x33a3c8['rotateY'](_0x4ce5cb['z']*_0x4ce5cb['x']<0x0?Math['PI']+_0xeefc6d:_0xeefc6d);const _0x3d018c=new THREE['Euler']()['setFromVector3'](_0x4ce5cb['clone']()['normalize']());_0x33a3c8['rotateX'](-_0x3d018c['y']),_0x4ce5cb['y']<0x0&&_0x33a3c8['rotateZ'](Math['PI']),this['add'](_0x33a3c8);const _0x3efaea=(_0x2732e1,_0x3b1a93,_0xe08cfc)=>{const _0x429ffe=document['createElement']('div');_0x429ffe['style']['borderTop']=0xd+'px\x20solid\x20'+navCubeColor,_0x429ffe['style']['borderLeft']=0xd+'px\x20solid\x20transparent',_0x429ffe['style']['borderRight']=0xd+'px\x20solid\x20transparent',_0x429ffe['classList']['add']('navcube-corner-plane'),_0x429ffe['classList']['add']('group-'+_0x3b1a93);const _0xb304e7=new THREEAddons['CSS3DObject'](_0x429ffe),_0x495371=_0x2d4608['position']['clone']();_0x495371['setComponent'](_0xe08cfc,0x0),_0xb304e7['position']['copy'](_0x4ce5cb)['sub'](_0x495371),_0xb304e7['rotateX'](_0x2732e1['x']),_0xb304e7['rotateY'](_0x2732e1['y']),_0xb304e7['rotateZ'](_0x2732e1['z']),this['add'](_0xb304e7),_0xce1d01(_0x429ffe);};forEach(_0x2d4608['rotation'],(_0x25c9d9,_0x44342e)=>{_0x3efaea(_0x25c9d9,_0x49c2b6,_0x44342e);}),_0xce1d01(_0x2aeda7);}}

class NavCubePlugin extends Plugin{constructor(_0x3c6bf6,_0xaf78f8){const _0x55c910=(_0xaf78f8===null||_0xaf78f8===void 0x0?void 0x0:_0xaf78f8['id'])||NavCubePlugin['DEFAULT_ID'];super(_0x3c6bf6,{'id':_0x55c910}),this['cfg']=_0xaf78f8||{},this['init']();}['init'](){this['initLocalization'](),this['initRenderer'](),this['initScene'](),this['animate']();}['initLocalization'](){const _0x62bdc0=this['cfg']['language']||DefaultLanguage;i18n$6['changeLanguage'](_0x62bdc0);}['initRenderer'](){var _0xc2ed69;let _0x38a19f=0x87,_0x28d11a=0x87,_0x350877;this['cfg']['containerId']&&(_0x350877=document['getElementById'](this['cfg']['containerId']),_0x350877&&(_0x38a19f=_0x350877['clientWidth'],_0x28d11a=_0x350877['clientHeight']));if(!_0x350877){const _0x3f3dd3='navCube';_0x350877=document['createElement']('div'),_0x350877['id']=_0x3f3dd3,(_0xc2ed69=this['viewer']['widgetContainer'])===null||_0xc2ed69===void 0x0?void 0x0:_0xc2ed69['appendChild'](_0x350877);}this['renderer']=new THREEAddons['CSS3DRenderer'](),this['renderer']['setSize'](_0x38a19f,_0x28d11a),this['renderer']['domElement']['classList']['add']('css3d-navcube'),_0x350877['appendChild'](this['renderer']['domElement']);}['initScene'](){this['scene']=new THREE['Scene']();const _0x520c7d=window['innerWidth']/window['innerHeight'],_0x40b22d=0xc8;this['camera']=new THREE['OrthographicCamera'](_0x40b22d*_0x520c7d/-0x2,_0x40b22d*_0x520c7d/0x2,_0x40b22d/0x2,_0x40b22d/-0x2,0x1,0x3e8),this['camera']['position']['set'](-0xc8,0xc8,0xc8),this['scene']['add'](this['camera']),this['navCube']=new NavCube({'onClick':_0x2765c5=>this['viewer']['flyToDirection'](_0x2765c5)}),this['scene']['add'](this['navCube']);}['render'](){this['renderer']&&this['scene']&&this['camera']&&(this['update'](),this['renderer']['render'](this['scene'],this['camera']));}['animate'](){requestAnimationFrame(this['animate']['bind'](this)),this['render']();}['update'](){const _0x2eb2b0=this['viewer']['camera'];if(_0x2eb2b0){const _0x5e431e=new THREE['Vector3']();_0x2eb2b0['getWorldDirection'](_0x5e431e);const _0x59076e=_0x2eb2b0['up'];this['updateCameraDirection'](_0x5e431e,_0x59076e);}}['updateCameraDirection'](_0xdb4cad,_0x469e6f){if(!this['camera']||!_0xdb4cad)return;_0xdb4cad['normalize']();const _0x18c155=0x14,_0x1deeef=0x0;this['camera']['position']['set'](-_0xdb4cad['x']*_0x18c155+_0x1deeef,-_0xdb4cad['y']*_0x18c155+_0x1deeef,-_0xdb4cad['z']*_0x18c155+_0x1deeef),this['camera']['lookAt'](_0x1deeef,_0x1deeef,_0x1deeef),this['camera']['up']=_0x469e6f;}['destroy'](){super['destroy']();if(!this['scene']||!this['camera']||!this['navCube'])return;this['scene']['clear'](),this['camera']=undefined,this['navCube']=undefined,this['scene']=undefined;}}NavCubePlugin['DEFAULT_ID']='NavCubePlugin';

var css_248z$6 = ".property{border-radius:0;box-shadow:0 0 10px 0 rgba(0,0,0,.4);height:100%;max-height:100%;overflow:visible;resize:none;right:0;top:0;transition:transform .25s ease,width .25s ease}.property.collapsed{transform:translateX(calc(100% - 1px))}.property .collapse-toggle{align-items:center;background:#fff;border:none;border-radius:6px 0 0 6px;box-shadow:0 2px 6px rgba(0,0,0,.12);cursor:pointer;display:flex;font-family:monospace;font-weight:600;height:30px;justify-content:center;left:-20px;position:absolute;top:12px;user-select:none;width:20px;z-index:100}.property .header{display:none!important}.property .content .prop-tabs-bar{color:rgba(0,0,0,.533)}.property .content .prop-tabs-bar .prop-tab{cursor:pointer;display:inline-block;padding:4px 8px}.property .content .prop-tabs-bar .prop-tab:hover{color:#4096ff}.property .content .prop-tabs-bar .active{color:#000}.property .content .prop-tabs-bar .disabled{color:rgba(0,0,0,.333);cursor:default}.property .content .prop-tabs-bar .disabled:hover{color:rgba(0,0,0,.333)}.property .content .prop-details{max-height:calc(100% - 36px);overflow:auto;padding:8px}.property .content .prop-details .prop-node-mode-btn{background:#fff;border:1px solid #ddd;border-radius:3px;cursor:pointer;font-size:13px;padding:4px 8px}.property .content .prop-details .prop-node-mode-btn.active{background:#0078d4;border-color:#0065b3;color:#fff}.property .content .prop-details input[type=number],.property .content .prop-details input[type=text]{border:1px solid #ddd;border-radius:3px;box-sizing:border-box;font-size:13px;padding:4px 6px;width:70px}";
styleInject(css_248z$6);

const en$5={'property':'Property'};const cn$5={'property':'属性'};const i18n$5=i18next['createInstance']();const lng$5='en';i18n$5['init']({'lng':lng$5,'debug':![],'resources':{'en':{'translation':en$5},'cn':{'translation':cn$5}}});

class PropertyPlugin extends Plugin{constructor(_0x28d2e6,_0x438591){const _0x503af0=(_0x438591===null||_0x438591===void 0x0?void 0x0:_0x438591['id'])||PropertyPlugin['DEFAULT_ID'];super(_0x28d2e6,{'id':_0x503af0}),this['lastActiveTabIdx']=0x0,this['onObjectSelected']=()=>{var _0x28af45;((_0x28af45=this['basePanel'])===null||_0x28af45===void 0x0?void 0x0:_0x28af45['isVisible']())&&(this['updateContent'](),this['viewer']['enableRender']());},this['onObjectDeselected']=()=>{var _0x204473;((_0x204473=this['basePanel'])===null||_0x204473===void 0x0?void 0x0:_0x204473['isVisible']())&&(this['updateContent'](),this['viewer']['enableRender']());},this['cfg']=_0x438591||{},this['initLocalization'](),this['cfg']['visible']!==![]&&this['updateContent'](),this['viewer']['addEventListener'](ViewerEvent['ObjectSelected'],this['onObjectSelected']),this['viewer']['addEventListener'](ViewerEvent['ObjectDeselected'],this['onObjectDeselected']);}['updateContent'](){var _0x38900e,_0x3d974c,_0x25857e,_0x5829ef;const _0x3921fd=this['viewer'];this['cfg']['containerId']&&(this['container']=document['getElementById'](this['cfg']['containerId']));!this['container']&&(this['container']=_0x3921fd['widgetContainer']);if(!this['basePanel']){this['basePanel']=new BasePanel({'container':this['container'],'title':i18n$5['t']('property'),'cssClass':'property','onClose':()=>this['onClose'](),'viewportContainer':this['viewer']['viewerContainer']}),this['content']=(_0x38900e=this['basePanel'])===null||_0x38900e===void 0x0?void 0x0:_0x38900e['content'];const _0xe6314f=((_0x25857e=(_0x3d974c=this['basePanel'])===null||_0x3d974c===void 0x0?void 0x0:_0x3d974c['content'])===null||_0x25857e===void 0x0?void 0x0:_0x25857e['parentElement'])||((_0x5829ef=this['basePanel'])===null||_0x5829ef===void 0x0?void 0x0:_0x5829ef['root']);if(_0xe6314f){const _0x19ee37=document['createElement']('button');_0x19ee37['className']='collapse-toggle',_0x19ee37['type']='button',_0x19ee37['title']='Collapse\x20/\x20Expand',_0x19ee37['innerText']='>',_0xe6314f['appendChild'](_0x19ee37);const _0x28f3f2=_0x481324=>{_0xe6314f['classList']['toggle']('collapsed',_0x481324),_0x19ee37['innerText']=_0x481324?'<':'>';};_0x19ee37['addEventListener']('click',_0x2dc098=>{_0x2dc098['stopPropagation']();const _0x38a69b=_0xe6314f['classList']['contains']('collapsed');_0x28f3f2(!_0x38a69b);});}}this['addContent']();}['initLocalization'](){const _0x24fc02=this['cfg']['language']||DefaultLanguage;i18n$5['changeLanguage'](_0x24fc02);}['setVisible'](_0x25c4b7){_0x25c4b7&&this['updateContent'](),this['basePanel']&&(this['basePanel']['setVisible'](_0x25c4b7),this['dispatchEvent']('visibilitychange',_0x25c4b7));}['isVisible'](){var _0x25ee09;return !!((_0x25ee09=this['basePanel'])===null||_0x25ee09===void 0x0?void 0x0:_0x25ee09['isVisible']());}['onClose'](){this['dispatchEvent']('visibilitychange',![]);}['destroy'](){var _0xbe9856;super['destroy'](),this['viewer']['removeEventListener'](ViewerEvent['ObjectSelected'],this['onObjectSelected']),this['viewer']['removeEventListener'](ViewerEvent['ObjectDeselected'],this['onObjectDeselected']),(_0xbe9856=this['basePanel'])===null||_0xbe9856===void 0x0?void 0x0:_0xbe9856['destroy'](),this['nodePanel']=undefined,this['nodeModeButtons']=undefined,this['nodeInputs']=undefined,this['geometrySection']=undefined,this['boundingBoxSection']=undefined;}['addContent'](){if(!this['content'])return;this['content']['innerHTML']='';const _0x50c410=document['createElement']('div');_0x50c410['className']='prop-tabs-bar';const _0x389ae4=[],_0x3ba6ea=document['createElement']('div');_0x3ba6ea['className']='prop-details';let _0x3528ca=-0x1,_0x42d766=!![];const _0x5a8965=(_0x170253,_0x2e5643,_0x244443)=>{const _0x409ac8=document['createElement']('div');_0x409ac8['className']='prop-tab',_0x409ac8['textContent']=_0x2e5643,_0x409ac8['dataset']['index']=String(_0x170253),!_0x244443&&_0x409ac8['classList']['add']('disabled'),_0x170253===this['lastActiveTabIdx']&&(_0x42d766=_0x244443),_0x244443&&_0x3528ca<0x0&&(_0x3528ca=_0x170253),_0x50c410['appendChild'](_0x409ac8),_0x389ae4['push'](_0x409ac8),_0x409ac8['addEventListener']('click',()=>{_0x389ae4['forEach'](_0x247bf2=>_0x247bf2['classList']['remove']('active')),_0x409ac8['classList']['add']('active'),this['lastActiveTabIdx']=_0x170253,this['renderTab'](_0x170253);});};_0x5a8965(0x0,'Material',this['isMaterialTabEnabled']()),_0x5a8965(0x1,'Node',this['isNodeTabEnabled']()),_0x5a8965(0x2,'Property',this['isPropertyTabEnabled']()),this['content']['appendChild'](_0x50c410),this['content']['appendChild'](_0x3ba6ea),this['details']=_0x3ba6ea;let _0x5ca7e0=0x0;if(_0x42d766)_0x5ca7e0=this['lastActiveTabIdx'];else _0x3528ca<0x0?_0x5ca7e0=this['lastActiveTabIdx']:_0x5ca7e0=_0x3528ca;_0x389ae4[_0x5ca7e0]['classList']['add']('active'),this['renderTab'](_0x5ca7e0);}['isMaterialTabEnabled'](){const _0xdd280e=this['viewer']['getHighlightedObject']();if(!_0xdd280e)return ![];const _0x527fa2=_0xdd280e;if(!_0x527fa2['geometry']||!_0x527fa2['material'])return ![];return !![];}['isNodeTabEnabled'](){const _0x97248f=this['viewer']['getHighlightedObject']();return !!_0x97248f;}['isPropertyTabEnabled'](){const _0x18e447=this['viewer']['getHighlightedObject']();return !!_0x18e447;}['renderTab'](_0x40912b){const _0xe72488=this['viewer']['getHighlightedObject']();if(_0x40912b===0x0)this['renderMaterial'](_0xe72488);else {if(_0x40912b===0x1)this['renderNode'](_0xe72488);else _0x40912b===0x2&&this['renderProperty'](_0xe72488);}}['clearDetails'](){this['details']&&(this['details']['innerHTML']='');}['renderMaterial'](_0x573f20){const _0x3d34eb=this['details'];if(!_0x3d34eb)return;this['clearDetails']();if(!_0x573f20){_0x3d34eb['innerHTML']='<p>Nothing\x20selected.</p>';return;}const _0x5224c6=_0x573f20;if(!_0x5224c6['isMesh']){_0x3d34eb['innerHTML']='<p>Target\x20is\x20not\x20a\x20Mesh.</p>';return;}if(!_0x5224c6['material']){_0x3d34eb['innerHTML']='<p>No\x20material\x20found.</p>';return;}if(Array['isArray'](_0x5224c6['material'])&&_0x5224c6['material']['length']>0x0){const _0x1e4898=document['createElement']('div');_0x1e4898['innerHTML']='There\x20are\x20'+_0x5224c6['material']['length']+'\x20materials,\x20will\x20show\x20the\x20first\x20one!',_0x3d34eb['appendChild'](_0x1e4898);}let _0x3b33fc,_0xede3eb;Array['isArray'](_0x5224c6['material'])?(_0x3b33fc=_0x5224c6['userData']['originalMaterial'][0x0],_0xede3eb=_0x5224c6['material'][0x0]):(_0x3b33fc=_0x5224c6['userData']['originalMaterial'],_0xede3eb=_0x5224c6['material']);const _0x347817=document['createElement']('div');_0x347817['style']['marginBottom']='6px';const _0x59f3f0=document['createElement']('label');_0x59f3f0['textContent']='Name:\x20';const _0x3f0c53=document['createElement']('input');_0x3f0c53['type']='text',_0x3f0c53['value']=_0x3b33fc['name']||'',_0x3f0c53['style']['width']='200px',_0x3f0c53['placeholder']='<empty>',_0x3f0c53['addEventListener']('change',_0x3ff2e9=>{_0x3ff2e9['stopPropagation'](),_0x3b33fc['name']=_0x3f0c53['value'],_0x3b33fc['needsUpdate']=!![],_0xede3eb['name']=_0x3b33fc['name'],_0xede3eb['needsUpdate']=!![];}),_0x347817['appendChild'](_0x59f3f0),_0x347817['appendChild'](_0x3f0c53),_0x3d34eb['appendChild'](_0x347817);const _0x37af40=document['createElement']('div');_0x37af40['style']['marginBottom']='6px',_0x37af40['textContent']='ID:\x20'+(_0x3b33fc['id']||''),_0x3d34eb['appendChild'](_0x37af40);const _0x32be75=document['createElement']('div');_0x32be75['style']['marginBottom']='6px';const _0x19c713=document['createElement']('label'),_0x9f0485=document['createElement']('input');_0x9f0485['type']='checkbox',_0x9f0485['checked']=_0x3b33fc['side']===THREE['DoubleSide'],_0x9f0485['addEventListener']('change',()=>{_0x3b33fc['side']=_0x9f0485['checked']?THREE['DoubleSide']:THREE['FrontSide'],_0x3b33fc['needsUpdate']=!![],_0xede3eb['side']=_0x3b33fc['side'],_0xede3eb['needsUpdate']=!![],this['viewer']['enableRender']();}),_0x19c713['appendChild'](_0x9f0485),_0x19c713['appendChild'](document['createTextNode']('\x20Double\x20sided')),_0x32be75['appendChild'](_0x19c713),_0x3d34eb['appendChild'](_0x32be75);const _0x714d69=document['createElement']('div');_0x714d69['style']['marginBottom']='6px';const _0x21a179=document['createElement']('label'),_0x2c0651=document['createElement']('input');_0x2c0651['type']='checkbox',_0x2c0651['disabled']=_0x3b33fc['wireframe']==null,_0x2c0651['checked']=!!_0x3b33fc['wireframe'],_0x2c0651['addEventListener']('change',()=>{_0x3b33fc['wireframe']=_0x2c0651['checked'],_0x3b33fc['needsUpdate']=!![],_0xede3eb['wireframe']=_0x2c0651['checked'],_0xede3eb['needsUpdate']=!![],this['viewer']['enableRender']();}),_0x21a179['appendChild'](_0x2c0651),_0x21a179['appendChild'](document['createTextNode']('\x20Wireframe')),_0x714d69['appendChild'](_0x21a179),_0x3d34eb['appendChild'](_0x714d69);}['renderNode'](_0x21fc77){const _0x1eda6e=this['details'];if(!_0x1eda6e)return;this['clearDetails']();if(!_0x21fc77){_0x1eda6e['innerHTML']='<p>Nothing\x20selected.</p>';return;}if(!this['nodePanel']){const _0x3398df=document['createElement']('div');_0x3398df['style']['marginBottom']='8px';const _0x2f03b1=document['createElement']('div');_0x2f03b1['style']['display']='flex',_0x2f03b1['style']['gap']='8px',_0x2f03b1['style']['marginBottom']='8px';const _0x1bb38c=document['createElement']('button');_0x1bb38c['type']='button',_0x1bb38c['textContent']='Local',_0x1bb38c['className']='prop-node-mode-btn\x20active';const _0x326af0=document['createElement']('button');_0x326af0['type']='button',_0x326af0['textContent']='Global',_0x326af0['className']='prop-node-mode-btn';const _0x34a6d8=_0x106c6d=>{_0x1bb38c['classList']['toggle']('active',_0x106c6d),_0x326af0['classList']['toggle']('active',!_0x106c6d);const _0xef483d=this['viewer']['getHighlightedObject']();_0xef483d&&this['updateNodeInputs'](_0xef483d);};_0x1bb38c['addEventListener']('click',_0x22cfdb=>{_0x22cfdb['stopPropagation'](),_0x34a6d8(!![]);}),_0x326af0['addEventListener']('click',_0x5c3125=>{_0x5c3125['stopPropagation'](),_0x34a6d8(![]);}),_0x2f03b1['appendChild'](_0x1bb38c),_0x2f03b1['appendChild'](_0x326af0),_0x3398df['appendChild'](_0x2f03b1),this['nodeModeButtons']={'local':_0x1bb38c,'global':_0x326af0};const _0x4139ba=_0x126b44=>{const _0x44b8dc=document['createElement']('div');_0x44b8dc['style']['marginBottom']='6px';const _0xe66d8b=document['createElement']('div');_0xe66d8b['textContent']=_0x126b44,_0xe66d8b['style']['fontWeight']='600',_0x44b8dc['appendChild'](_0xe66d8b);const _0x4e4bea=document['createElement']('div');_0x4e4bea['style']['display']='flex',_0x4e4bea['style']['gap']='6px';const _0x512c7f=[];return ['x','y','z']['forEach'](()=>{const _0x4e9b51=document['createElement']('input');_0x4e9b51['type']='number',_0x4e9b51['style']['width']='70px',_0x4e9b51['addEventListener']('change',()=>{const _0x1dc4ea=this['viewer']['getHighlightedObject']();_0x1dc4ea&&this['applyNodeInputs'](_0x1dc4ea);}),_0x4e4bea['appendChild'](_0x4e9b51),_0x512c7f['push'](_0x4e9b51);}),_0x44b8dc['appendChild'](_0x4e4bea),_0x3398df['appendChild'](_0x44b8dc),_0x512c7f;},_0x4f71df=_0x4139ba('Translation'),_0x912c95=_0x4139ba('Rotation\x20(deg)'),_0x3303d6=_0x4139ba('Scale');this['nodeInputs']={'translation':_0x4f71df,'rotation':_0x912c95,'scale':_0x3303d6};const _0x750d39=document['createElement']('div');_0x750d39['style']['marginBottom']='12px',_0x750d39['style']['display']='none';const _0x459065=document['createElement']('div');_0x459065['style']['fontWeight']='600',_0x459065['style']['marginBottom']='6px',_0x459065['textContent']='Geometry',_0x750d39['appendChild'](_0x459065);const _0x1bb768=document['createElement']('div');_0x1bb768['style']['paddingLeft']='12px';const _0x542a5d=document['createElement']('div');_0x542a5d['className']='geometry-vertices',_0x1bb768['appendChild'](_0x542a5d);const _0x581701=document['createElement']('div');_0x581701['className']='geometry-triangles',_0x1bb768['appendChild'](_0x581701),_0x750d39['appendChild'](_0x1bb768),_0x3398df['appendChild'](_0x750d39);const _0x3ecbcb=document['createElement']('div');_0x3ecbcb['style']['marginBottom']='12px',_0x3ecbcb['style']['display']='none';const _0x35d204=document['createElement']('div');_0x35d204['style']['fontWeight']='600',_0x35d204['style']['marginBottom']='6px',_0x35d204['textContent']='Bounding\x20Box',_0x3ecbcb['appendChild'](_0x35d204);const _0x49635a=document['createElement']('div');_0x49635a['style']['paddingLeft']='12px';const _0x3a82f3=document['createElement']('div');_0x3a82f3['className']='boundingbox-size',_0x49635a['appendChild'](_0x3a82f3),_0x3ecbcb['appendChild'](_0x49635a),_0x3398df['appendChild'](_0x3ecbcb),this['geometrySection']=_0x750d39,this['boundingBoxSection']=_0x3ecbcb,this['nodePanel']=_0x3398df;}_0x1eda6e['appendChild'](this['nodePanel']),this['updateNodeInputs'](_0x21fc77),this['updateGeometryInfo'](_0x21fc77),this['updateBoundingBoxInfo'](_0x21fc77);}['updateNodeInputs'](_0xdaa20a){var _0x1fc126;if(!this['nodeInputs'])return;const {translation:_0x73d956,rotation:_0x47c1d0,scale:_0x30ceca}=this['nodeInputs'],_0x53cef7=!!((_0x1fc126=this['nodeModeButtons'])===null||_0x1fc126===void 0x0?void 0x0:_0x1fc126['local']['classList']['contains']('active'));if(_0x53cef7){const _0x3459c6=_0xdaa20a['position'];_0x73d956[0x0]['value']=_0x3459c6['x']['toFixed'](0x3),_0x73d956[0x1]['value']=_0x3459c6['y']['toFixed'](0x3),_0x73d956[0x2]['value']=_0x3459c6['z']['toFixed'](0x3);const _0x23dd39=_0xdaa20a['rotation'];_0x47c1d0[0x0]['value']=THREE['MathUtils']['radToDeg'](_0x23dd39['x'])['toFixed'](0x3),_0x47c1d0[0x1]['value']=THREE['MathUtils']['radToDeg'](_0x23dd39['y'])['toFixed'](0x3),_0x47c1d0[0x2]['value']=THREE['MathUtils']['radToDeg'](_0x23dd39['z'])['toFixed'](0x3);const _0x5c23e9=_0xdaa20a['scale'];_0x30ceca[0x0]['value']=_0x5c23e9['x']['toFixed'](0x3),_0x30ceca[0x1]['value']=_0x5c23e9['y']['toFixed'](0x3),_0x30ceca[0x2]['value']=_0x5c23e9['z']['toFixed'](0x3);}else {const _0x438930=_0xdaa20a['matrixWorld'],_0x39b7a5=new THREE['Vector3'](),_0x11d475=new THREE['Quaternion'](),_0xc5807f=new THREE['Vector3']();_0x438930['decompose'](_0x39b7a5,_0x11d475,_0xc5807f),_0x73d956[0x0]['value']=_0x39b7a5['x']['toFixed'](0x3),_0x73d956[0x1]['value']=_0x39b7a5['y']['toFixed'](0x3),_0x73d956[0x2]['value']=_0x39b7a5['z']['toFixed'](0x3);const _0x3f969e=new THREE['Euler']()['setFromQuaternion'](_0x11d475,_0xdaa20a['rotation']['order']);_0x47c1d0[0x0]['value']=THREE['MathUtils']['radToDeg'](_0x3f969e['x'])['toFixed'](0x3),_0x47c1d0[0x1]['value']=THREE['MathUtils']['radToDeg'](_0x3f969e['y'])['toFixed'](0x3),_0x47c1d0[0x2]['value']=THREE['MathUtils']['radToDeg'](_0x3f969e['z'])['toFixed'](0x3),_0x30ceca[0x0]['value']=_0xc5807f['x']['toFixed'](0x3),_0x30ceca[0x1]['value']=_0xc5807f['y']['toFixed'](0x3),_0x30ceca[0x2]['value']=_0xc5807f['z']['toFixed'](0x3);}}['applyNodeInputs'](_0x502e1d){var _0x46bf89;if(!this['nodeInputs'])return;const {translation:_0x320e7c,rotation:_0x2c8dd2,scale:_0x5184cf}=this['nodeInputs'],_0x20dad4=parseFloat(_0x320e7c[0x0]['value'])||0x0,_0x1af449=parseFloat(_0x320e7c[0x1]['value'])||0x0,_0xd3433b=parseFloat(_0x320e7c[0x2]['value'])||0x0,_0x36bac3=parseFloat(_0x2c8dd2[0x0]['value'])||0x0,_0x8bbc72=parseFloat(_0x2c8dd2[0x1]['value'])||0x0,_0x592f48=parseFloat(_0x2c8dd2[0x2]['value'])||0x0,_0x12bb7b=parseFloat(_0x5184cf[0x0]['value'])||0x1,_0x573ecd=parseFloat(_0x5184cf[0x1]['value'])||0x1,_0x5754f3=parseFloat(_0x5184cf[0x2]['value'])||0x1,_0x5c4f00=!!((_0x46bf89=this['nodeModeButtons'])===null||_0x46bf89===void 0x0?void 0x0:_0x46bf89['local']['classList']['contains']('active'));if(_0x5c4f00)_0x502e1d['position']['set'](_0x20dad4,_0x1af449,_0xd3433b),_0x502e1d['rotation']['set'](THREE['MathUtils']['degToRad'](_0x36bac3),THREE['MathUtils']['degToRad'](_0x8bbc72),THREE['MathUtils']['degToRad'](_0x592f48)),_0x502e1d['scale']['set'](_0x12bb7b,_0x573ecd,_0x5754f3),_0x502e1d['updateMatrixWorld'](!![]);else {const _0x271943=new THREE['Vector3'](_0x20dad4,_0x1af449,_0xd3433b),_0x5e0f8f=new THREE['Euler'](THREE['MathUtils']['degToRad'](_0x36bac3),THREE['MathUtils']['degToRad'](_0x8bbc72),THREE['MathUtils']['degToRad'](_0x592f48),_0x502e1d['rotation']['order']),_0x167314=new THREE['Quaternion']()['setFromEuler'](_0x5e0f8f),_0x4df2ee=new THREE['Vector3'](_0x12bb7b,_0x573ecd,_0x5754f3),_0x148955=new THREE['Matrix4']()['compose'](_0x271943,_0x167314,_0x4df2ee),_0x49efa8=new THREE['Vector3'](),_0x50b974=new THREE['Quaternion'](),_0x4e4723=new THREE['Vector3']();if(_0x502e1d['parent']){const _0x4424bf=new THREE['Matrix4']();_0x4424bf['copy'](_0x502e1d['parent']['matrixWorld']),_0x4424bf['invert']();const _0x1df0ce=_0x4424bf['multiply'](_0x148955);_0x1df0ce['decompose'](_0x49efa8,_0x50b974,_0x4e4723);}else _0x148955['decompose'](_0x49efa8,_0x50b974,_0x4e4723);_0x502e1d['position']['copy'](_0x49efa8),_0x502e1d['quaternion']['copy'](_0x50b974),_0x502e1d['scale']['copy'](_0x4e4723),_0x502e1d['updateMatrixWorld'](!![]);}this['updateBoundingBoxInfo'](_0x502e1d),this['viewer']['enableRender']();}['updateGeometryInfo'](_0x2ca0a6){const _0x2c6b09=this['geometrySection'];if(!_0x2c6b09)return;const _0x31600c=_0x2ca0a6['geometry'];if(_0x31600c){const _0x54fed2=_0x2c6b09['querySelector']('.geometry-vertices'),_0x2af607=_0x2c6b09['querySelector']('.geometry-triangles');if(_0x54fed2&&_0x2af607){const _0xb22cb3=this['getVertexCount'](_0x2ca0a6),_0x8a19c8=this['getTriangleCount'](_0x2ca0a6);_0x54fed2['textContent']='Vertices:\x20'+_0xb22cb3,_0x2af607['textContent']='Triangles:\x20'+_0x8a19c8;}_0x2c6b09['style']['display']='block';}else _0x2c6b09['style']['display']='none';}['updateBoundingBoxInfo'](_0x15a8cd){const _0x520174=this['boundingBoxSection'];if(!_0x520174)return;const _0x34725d=_0x15a8cd['geometry'];if(_0x34725d){const _0x169e54=_0x520174['querySelector']('.boundingbox-size');if(_0x169e54){const _0x2427b9=this['getGlobalSize'](_0x15a8cd);_0x169e54['textContent']='Global\x20size:\x20W\x20'+_0x2427b9['width']['toFixed'](0x3)+',\x20H\x20'+_0x2427b9['height']['toFixed'](0x3)+',\x20L\x20'+_0x2427b9['length']['toFixed'](0x3);}_0x520174['style']['display']='block';}else _0x520174['style']['display']='none';}['getVertexCount'](_0x1e29cd){var _0x37e1c2,_0x493292;const _0x23c628=_0x1e29cd['geometry'];return ((_0x493292=(_0x37e1c2=_0x23c628===null||_0x23c628===void 0x0?void 0x0:_0x23c628['attributes'])===null||_0x37e1c2===void 0x0?void 0x0:_0x37e1c2['position'])===null||_0x493292===void 0x0?void 0x0:_0x493292['count'])||0x0;}['getTriangleCount'](_0x5aae31){const _0x2545ac=_0x5aae31['geometry'],_0x1c15bb=_0x2545ac===null||_0x2545ac===void 0x0?void 0x0:_0x2545ac['index'];return _0x1c15bb?_0x1c15bb['count']/0x3:0x0;}['getGlobalSize'](_0x247481){const _0x38de54=new THREE['Box3']()['setFromObject'](_0x247481),_0x363eb1=new THREE['Vector3']();return _0x38de54['getSize'](_0x363eb1),{'width':_0x363eb1['x'],'height':_0x363eb1['y'],'length':_0x363eb1['z']};}['renderProperty'](_0x2c7dd0){const _0x3d8cfd=this['details'];if(!_0x3d8cfd)return;this['clearDetails']();if(!_0x2c7dd0){_0x3d8cfd['innerHTML']='<p>Nothing\x20selected.</p>';return;}const _0x4d9886=_0x2c7dd0['userData']||{};if(!_0x4d9886||Object['keys'](_0x4d9886)['length']===0x0){_0x3d8cfd['innerHTML']='<p>No\x20userData\x20properties.</p>';return;}const _0x369f85=['originalMaterial','isHighlight'],_0xf432dc=document['createElement']('table');_0xf432dc['style']['width']='100%',_0xf432dc['style']['borderCollapse']='collapse';for(const _0x5eb7c3 of Object['keys'](_0x4d9886)){if(_0x369f85['includes'](_0x5eb7c3))continue;const _0x358a4f=_0x4fb9bf=>{const _0x4273c1=document['createElement']('tr'),_0x28126a=document['createElement']('td');_0x28126a['style']['padding']='4px\x206px',_0x28126a['style']['fontWeight']='600',_0x28126a['style']['verticalAlign']='top',_0x28126a['textContent']=_0x5eb7c3;const _0x17e60d=document['createElement']('td');_0x17e60d['style']['padding']='4px\x206px',_0x17e60d['textContent']=_0x4fb9bf,_0x4273c1['appendChild'](_0x28126a),_0x4273c1['appendChild'](_0x17e60d),_0xf432dc['appendChild'](_0x4273c1);},_0x4ff7aa=_0x4d9886[_0x5eb7c3];_0x4ff7aa!==null&&typeof _0x4ff7aa==='object'&&Object['prototype']['toString']['call'](_0x4ff7aa)==='[object\x20Object]'?_0x358a4f(JSON['stringify'](_0x4ff7aa)):_0x358a4f(_0x4ff7aa);}_0x3d8cfd['appendChild'](_0xf432dc);}}PropertyPlugin['DEFAULT_ID']='PropertyPlugin';

var css_248z$5 = ".statsOutput{left:1px;opacity:.6;position:absolute;top:1px;z-index:99}";
styleInject(css_248z$5);

var stats_min = {exports: {}};

(function(_0x252843,_0x1840af){(function(_0x402a48,_0x346cfd){_0x252843['exports']=_0x346cfd();}(commonjsGlobal,function(){var _0x17928c=function(){function _0x578795(_0x41c9a8){return _0x1cb21a['appendChild'](_0x41c9a8['dom']),_0x41c9a8;}function _0x20371a(_0x511320){for(var _0x531869=0x0;_0x531869<_0x1cb21a['children']['length'];_0x531869++)_0x1cb21a['children'][_0x531869]['style']['display']=_0x531869===_0x511320?'block':'none';_0x3df1e6=_0x511320;}var _0x3df1e6=0x0,_0x1cb21a=document['createElement']('div');_0x1cb21a['style']['cssText']='position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000',_0x1cb21a['addEventListener']('click',function(_0x4ed993){_0x4ed993['preventDefault'](),_0x20371a(++_0x3df1e6%_0x1cb21a['children']['length']);},!0x1);var _0x80a683=(performance||Date)['now'](),_0x5c296b=_0x80a683,_0x9f867c=0x0,_0xd0c145=_0x578795(new _0x17928c['Panel']('FPS','#0ff','#002')),_0x3c4cef=_0x578795(new _0x17928c['Panel']('MS','#0f0','#020'));if(self['performance']&&self['performance']['memory'])var _0x46cc1e=_0x578795(new _0x17928c['Panel']('MB','#f08','#201'));return _0x20371a(0x0),{'REVISION':0x10,'dom':_0x1cb21a,'addPanel':_0x578795,'showPanel':_0x20371a,'begin':function(){_0x80a683=(performance||Date)['now']();},'end':function(){_0x9f867c++;var _0x447a6e=(performance||Date)['now']();_0x3c4cef['update'](_0x447a6e-_0x80a683,0xc8);if(_0x447a6e>_0x5c296b+0x3e8&&(_0xd0c145['update'](0x3e8*_0x9f867c/(_0x447a6e-_0x5c296b),0x64),_0x5c296b=_0x447a6e,_0x9f867c=0x0,_0x46cc1e)){var _0x516e37=performance['memory'];_0x46cc1e['update'](_0x516e37['usedJSHeapSize']/0x100000,_0x516e37['jsHeapSizeLimit']/0x100000);}return _0x447a6e;},'update':function(){_0x80a683=this['end']();},'domElement':_0x1cb21a,'setMode':_0x20371a};};return _0x17928c['Panel']=function(_0x4f2296,_0x2758f2,_0x16d3ce){var _0x440ccb=Infinity,_0x358200=0x0,_0x829e86=Math['round'],_0x4f5e02=_0x829e86(window['devicePixelRatio']||0x1),_0xb8679f=0x50*_0x4f5e02,_0x1b120f=0x30*_0x4f5e02,_0x2aed99=0x3*_0x4f5e02,_0x43bf6f=0x2*_0x4f5e02,_0x14840c=0x3*_0x4f5e02,_0x4a958a=0xf*_0x4f5e02,_0x53326b=0x4a*_0x4f5e02,_0x19a00a=0x1e*_0x4f5e02,_0x536700=document['createElement']('canvas');_0x536700['width']=_0xb8679f,_0x536700['height']=_0x1b120f,_0x536700['style']['cssText']='width:80px;height:48px';var _0x3bbb4c=_0x536700['getContext']('2d');return _0x3bbb4c['font']='bold\x20'+0x9*_0x4f5e02+'px\x20Helvetica,Arial,sans-serif',_0x3bbb4c['textBaseline']='top',_0x3bbb4c['fillStyle']=_0x16d3ce,_0x3bbb4c['fillRect'](0x0,0x0,_0xb8679f,_0x1b120f),_0x3bbb4c['fillStyle']=_0x2758f2,_0x3bbb4c['fillText'](_0x4f2296,_0x2aed99,_0x43bf6f),_0x3bbb4c['fillRect'](_0x14840c,_0x4a958a,_0x53326b,_0x19a00a),_0x3bbb4c['fillStyle']=_0x16d3ce,_0x3bbb4c['globalAlpha']=0.9,_0x3bbb4c['fillRect'](_0x14840c,_0x4a958a,_0x53326b,_0x19a00a),{'dom':_0x536700,'update':function(_0x4e4c82,_0x3e2767){_0x440ccb=Math['min'](_0x440ccb,_0x4e4c82),_0x358200=Math['max'](_0x358200,_0x4e4c82),_0x3bbb4c['fillStyle']=_0x16d3ce,_0x3bbb4c['globalAlpha']=0x1,_0x3bbb4c['fillRect'](0x0,0x0,_0xb8679f,_0x4a958a),_0x3bbb4c['fillStyle']=_0x2758f2,_0x3bbb4c['fillText'](_0x829e86(_0x4e4c82)+'\x20'+_0x4f2296+'\x20('+_0x829e86(_0x440ccb)+'-'+_0x829e86(_0x358200)+')',_0x2aed99,_0x43bf6f),_0x3bbb4c['drawImage'](_0x536700,_0x14840c+_0x4f5e02,_0x4a958a,_0x53326b-_0x4f5e02,_0x19a00a,_0x14840c,_0x4a958a,_0x53326b-_0x4f5e02,_0x19a00a),_0x3bbb4c['fillRect'](_0x14840c+_0x53326b-_0x4f5e02,_0x4a958a,_0x4f5e02,_0x19a00a),_0x3bbb4c['fillStyle']=_0x16d3ce,_0x3bbb4c['globalAlpha']=0.9,_0x3bbb4c['fillRect'](_0x14840c+_0x53326b-_0x4f5e02,_0x4a958a,_0x4f5e02,_0x829e86((0x1-_0x4e4c82/_0x3e2767)*_0x19a00a));}};},_0x17928c;}));}(stats_min));var stats_minExports=stats_min['exports'];var _0x2e20a7 = getDefaultExportFromCjs(stats_minExports);

class StatsPlugin extends Plugin{constructor(_0x45a619){const _0x3f5650='StatsPlugin';super(_0x45a619,{'id':_0x3f5650}),this['init']();}['init'](){var _0x5cf2a9;const _0x2944fb=new _0x2e20a7();_0x2944fb['setMode'](0x0);const _0x21200b=document['createElement']('div');_0x21200b['classList']['add']('statsOutput'),_0x21200b['appendChild'](_0x2944fb['domElement']),(_0x5cf2a9=this['viewer']['widgetContainer'])===null||_0x5cf2a9===void 0x0?void 0x0:_0x5cf2a9['append'](_0x21200b),this['stats']=_0x2944fb,this['viewer']['addEventListener'](ViewerEvent['OnAnimate'],()=>{var _0x203296;(_0x203296=this['stats'])===null||_0x203296===void 0x0?void 0x0:_0x203296['update']();});}['show'](){var _0x43dfc2;(_0x43dfc2=this['stats'])===null||_0x43dfc2===void 0x0?void 0x0:_0x43dfc2['showPanel'](0x0);}['hide'](){var _0x5d7029;(_0x5d7029=this['stats'])===null||_0x5d7029===void 0x0?void 0x0:_0x5d7029['showPanel'](-0x1);}['destroy'](){super['destroy'](),this['stats']=undefined;}}

class GradientColorSkybox extends THREE['Mesh']{constructor(_0x4eba29,_0x342b7a,_0x5acabe,_0x5db464=0xfa0,_0xf86e47=0x20,_0x58e1d4=0xf,_0xf14cac=new THREE['Vector3'](),_0x2cee29=new THREE['Vector3'](0x0,0.7,0.5)){super(),this['vertexShader']='\x0a\x20\x20\x20\x20varying\x20vec3\x20vWorldPosition;\x0a\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20vec4\x20worldPosition\x20=\x20modelMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20vWorldPosition\x20=\x20worldPosition.xyz;\x0a\x20\x20\x20\x20\x20\x20mat4\x20modifiedViewMatrix\x20=\x20modelViewMatrix;\x0a\x20\x20\x20\x20\x20\x20modifiedViewMatrix[3]\x20=\x20vec4(0.0,\x200.0,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20modifiedViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20gl_Position.xyww;\x0a\x20\x20\x20\x20}',this['fragmentShader']='\x0a\x20\x20\x20\x20uniform\x20vec3\x20topColor;\x0a\x20\x20\x20\x20uniform\x20vec3\x20skylineColor;\x0a\x20\x20\x20\x20uniform\x20vec3\x20bottomColor;\x0a\x20\x20\x20\x20uniform\x20float\x20offset;\x0a\x20\x20\x20\x20uniform\x20float\x20exponent;\x0a\x20\x20\x20\x20uniform\x20vec3\x20skyCenter;\x0a\x20\x20\x20\x20uniform\x20vec3\x20sunDirection;\x0a\x20\x20\x20\x20varying\x20vec3\x20vWorldPosition;\x0a\x20\x20\x20\x20//\x20Used\x20to\x20find\x20the\x20position\x20to\x20draw\x20the\x20sun.\x20Sun\x20size\x20is\x20bigger\x20when\x20this\x20value\x20is\x20smaller\x0a\x20\x20\x20\x20const\x20float\x20sunDirectionDotThreshold\x20=\x200.98;\x0a\x0a\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20vec3\x20position\x20=\x20vec3(vWorldPosition.x\x20-\x20skyCenter.x,\x20vWorldPosition.y\x20-\x20skyCenter.y,\x20vWorldPosition.z\x20-\x20skyCenter.z);\x0a\x20\x20\x20\x20\x20\x20vec3\x20normalizedPosition\x20=\x20normalize(\x20position\x20+\x20offset\x20);\x0a\x20\x20\x20\x20\x20\x20float\x20h\x20=\x20normalizedPosition.y;\x0a\x20\x20\x20\x20\x20\x20vec3\x20color;\x0a\x20\x20\x20\x20\x20\x20if\x20(h\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20color\x20=\x20mix(\x20skylineColor,\x20topColor,\x20pow(\x20h,\x20exponent\x20)\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20draw\x20the\x20sun\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20dotResult\x20=\x20dot(sunDirection,\x20normalizedPosition);\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(dotResult\x20>\x20sunDirectionDotThreshold)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20sunSize\x20=\x201.0\x20-\x20sunDirectionDotThreshold;\x20//\x20maximum\x20sun\x20size\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20sunColor\x20=\x20vec3(1.0,\x201.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color\x20=\x20mix(color,\x20sunColor,\x20pow((dotResult\x20+\x20sunSize\x20-\x201.0)\x20/\x20sunSize,\x203.0));\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20color\x20=\x20mix(\x20skylineColor,\x20bottomColor,\x20pow(\x20-h,\x20exponent\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(color\x20,\x201.0);\x0a\x20\x20\x20\x20}';const _0x143c33={'topColor':{'value':_0x4eba29},'skylineColor':{'value':_0x342b7a},'bottomColor':{'value':_0x5acabe},'offset':{'value':0x190},'exponent':{'value':0.9},'skyCenter':{'value':_0xf14cac||new THREE['Vector3']()},'sunDirection':{'value':_0x2cee29['normalize']()}};this['geometry']=new THREE['SphereGeometry'](_0x5db464,_0xf86e47,_0x58e1d4),this['material']=new THREE['ShaderMaterial']({'uniforms':_0x143c33,'vertexShader':this['vertexShader'],'fragmentShader':this['fragmentShader'],'side':THREE['BackSide']}),this['name']=GradientColorSkybox['NAME'],this['matrixAutoUpdate']=![],this['layers']['disable'](LayerForSelectableObjects);}}GradientColorSkybox['NAME']='SKYBOX',GradientColorSkybox['MIN_SKY_RADIUS']=0xfa0,GradientColorSkybox['MAX_SKY_RADIUS']=0x4e20;

class SkyboxPlugin extends Plugin{constructor(_0x4ce2ad,_0x5675ce){const _0x105a8c=(_0x5675ce===null||_0x5675ce===void 0x0?void 0x0:_0x5675ce['id'])||SkyboxPlugin['DEFAULT_ID'];super(_0x4ce2ad,{'id':_0x105a8c}),(_0x5675ce===null||_0x5675ce===void 0x0?void 0x0:_0x5675ce['color'])?this['setSkyboxByColor'](_0x5675ce['color']):this['setSkyboxByGradientColors'](),_0x4ce2ad['addEventListener'](ViewerEvent['ModelLoad'],()=>{let _0x56ae98=_0x4ce2ad['getBBox']();const _0x87b594=this['viewer']['getHomeView']();if(_0x56ae98){_0x56ae98=_0x56ae98['clone']();if(_0x87b594&&_0x87b594['eye']&&_0x87b594['look']){const _0x5f2f91=_0x87b594&&CommonUtils['arrayToVector3'](_0x87b594['eye']),_0x2ba085=_0x87b594&&CommonUtils['arrayToVector3'](_0x87b594['look']),_0x319c63=new THREE['Box3']();_0x319c63['setFromPoints']([_0x5f2f91,_0x2ba085]),_0x56ae98['union'](_0x319c63);}this['updateGradientColorSkybox'](_0x56ae98);}});}['setSkyboxByColor'](_0x15ac45=[0.92,0.95,0.96]){this['gradientColorSkybox']&&(this['gradientColorSkybox']['visible']=![]),this['viewer']['getSceneManager']()['setBackground'](this['rgb2Color'](_0x15ac45)),this['viewer']['enableRender']();}['setSkyboxByGradientColors'](_0x381c2a=[0.52,0.71,0.96],_0x28d0f9=[0x1,0x1,0x1],_0x3a6f62=[0.6,0.6,0.6]){this['gradientColorSkybox']&&(this['gradientColorSkybox']['removeFromParent'](),this['gradientColorSkybox']=undefined);const _0x1f0304=this['rgb2Color'](_0x381c2a),_0x1a550a=this['rgb2Color'](_0x28d0f9),_0x30d7b6=this['rgb2Color'](_0x3a6f62);this['gradientColorSkybox']=new GradientColorSkybox(_0x1f0304,_0x1a550a,_0x30d7b6),this['viewer']['scene']['add'](this['gradientColorSkybox']),this['viewer']['enableRender']();}['setSkyboxByCubeTexture'](_0x2c429e){this['gradientColorSkybox']&&(this['gradientColorSkybox']['visible']=![]);const _0x4ba478=new THREE['CubeTextureLoader']();_0x4ba478['load'](_0x2c429e,_0x3a9b5e=>{this['viewer']['getSceneManager']()['setBackground'](_0x3a9b5e),this['viewer']['enableRender']();});}['updateGradientColorSkybox'](_0x56e4a4){if(!this['gradientColorSkybox'])return;const _0x5181d7=_0x56e4a4['max']['x']-_0x56e4a4['min']['x']+(_0x56e4a4['max']['y']-_0x56e4a4['min']['y'])+(_0x56e4a4['max']['z']-_0x56e4a4['min']['z']);let _0x5e807d=_0x5181d7*0x2;if(_0x5e807d<GradientColorSkybox['MIN_SKY_RADIUS'])_0x5e807d=GradientColorSkybox['MIN_SKY_RADIUS'];else _0x5e807d>GradientColorSkybox['MAX_SKY_RADIUS']&&(_0x5e807d=GradientColorSkybox['MAX_SKY_RADIUS']);this['gradientColorSkybox']['geometry']=new THREE['SphereGeometry'](_0x5e807d,0x20,0xf);const _0x5e02eb=this['viewer']['getCameraManager'](),_0x1cdd33=_0x5e807d*0x2;_0x5e02eb['camera']['far']<=_0x1cdd33&&log['warn']('[Skybox]\x20camera.far\x20is\x20'+_0x5e02eb['camera']['far']+',\x20which\x20is\x20too\x20small,\x20suggest\x20to\x20changed\x20to\x20'+_0x1cdd33),this['viewer']['enableRender']();}['destroy'](){var _0x9cdf3c;super['destroy'](),(_0x9cdf3c=this['gradientColorSkybox'])===null||_0x9cdf3c===void 0x0?void 0x0:_0x9cdf3c['removeFromParent'](),this['gradientColorSkybox']=undefined,this['viewer']['getSceneManager']()['setBackground'](null);}['rgb2Color'](_0x1dc3c2){const _0xc3fd0d=_0x1dc3c2[0x0]||0x0,_0x324e18=_0x1dc3c2[0x1]||0x0,_0x340432=_0x1dc3c2[0x2]||0x0,_0x4fee3b=new THREE['Color']();return _0x4fee3b['setRGB'](_0xc3fd0d,_0x324e18,_0x340432),_0x4fee3b;}}SkyboxPlugin['DEFAULT_ID']='SkyboxPlugin';

var css_248z$4 = ".settings-2d{height:300px;right:20px;top:30px;width:330px}.settings-2d .content .color-input{border:1px solid gray;cursor:pointer;font-size:0;height:20px;width:20px}.settings-2d .content .color-input:hover{border:1px solid blue}.settings-2d .content .setting{list-style:none;margin-bottom:5px}.settings-2d .content .setting li{list-style:none;margin:2px;padding:8px;vertical-align:text-top}.settings-2d .content .setting li:hover{box-shadow:0 4px 8px rgba(0,0,0,.1)}.settings-2d .content .setting span{display:inline-block;margin-right:5px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:50%}.settings-2d .content .setting select{border:1px solid #000;vertical-align:bottom;width:45%}";
styleInject(css_248z$4);

const en$4={'settings':'Settings','hideSmallObjects':'Hide\x20Small\x20Objects','backgroundColor':'Background\x20Color','scaleRate':'Scale\x20Rate(curr:'};const cn$4={'settings':'设置','hideSmallObjects':'隐藏较小实体','backgroundColor':'背景色','scaleRate':'缩放比例(当前:'};const i18n$4=i18next['createInstance']();const lng$4='en';i18n$4['init']({'lng':lng$4,'debug':![],'resources':{'en':{'translation':en$4},'cn':{'translation':cn$4}}});

class Settings2dPlugin extends Plugin{constructor(_0x182d9d,_0x5e34e0){const _0x4a5e61=(_0x5e34e0===null||_0x5e34e0===void 0x0?void 0x0:_0x5e34e0['id'])||Settings2dPlugin['DEFAULT_ID'];super(_0x182d9d,{'id':_0x4a5e61}),this['cfg']=_0x5e34e0||{},this['cfg']['visible']!==![]&&this['init']();}['init'](){var _0x1b170d;const _0x14e1e8=this['viewer'];this['cfg']['containerId']&&(this['container']=document['getElementById'](this['cfg']['containerId'])),!this['container']&&(this['container']=_0x14e1e8['widgetContainer']),this['initLocalization'](),this['basePanel']=new BasePanel({'container':this['container'],'title':i18n$4['t']('settings'),'cssClass':'settings-2d','onClose':()=>this['onClose'](),'viewportContainer':this['viewer']['viewerContainer']}),this['content']=(_0x1b170d=this['basePanel'])===null||_0x1b170d===void 0x0?void 0x0:_0x1b170d['content'],this['addContent'](),this['addEventHandlers']();}['initLocalization'](){const _0x2dddf7=this['cfg']['language']||DefaultLanguage;i18n$4['changeLanguage'](_0x2dddf7);}['setVisible'](_0x5e076c){_0x5e076c&&!this['basePanel']&&this['init'](),this['basePanel']&&(this['basePanel']['setVisible'](_0x5e076c),this['dispatchEvent']('visibilitychange',_0x5e076c));}['isVisible'](){var _0x44c44e;return !!((_0x44c44e=this['basePanel'])===null||_0x44c44e===void 0x0?void 0x0:_0x44c44e['isVisible']());}['onClose'](){this['dispatchEvent']('visibilitychange',![]);}['destroy'](){var _0x25451e;super['destroy'](),(_0x25451e=this['basePanel'])===null||_0x25451e===void 0x0?void 0x0:_0x25451e['destroy']();}['addContent'](){var _0x2ca015;const _0x5c2e44='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22button\x22\x20class=\x22color-input\x22\x20style=\x22background-color:\x20#212830\x22\x20value=\x22#212830\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22button\x22\x20class=\x22color-input\x22\x20style=\x22background-color:\x20#000000\x22\x20value=\x22#000000\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22button\x22\x20class=\x22color-input\x22\x20style=\x22background-color:\x20#ffffff\x22\x20value=\x22#ffffff\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22button\x22\x20class=\x22color-input\x22\x20style=\x22background-color:\x20#888888\x22\x20value=\x22#888888\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x3c588d=this['viewer']['findPlugin']('MeasurementPlugin'),_0x3bbefe=_0x3c588d['getScale'](),_0x4c6a85=document['createElement']('div');_0x4c6a85['classList']['add']('panel-body');const _0x1d04a1=this['viewer'],_0x84a4b4=_0x1d04a1['isHidingVisuallySmallObjectsEnabled']();_0x4c6a85['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22setting\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20title=\x22'+i18n$4['t']('hideSmallObjects')+'\x22>'+i18n$4['t']('hideSmallObjects')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22hideSmallObjects\x22\x20type=\x22checkbox\x22\x20'+(_0x84a4b4?'checked':'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20title=\x22'+i18n$4['t']('backgroundColor')+'\x22>'+i18n$4['t']('backgroundColor')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x5c2e44+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr><td>&nbsp;</td></tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20title=\x22We\x20need\x20to\x20set\x20a\x20proper\x20scale\x20rate\x20for\x20PDF\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+i18n$4['t']('scaleRate')+'<span\x20id=\x22txtCurrScale\x22>'+(_0x3bbefe||'<None>')+'</span>)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22font-size:\x2011px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20style=\x22width:\x20100px\x22>Known\x20length:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20id=\x22txtActualDist\x22\x20style=\x22width:\x2050px\x22></input></br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20style=\x22width:\x20100px\x22>Measured\x20length:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20id=\x22txtDistMeasureResult\x22\x20style=\x22width:\x2050px\x22></input>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Scale:\x20<span\x20id=\x22txtScale\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22button\x22\x20id=\x22btnSetScale\x22\x20value=\x22Confirm\x22></input>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22button\x22\x20id=\x22btnClearScale\x22\x20value=\x22Reset\x22></input>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</table>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',(_0x2ca015=this['content'])===null||_0x2ca015===void 0x0?void 0x0:_0x2ca015['appendChild'](_0x4c6a85);}['addEventHandlers'](){var _0x248ede;(_0x248ede=document['getElementById']('hideSmallObjects'))===null||_0x248ede===void 0x0?void 0x0:_0x248ede['addEventListener']('change',_0xe2062d=>{const _0x10d557=_0xe2062d['target']['checked'],_0x3d4790=this['viewer'];_0x3d4790['enableHidingVisuallySmallObjects'](_0x10d557);});const _0x5575b3=document['querySelectorAll']('input[type=button]'),_0x1420b2=[]['slice']['call'](_0x5575b3,0x0);_0x1420b2['forEach'](_0xc725=>{const _0x40b295=_0xc725;_0x40b295['addEventListener']('click',()=>{const _0x1ceb14=this['convertHexToRGB'](_0x40b295['value']);this['setBackgroundColor'](_0x1ceb14);});});const _0x3ece18=this['viewer']['findPlugin']('MeasurementPlugin'),_0xe7d6f8=document['getElementById']('txtActualDist'),_0x276180=document['getElementById']('txtDistMeasureResult'),_0x44c16b=document['getElementById']('txtScale'),_0xa08e03=document['getElementById']('txtCurrScale'),_0x202db1=document['getElementById']('btnSetScale'),_0x12696e=document['getElementById']('btnClearScale'),_0x378ebe=()=>{const _0x427f46=parseFloat(_0xe7d6f8['value'])/parseFloat(_0x276180['value']);_0x44c16b['innerText']=CommonUtils['numberToString'](_0x427f46);};_0xe7d6f8['oninput']=_0x378ebe,_0x276180['oninput']=_0x378ebe,_0x202db1['onclick']=()=>{const _0x18b45e=parseFloat(_0xe7d6f8['value'])/parseFloat(_0x276180['value']);Number['isFinite'](_0x18b45e)&&!Number['isNaN'](_0x18b45e)&&_0x18b45e>0x0&&(_0x3ece18['setScale'](_0x18b45e),_0xa08e03['innerText']=CommonUtils['numberToString'](_0x18b45e));},_0x12696e['onclick']=()=>{_0x3ece18['setScale'](0x1),_0xa08e03['innerText']='1';};}['convertHexToRGB'](_0xcaad9c){const _0x57aaef={};return _0xcaad9c='0x'+_0xcaad9c['slice'](0x1),_0x57aaef['r']=(_0xcaad9c>>0x10&0xff)/0xff,_0x57aaef['g']=(_0xcaad9c>>0x8&0xff)/0xff,_0x57aaef['b']=(_0xcaad9c&0xff)/0xff,_0x57aaef;}['setBackgroundColor'](_0x1ffc3e){this['viewer']['setBackgroundColor'](_0x1ffc3e['r'],_0x1ffc3e['g'],_0x1ffc3e['b']);}}Settings2dPlugin['DEFAULT_ID']='Settings2dPlugin';

var css_248z$3 = ".settings-3d .content .bim-setting{list-style:none;margin-bottom:5px}.settings-3d .content .bim-setting li{list-style:none;margin:2px;padding:8px;vertical-align:text-top}.settings-3d .content .bim-setting li:hover{box-shadow:0 4px 8px rgba(0,0,0,.1)}.settings-3d .content .bim-setting span{display:inline-block;margin-right:5px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:50%}.settings-3d .content .bim-setting select{border:1px solid #000;vertical-align:bottom;width:45%}";
styleInject(css_248z$3);

const en$3={'settings':'Settings','showOutline':'Show\x20Outline','doubleSidedMaterials':'Double-sided\x20Materials','showGroundGrid':'Show\x20Ground\x20Grid','showViewCube':'Show\x20View\x20Cube','showAxesHelper':'Show\x20AxesHelper','enableGroundShadow':'Enable\x20Ground\x20Shadow','skybox':'Skybox','colorWhite':'White','colorBlack':'Black','colorGray':'Gray','gradientColor1':'Blue/White/Grey','gradientColor2':'Deep\x20Blue/White/Grey','gradientColor3':'Light\x20Blue/White/Yellow','texture1':'Texture\x20-\x20Blue\x20Sky','texture2':'Texture\x20-\x20Cloudy','texture3':'Texture\x20-\x20Starry\x20Sky','setEnvMap':'Set\x20Environment\x20Map','default':'Default','cityStreet':'City\x20Street','grass':'Grass','sunshine':'Sunshine'};const cn$3={'settings':'设置','showOutline':'是否显示轮廓线','doubleSidedMaterials':'使用双面材质','showGroundGrid':'显示地面网格','showViewCube':'显示视图立方体','showAxesHelper':'显示坐标轴辅助线','enableGroundShadow':'启用地面阴影','skybox':'天空盒背景','colorWhite':'纯色\x20-\x20白','colorBlack':'纯色\x20-\x20黑','colorGray':'纯色\x20-\x20灰','gradientColor1':'渐变\x20-\x20蓝/白/灰','gradientColor2':'渐变\x20-\x20湛蓝/白/灰','gradientColor3':'渐变\x20-\x20浅蓝/白/黄','texture1':'贴图\x20-\x20蓝天','texture2':'贴图\x20-\x20多云','texture3':'贴图\x20-\x20星空','setEnvMap':'设置环境贴图','default':'默认','cityStreet':'城市街道','grass':'草地','sunshine':'阳光'};const i18n$3=i18next['createInstance']();const lng$3='en';i18n$3['init']({'lng':lng$3,'debug':![],'resources':{'en':{'translation':en$3},'cn':{'translation':cn$3}}});

class Settings3dPlugin extends Plugin{constructor(_0x374394,_0x212aeb){const _0x32ca6c=(_0x212aeb===null||_0x212aeb===void 0x0?void 0x0:_0x212aeb['id'])||Settings3dPlugin['DEFAULT_ID'];super(_0x374394,{'id':_0x32ca6c}),this['cfg']=_0x212aeb||{},this['cfg']['visible']!==![]&&this['init']();}['init'](){var _0xec7c9b;const _0x89fb4f=this['viewer'];this['cfg']['containerId']&&(this['container']=document['getElementById'](this['cfg']['containerId'])),!this['container']&&(this['container']=_0x89fb4f['widgetContainer']),this['skyboxPlugin']=_0x89fb4f['findPlugin']('SkyboxPlugin'),!this['skyboxPlugin']&&log['warn']('[Settings]\x20SkyboxPlugin\x20doesn\x27t\x20seem\x20to\x20be\x20installed!'),this['groundGridPlugin']=_0x89fb4f['findPlugin']('GroundGridPlugin'),!this['groundGridPlugin']&&log['warn']('[Settings]\x20GroundGridPlugin\x20doesn\x27t\x20seem\x20to\x20be\x20installed!'),this['viewCubePlugin']=_0x89fb4f['findPlugin']('ViewCubePlugin'),!this['viewCubePlugin']&&log['warn']('[Settings]\x20ViewCubePlugin\x20doesn\x27t\x20seem\x20to\x20be\x20installed!'),this['axisGizmoPlugin']=_0x89fb4f['findPlugin']('AxisGizmoPlugin'),!this['axisGizmoPlugin']&&log['warn']('[Settings]\x20AxisGizmoPlugin\x20doesn\x27t\x20seem\x20to\x20be\x20installed!'),this['groundShadowPlugin']=_0x89fb4f['findPlugin']('GroundShadowPlugin'),!this['groundShadowPlugin']&&log['warn']('[Settings]\x20GroundShadowPlugin\x20doesn\x27t\x20seem\x20to\x20be\x20installed!'),this['initLocalization'](),this['basePanel']=new BasePanel({'container':this['container'],'title':i18n$3['t']('settings'),'cssClass':'settings-3d','onClose':()=>this['onClose'](),'viewportContainer':this['viewer']['viewerContainer']}),this['content']=(_0xec7c9b=this['basePanel'])===null||_0xec7c9b===void 0x0?void 0x0:_0xec7c9b['content'],this['addContent'](),this['addEventHandlers']();}['initLocalization'](){const _0x46e54d=this['cfg']['language']||DefaultLanguage;i18n$3['changeLanguage'](_0x46e54d);}['setVisible'](_0x5aa6b6){_0x5aa6b6&&!this['basePanel']&&this['init'](),this['basePanel']&&(this['basePanel']['setVisible'](_0x5aa6b6),this['dispatchEvent']('visibilitychange',_0x5aa6b6));}['isVisible'](){var _0x37b745;return !!((_0x37b745=this['basePanel'])===null||_0x37b745===void 0x0?void 0x0:_0x37b745['isVisible']());}['onClose'](){this['dispatchEvent']('visibilitychange',![]);}['destroy'](){var _0x48cc7b;super['destroy'](),(_0x48cc7b=this['basePanel'])===null||_0x48cc7b===void 0x0?void 0x0:_0x48cc7b['destroy']();}['addContent'](){var _0x392499,_0xf3fecf,_0x46cdd3,_0x5d61f7,_0x126095;const _0x21e277=document['createElement']('div'),_0x345fc9=(_0x392499=this['groundGridPlugin'])===null||_0x392499===void 0x0?void 0x0:_0x392499['isVisible'](),_0x4768ba=(_0xf3fecf=this['viewCubePlugin'])===null||_0xf3fecf===void 0x0?void 0x0:_0xf3fecf['isVisible'](),_0x400d8f=(_0x46cdd3=this['axisGizmoPlugin'])===null||_0x46cdd3===void 0x0?void 0x0:_0x46cdd3['isVisible'](),_0x1a3263=(_0x5d61f7=this['groundShadowPlugin'])===null||_0x5d61f7===void 0x0?void 0x0:_0x5d61f7['isEnabled']();_0x21e277['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22bim-setting\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20title=\x22'+i18n$3['t']('showOutline')+'\x22>'+i18n$3['t']('showOutline')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22enableEdge\x22\x20type=\x22checkbox\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20title=\x22'+i18n$3['t']('doubleSidedMaterials')+'\x22>'+i18n$3['t']('doubleSidedMaterials')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22doubleSidedMaterials\x22\x20type=\x22checkbox\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20title=\x22'+i18n$3['t']('showGroundGrid')+'\x22>'+i18n$3['t']('showGroundGrid')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22groundGridVisible\x22\x20type=\x22checkbox\x22\x20'+(this['groundGridPlugin']?'':'disabled')+'\x20'+(_0x345fc9?'checked':'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20title=\x22'+i18n$3['t']('showViewCube')+'\x22>'+i18n$3['t']('showViewCube')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22viewCubeVisible\x22\x20type=\x22checkbox\x22\x20'+(this['viewCubePlugin']?'':'disabled')+'\x20'+(_0x4768ba?'checked':'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20title=\x22'+i18n$3['t']('showAxesHelper')+'\x22>'+i18n$3['t']('showAxesHelper')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22axesHelperVisible\x22\x20type=\x22checkbox\x22\x20'+(this['axisGizmoPlugin']?'':'disabled')+'\x20'+(_0x400d8f?'checked':'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20title=\x22'+i18n$3['t']('enableGroundShadow')+'\x22>'+i18n$3['t']('enableGroundShadow')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22groundShadowEnabled\x22\x20type=\x22checkbox\x22\x20'+(this['groundShadowPlugin']?'':'disabled')+'\x20'+(_0x1a3263?'checked':'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20title=\x22'+i18n$3['t']('skybox')+'\x22>'+i18n$3['t']('skybox')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22select-skybox\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22white\x22>'+i18n$3['t']('colorWhite')+'</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22black\x22>'+i18n$3['t']('colorBlack')+'</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22gray\x22>'+i18n$3['t']('colorGray')+'</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22gradientBlueGray\x22>'+i18n$3['t']('gradientColor1')+'</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22gradientDarkBlueGray\x22>'+i18n$3['t']('gradientColor2')+'</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22gradientBlueYellow\x22>'+i18n$3['t']('gradientColor3')+'</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22bluesky\x22>'+i18n$3['t']('texture1')+'</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22cloudsky\x22>'+i18n$3['t']('texture2')+'</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22star\x22>'+i18n$3['t']('texture3')+'</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20title=\x22'+i18n$3['t']('setEnvMap')+'\x22>'+i18n$3['t']('setEnvMap')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22select-environment\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22default\x22>'+i18n$3['t']('default')+'</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22city\x22>'+i18n$3['t']('cityStreet')+'</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22footprint\x22>'+i18n$3['t']('grass')+'</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22sunset\x22>'+i18n$3['t']('sunshine')+'</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',(_0x126095=this['content'])===null||_0x126095===void 0x0?void 0x0:_0x126095['appendChild'](_0x21e277);}['addEventHandlers'](){var _0x2f0d19,_0x25fe2e,_0x5b4dd9,_0x15a315,_0x4ae9e2,_0x35a18d,_0x43ebc1,_0x2c1fa1;const _0x5a4671=this['viewer'];(_0x2f0d19=document['getElementById']('enableEdge'))===null||_0x2f0d19===void 0x0?void 0x0:_0x2f0d19['addEventListener']('change',_0x2882ae=>{const _0x313995=_0x2882ae['target']['checked'];_0x5a4671['effect']['enableModelEdges'](_0x313995);}),(_0x25fe2e=document['getElementById']('doubleSidedMaterials'))===null||_0x25fe2e===void 0x0?void 0x0:_0x25fe2e['addEventListener']('change',_0x4a314c=>{const _0x4830d4=_0x4a314c['target']['checked'];_0x4830d4?_0x5a4671['setDoubleSidedMaterials']():_0x5a4671['revertDoubleSidedMaterials']();}),(_0x5b4dd9=document['getElementById']('groundGridVisible'))===null||_0x5b4dd9===void 0x0?void 0x0:_0x5b4dd9['addEventListener']('change',_0x2636e9=>{if(!this['groundGridPlugin']){log['warn']('GroundGridPlugin\x20doesn\x27t\x20seem\x20to\x20be\x20installed!');return;}const _0x10fa84=_0x2636e9['target']['checked'];this['groundGridPlugin']['setVisible'](_0x10fa84);}),(_0x15a315=document['getElementById']('viewCubeVisible'))===null||_0x15a315===void 0x0?void 0x0:_0x15a315['addEventListener']('change',_0x4a829b=>{const _0x162893=_0x4a829b['target']['checked'];if(!this['viewCubePlugin']){log['warn']('ViewCubePlugin\x20doesn\x27t\x20seem\x20to\x20be\x20installed!');return;}this['viewCubePlugin']['setVisible'](_0x162893);}),(_0x4ae9e2=document['getElementById']('axesHelperVisible'))===null||_0x4ae9e2===void 0x0?void 0x0:_0x4ae9e2['addEventListener']('change',_0x398fb1=>{if(!this['axisGizmoPlugin']){log['warn']('AxisGizmoPlugin\x20doesn\x27t\x20seem\x20to\x20be\x20installed!');return;}const _0x121a25=_0x398fb1['target']['checked'];this['axisGizmoPlugin']['setVisible'](_0x121a25);}),(_0x35a18d=document['getElementById']('groundShadowEnabled'))===null||_0x35a18d===void 0x0?void 0x0:_0x35a18d['addEventListener']('change',_0x36051b=>{if(!this['groundShadowPlugin']){log['warn']('GroundShadowPlugin\x20doesn\x27t\x20seem\x20to\x20be\x20installed!');return;}const _0x47213d=_0x36051b['target']['checked'];this['groundShadowPlugin']['setEnabled'](_0x47213d);}),(_0x43ebc1=document['getElementById']('select-skybox'))===null||_0x43ebc1===void 0x0?void 0x0:_0x43ebc1['addEventListener']('change',_0x5b5be2=>{const _0xbcd08f=_0x5a4671['findPlugin']('SkyboxPlugin');if(!_0xbcd08f){log['warn']('SkyboxPlugin\x20doesn\x27t\x20seem\x20to\x20be\x20installed!');return;}const _0x1c2591=_0x5b5be2['target']['selectedOptions'][0x0]['value'];let _0x4faa28=['right.jpg','left.jpg','top.jpg','bottom.jpg','front.jpg','back.jpg'];if(_0x1c2591==='white')_0xbcd08f['setSkyboxByColor']([0x1,0x1,0x1]);else {if(_0x1c2591==='black')_0xbcd08f['setSkyboxByColor']([0x0,0x0,0x0]);else {if(_0x1c2591==='gray')_0xbcd08f['setSkyboxByColor']([0.5,0.5,0.5]);else {if(_0x1c2591==='gradientBlueGray')_0xbcd08f['setSkyboxByGradientColors']([0.52,0.71,0.96],[0x1,0x1,0x1],[0.6,0.6,0.6]);else {if(_0x1c2591==='gradientDarkBlueGray')_0xbcd08f['setSkyboxByGradientColors']([0.66,0.93,0x1],[0x1,0x1,0x1],[0.41,0.41,0.41]);else {if(_0x1c2591==='gradientBlueYellow')_0xbcd08f['setSkyboxByGradientColors']([0.86,0.93,0x1],[0x1,0x1,0x1],[0.92,0.89,0.79]);else {if(_0x1c2591==='bluesky')_0x4faa28=_0x4faa28['map'](_0x4d2fc1=>'/demo/images/skybox/cloudy/'+_0x4d2fc1),_0xbcd08f['setSkyboxByCubeTexture'](_0x4faa28);else {if(_0x1c2591==='cloudsky')_0x4faa28=_0x4faa28['map'](_0x568314=>'/demo/images/skybox/sun25deg/'+_0x568314),_0xbcd08f['setSkyboxByCubeTexture'](_0x4faa28);else _0x1c2591==='star'&&(_0x4faa28=_0x4faa28['map'](_0x2cee25=>'/demo/images/skybox/milkyway/'+_0x2cee25),_0xbcd08f['setSkyboxByCubeTexture'](_0x4faa28));}}}}}}}}),(_0x2c1fa1=document['getElementById']('select-environment'))===null||_0x2c1fa1===void 0x0?void 0x0:_0x2c1fa1['addEventListener']('change',_0x60fef9=>{const _0x499df5=this['viewer'],_0x23767a=_0x60fef9['target']['selectedOptions'][0x0]['value'];if(_0x23767a==='default')_0x499df5['setEnvironmentData']();else {if(_0x23767a==='city')_0x499df5['setEnvironment']('/demo/images/envmap/city_street_256.hdr');else {if(_0x23767a==='footprint')_0x499df5['setEnvironment']('/demo/images/envmap/footprint_court_2k.hdr');else _0x23767a==='sunset'&&_0x499df5['setEnvironment']('/demo/images/envmap/venice_sunset_1k.hdr');}}});}}Settings3dPlugin['DEFAULT_ID']='Settings3dPlugin';

var css_248z$2 = ".toolbar{align-items:center;background:hsla(0,0%,100%,.8);border-radius:4px;bottom:40px;box-shadow:1px 3px 10px 0 rgba(0,0,0,.4);height:68px;left:50%;padding:8px 20px;position:absolute;transform:translate(-50%);user-select:none;z-index:10}.toolbar,.toolbar .toolbar-group{box-sizing:border-box;display:flex}.toolbar .toolbar-group{padding:0 2px}.toolbar .toolbar-group-division{background-color:hsla(0,0%,60%,.8);height:60%;width:1px}.toolbar .toolbar-menu{border-radius:4px;box-sizing:border-box;color:#666;cursor:pointer;display:flex;flex-direction:column;height:50px;margin:0 2px;padding:3px 1px;transition:all .3s;word-break:break-word}.toolbar .toolbar-menu.active{color:#2c7be5}.toolbar .toolbar-menu .icon{font-size:24px;height:24px;line-height:normal;margin:auto;width:24px}.toolbar .toolbar-menu span{display:block;font-size:12px;margin:auto;text-align:center;user-select:none;width:100%}.toolbar .toolbar-menu-active{background-color:hsla(0,0%,100%,.8);color:#2c7be5}.toolbar .toolbar-parent-menu{position:relative}.toolbar .toolbar-parent-menu-active .toolbar-sub-menu{display:block}.toolbar .toolbar-parent-menu-active .toolbar-sub-menu-list{background:hsla(0,0%,100%,.8)}.toolbar .toolbar-parent-menu:after{border-color:#666 #666 transparent transparent;border-radius:1px;border-style:solid;border-width:4px;box-sizing:border-box;content:\"\";height:0;position:absolute;right:2px;top:2px;width:0}.toolbar .toolbar-sub-menu{bottom:100%;box-shadow:1px 3px 10px 0 rgba(0,0,0,.4);display:none;min-width:50px;position:absolute}.toolbar .toolbar-sub-menu .toolbar-sub-menu-list{border-radius:4px;margin-bottom:2px}.toolbar .toolbar-sub-menu .toolbar-sub-menu-list .toolbar-menu{margin:0}@media screen and (max-width:768px){.toolbar .toolbar-menu{height:30px;margin:0;width:30px}.toolbar .toolbar-menu .icon+span{display:none}.toolbar .toolbar-parent-menu:after{right:0;top:1px}.toolbar .toolbar-sub-menu{min-width:30px}}";
styleInject(css_248z$2);

const en$2={'homeView':'Home','orthoView':'Ortho\x20View','measurement':'Measure','distanceMeasurement':'Distance','areaMeasurement':'Area','angleMeasurement':'Angle','coordinateMeasurement':'Coordinate','clearMeasurement':'Clear','markupVisibility':'Markup\x20Visibility','markup':'Markup','markupArrow':'Arrow','markupRect':'Rect','markupCloudRect':'CloudRect','markupPolyLine':'PolyLine','markupCloudLine':'CloudLine','markupEllipse':'Ellipse','markupCircle':'Circle','markupDot':'Dot','markupText':'Text','markupX':'X','markupStroke':'Stroke\x20Style','markupLineWidth':'Line\x20Width','markupLineWidth2':'Line\x20Width\x202','markupLineWidth5':'Line\x20Width\x205','markupLineWidth10':'Line\x20Width\x2010','markupFontSize':'Font\x20Size','markupFontSize14':'14','markupFontSize18':'18','markupFontSize24':'24','clearMarkup':'Clear\x20Markup','quitMarkup':'Quit\x20Markup','section':'Section','axisSection':'Axis\x20Section','pickSectionPlane':'Pick\x20Section\x20Plane','sectionBox':'Section\x20Box','treeView':'Tree\x20View','viewpoint':'Viewpoint','annotation':'Annotation','property':'Property','settings':'Settings','compared':'Compared','quitCompare':'Quit\x20compare','fullscreen':'Full\x20Screen','layers':'Layers','zoomToRectangle':'Zoom','screenshot':'Screenshot'};const cn$2={'homeView':'主视图','orthoView':'正交视图','measurement':'测量','distanceMeasurement':'距离测量','areaMeasurement':'面积测量','angleMeasurement':'角度测量','coordinateMeasurement':'坐标测量','clearMeasurement':'清除测量','markupVisibility':'批注显隐','markup':'批注','markupArrow':'箭头','markupRect':'矩形框','markupCloudRect':'云线框','markupPolyLine':'多段线','markupCloudLine':'云线','markupEllipse':'椭圆','markupCircle':'圆','markupDot':'点','markupText':'文字','markupX':'叉号','markupStroke':'画笔颜色','markupLineWidth':'线宽','markupLineWidth2':'线宽\x202','markupLineWidth5':'线宽\x205','markupLineWidth10':'线宽\x2010','markupFontSize':'字号','markupFontSize14':'14','markupFontSize18':'18','markupFontSize24':'24','clearMarkup':'清除批注','quitMarkup':'退出批注','section':'剖切','axisSection':'轴向剖切','pickSectionPlane':'面剖切','sectionBox':'剖切盒','treeView':'模型树','viewpoint':'视点','annotation':'批注','property':'属性','settings':'设置','compared':'图纸对比','quitCompare':'退出图纸对比','fullscreen':'全屏','layers':'图层','zoomToRectangle':'框选放大','screenshot':'截屏'};const i18n$2=i18next['createInstance']();const lng$2='en';i18n$2['init']({'lng':lng$2,'debug':![],'resources':{'en':{'translation':en$2},'cn':{'translation':cn$2}}});

var MenuTypeEnums;(function(_0x2bec30){_0x2bec30[_0x2bec30['ClickEvent']=0x1]='ClickEvent',_0x2bec30[_0x2bec30['Popup']=0x2]='Popup',_0x2bec30[_0x2bec30['SubMenu']=0x3]='SubMenu',_0x2bec30[_0x2bec30['Switch']=0x4]='Switch';}(MenuTypeEnums||(MenuTypeEnums={})));var ToolbarMenuId;(function(_0xd541c0){_0xd541c0['HomeView']='HomeView',_0xd541c0['OrthoMode']='OrthoMode',_0xd541c0['Measure']='Measure',_0xd541c0['MeasureDistance']='MeasureDistance',_0xd541c0['MeasureArea']='MeasureArea',_0xd541c0['MeasureAngle']='MeasureAngle',_0xd541c0['MeasureCoordinate']='MeasureCoordinate',_0xd541c0['MeasureClear']='MeasureClear',_0xd541c0['MarkupVisibility']='MarkupVisibility',_0xd541c0['Markup']='Markup',_0xd541c0['MarkupArrow']='Arrow',_0xd541c0['MarkupRect']='Rect',_0xd541c0['MarkupCloudRect']='CloudRect',_0xd541c0['MarkupPolyLine']='PolyLine',_0xd541c0['MarkupCloudLine']='CloudLine',_0xd541c0['MarkupEllipse']='Ellipse',_0xd541c0['MarkupCircle']='Circle',_0xd541c0['MarkupDot']='Dot',_0xd541c0['MarkupText']='Text',_0xd541c0['MarkupX']='X',_0xd541c0['MarkupStrokeStyle']='StrokeStyle',_0xd541c0['MarkupLineWidth']='LineWidth',_0xd541c0['MarkupLineWidth2']='LineWidth2',_0xd541c0['MarkupLineWidth5']='LineWidth5',_0xd541c0['MarkupLineWidth10']='LineWidth10',_0xd541c0['MarkupFontSize']='FontSize',_0xd541c0['MarkupFontSize14']='FontSize14',_0xd541c0['MarkupFontSize18']='FontSize18',_0xd541c0['MarkupFontSize24']='FontSize24',_0xd541c0['MarkupClear']='MarkupClear',_0xd541c0['MarkupQuit']='MarkupQuit',_0xd541c0['Section']='Section',_0xd541c0['SectionBox']='SectionBox',_0xd541c0['SectionPlane']='SectionPlane',_0xd541c0['SectionAxis']='SectionAxis',_0xd541c0['TreeView']='Tree\x20View',_0xd541c0['Viewpoint']='Viewpoint',_0xd541c0['Annotation']='Annotation',_0xd541c0['Property']='Property',_0xd541c0['Settings']='Settings',_0xd541c0['Compared']='Compared',_0xd541c0['QuitCompare']='QuitCompare',_0xd541c0['Fullscreen']='FullScreen',_0xd541c0['SceneClear']='SceneClear',_0xd541c0['Layers']='Layers',_0xd541c0['ZoomToRectangle']='ZoomToRectangle',_0xd541c0['Screenshot']='GetScreenshot';}(ToolbarMenuId||(ToolbarMenuId={})));const GroupConfig=[[ToolbarMenuId['HomeView'],ToolbarMenuId['OrthoMode'],ToolbarMenuId['Fullscreen'],ToolbarMenuId['ZoomToRectangle'],ToolbarMenuId['Screenshot']],[ToolbarMenuId['Measure'],ToolbarMenuId['Markup'],ToolbarMenuId['MarkupVisibility'],ToolbarMenuId['Section']],[ToolbarMenuId['TreeView'],ToolbarMenuId['Viewpoint'],ToolbarMenuId['Annotation'],ToolbarMenuId['Property'],ToolbarMenuId['Compared'],ToolbarMenuId['QuitCompare'],ToolbarMenuId['Layers']],[ToolbarMenuId['Settings']]];

class Toolbar{constructor(_0x1d4f3e,_0x486558,_0x145fe9=[]){this['visible']=!![],this['menuList']=new Map(),this['screenshotDownloadFileName']='',this['keydown']=_0x2bebc5=>{if(!this['visible'])return;if(_0x2bebc5['code']==='Escape'){const _0x48bc6b=this['viewer']['findPlugin'](MeasurementPlugin['DEFAULT_ID']),_0x4d16f0=this['viewer']['findPlugin'](MarkupPlugin['DEFAULT_ID']);if((_0x48bc6b===null||_0x48bc6b===void 0x0?void 0x0:_0x48bc6b['isMeasuring']())||(_0x4d16f0===null||_0x4d16f0===void 0x0?void 0x0:_0x4d16f0['isActive']()))return;this['clearActive']();}},this['viewer']=_0x1d4f3e,this['menuCfg']=_0x486558,this['groupCfg']=_0x145fe9,this['init'](),window['addEventListener']('keydown',this['keydown'],![]);}['init'](){var _0x3a58a9;const _0x3b8f62=document['createElement']('div');_0x3b8f62['classList']['add']('toolbar');const _0x16721c=this['menuCfg'];this['groupCfg']['forEach']((_0x76c439,_0x45ed83)=>{const _0x5249da=document['createElement']('div');_0x5249da['classList']['add']('toolbar-group');const _0x121422=document['createElement']('div');_0x121422['classList']['add']('toolbar-group-division'),_0x76c439['forEach'](_0x37e805=>{const _0x53f6f9=get$1(_0x16721c,_0x37e805);if(_0x53f6f9&&_0x53f6f9['visible']!==![]){const _0xdbba8=this['createToolbarMenu'](this['viewer'],_0x37e805,_0x53f6f9);_0x5249da['appendChild'](_0xdbba8['element']);}}),_0x5249da['hasChildNodes']()&&(_0x45ed83&&_0x3b8f62['appendChild'](_0x121422),_0x3b8f62['appendChild'](_0x5249da));}),this['element']=_0x3b8f62,(_0x3a58a9=this['viewer']['widgetContainer'])===null||_0x3a58a9===void 0x0?void 0x0:_0x3a58a9['appendChild'](_0x3b8f62),_0x3b8f62['oncontextmenu']=_0x525377=>{_0x525377['preventDefault']();};}['clearActive'](){if(this['activateMenuId']){const _0x1278f7=this['menuList']['get'](this['activateMenuId']);_0x1278f7===null||_0x1278f7===void 0x0?void 0x0:_0x1278f7['setActive'](![]),this['activateMenuId']=undefined;}}['setActive'](_0x5a1fbc,_0x3a562f){const _0x3e8b7b=this['menuList']['get'](_0x5a1fbc);_0x3e8b7b===null||_0x3e8b7b===void 0x0?void 0x0:_0x3e8b7b['setActive'](_0x3a562f),this['activateMenuId']=_0x3a562f?_0x5a1fbc:undefined;}['isActive'](_0x3a86ee){const _0x1de400=this['menuList']['get'](_0x3a86ee);return !!(_0x1de400===null||_0x1de400===void 0x0?void 0x0:_0x1de400['isActive']());}['setScreenshotDownloadFileName'](_0x358b41){this['screenshotDownloadFileName']=_0x358b41||'';}['getScreenshotDownloadFileName'](){return this['screenshotDownloadFileName'];}['createToolbarMenu'](_0x3eaecf,_0x78cf8c,_0x50ddc5,_0x11de04){const _0xcec25b=new ToolbarMenu(_0x3eaecf,this,_0x78cf8c,_0x50ddc5,_0x11de04);this['menuList']['set'](_0x78cf8c,_0xcec25b);if(_0x50ddc5['children']){const _0x4f6db7=document['createElement']('div');_0x4f6db7['classList']['add']('toolbar-sub-menu');const _0x2df13e=document['createElement']('div');_0x2df13e['classList']['add']('toolbar-sub-menu-list'),_0x4f6db7['appendChild'](_0x2df13e),forIn(_0x50ddc5['children'],(_0x9ab9d6,_0x1020c5)=>{if(_0x9ab9d6&&_0x9ab9d6['visible']!==![]){const _0x35e443=this['createToolbarMenu'](_0x3eaecf,_0x1020c5,_0x9ab9d6,_0xcec25b);_0x2df13e['appendChild'](_0x35e443['element']);}}),_0xcec25b['element']['appendChild'](_0x4f6db7);}return _0xcec25b;}['updateMenu'](_0x34d817,_0x4bff5d){assign(this['menuCfg'][_0x34d817],_0x4bff5d),this['refresh']();}['updateMenus'](_0x1eadd5){forEach(_0x1eadd5,({menuId:_0x303f2f,config:_0x863535})=>{assign(this['menuCfg'][_0x303f2f],_0x863535);}),this['refresh']();}['addMenu'](_0x420898,_0x4090ec,_0x506429){if(keys(this['menuCfg'])['includes'](_0x420898)){log['error']('[Toolbar]',_0x420898,'exists.');return;}assign(this['menuCfg'],{[_0x420898]:_0x4090ec});if(_0x506429){const [_0x21ac76,_0x33651c]=_0x506429;if(_0x21ac76>this['groupCfg']['length']-0x1)this['groupCfg']=concat(this['groupCfg'],[[_0x420898]]);else {const _0x5bf3a8=this['groupCfg'][_0x21ac76];this['groupCfg'][_0x21ac76]=_0x33651c>_0x5bf3a8['length']-0x1?concat(_0x5bf3a8,_0x420898):concat(take(_0x5bf3a8,_0x33651c),_0x420898,takeRight(_0x5bf3a8,_0x5bf3a8['length']-_0x33651c));}}else this['groupCfg']=concat(this['groupCfg'],[[_0x420898]]);this['refresh']();}['refresh'](){this['element']&&this['element']['remove'](),this['element']=undefined,this['menuList']['clear'](),this['init']();}['show'](){this['element']&&(this['element']['style']['display']=''),this['visible']=!![];}['hide'](){this['element']&&(this['element']['style']['display']='none'),this['visible']=![];}['destroy'](){this['element']&&this['element']['remove'](),this['element']=undefined,this['menuList']['clear'](),window['removeEventListener']('keydown',this['keydown'],![]);}}class ToolbarMenu{constructor(_0x7d4d12,_0x26feb6,_0x4bcf5d,_0x23d8c5,_0x5bf735){this['eventBus']=_0x518506(),this['toolbar']=_0x26feb6,this['menuId']=_0x4bcf5d,this['active']=_0x23d8c5['defaultActive']||![],this['element']=_0x23d8c5['customElement']&&_0x23d8c5['customElement'](_0x7d4d12,this['menuId'],_0x23d8c5)||this['createButton'](_0x7d4d12,this['menuId'],_0x23d8c5),this['eventBus']['on']('activitychange',_0x5f3f79=>{var _0x1a22f3,_0x736bf7;_0x5f3f79?(this['element']['classList']['add']('active'),forEach(_0x23d8c5['mutexIds'],_0x1ec764=>{var _0x1b097f;const _0x52d16a=(_0x1b097f=this['toolbar'])===null||_0x1b097f===void 0x0?void 0x0:_0x1b097f['menuList']['get'](_0x1ec764);_0x52d16a&&_0x52d16a['active']&&_0x52d16a['setActive'](![]);}),(_0x1a22f3=_0x23d8c5['onActive'])===null||_0x1a22f3===void 0x0?void 0x0:_0x1a22f3['call'](_0x23d8c5,_0x7d4d12,_0x26feb6)):(this['element']['classList']['remove']('active'),(_0x736bf7=_0x23d8c5['onDeactive'])===null||_0x736bf7===void 0x0?void 0x0:_0x736bf7['call'](_0x23d8c5,_0x7d4d12)),this['element']['firstChild']instanceof HTMLElement&&setIcon(this['element']['firstChild']['classList'],_0x23d8c5['icon'],this['active']),_0x5bf735&&_0x5bf735['setActive'](_0x5f3f79);}),DeviceUtils['isMobile']?(this['element']['ontouchstart']=_0x550ce6=>{this['element']['classList']['toggle']('toolbar-parent-menu-active'),this['element']['classList']['toggle']('toolbar-menu-active'),_0x550ce6['stopPropagation']();switch(_0x23d8c5['type']){case MenuTypeEnums['ClickEvent']:{_0x23d8c5['onClick']&&_0x23d8c5['onClick'](_0x7d4d12,this['toolbar'],_0x550ce6);break;}case MenuTypeEnums['Switch']:{_0x23d8c5['onClick']&&_0x23d8c5['onClick'](_0x7d4d12,this['toolbar'],_0x550ce6),this['active']=!this['active'],this['toolbar']['activateMenuId']=this['menuId'],this['eventBus']['emit']('activitychange',this['active']);break;}}},this['element']['addEventListener']('touchend',()=>{_0x5bf735&&_0x5bf735['element']['classList']['remove']('toolbar-parent-menu-active');})):(this['element']['onclick']=_0x4dd951=>{_0x4dd951['stopPropagation']();switch(_0x23d8c5['type']){case MenuTypeEnums['ClickEvent']:{_0x23d8c5['onClick']&&_0x23d8c5['onClick'](_0x7d4d12,this['toolbar'],_0x4dd951);break;}case MenuTypeEnums['Switch']:{_0x23d8c5['onClick']&&_0x23d8c5['onClick'](_0x7d4d12,this['toolbar'],_0x4dd951),this['active']=!this['active'],this['toolbar']['activateMenuId']=this['menuId'],this['eventBus']['emit']('activitychange',this['active']);break;}}_0x5bf735&&_0x5bf735['element']['classList']['remove']('toolbar-parent-menu-active');},this['element']['addEventListener']('mouseover',()=>{this['element']['classList']['toggle']('toolbar-parent-menu-active'),this['element']['classList']['add']('toolbar-menu-active');}),this['element']['addEventListener']('mouseout',()=>{this['element']['classList']['contains']('toolbar-parent-menu-active')&&this['element']['classList']['remove']('toolbar-parent-menu-active'),this['element']['classList']['remove']('toolbar-menu-active');}));}['createButton'](_0x585608,_0x2c30ca,_0x58fca3){const _0x4f3ba8=document['createElement']('div');_0x4f3ba8['id']=_0x2c30ca,_0x4f3ba8['classList']['add']('toolbar-menu'),_0x58fca3['defaultActive']&&_0x4f3ba8['classList']['add']('active'),_0x58fca3['children']&&_0x4f3ba8['classList']['add']('toolbar-parent-menu');const {default:_0x53425b='icon-new',iconFont:iconFont=IconfontClass}=_0x58fca3['icon'];return _0x4f3ba8['innerHTML']='<div\x20class=\x22icon\x20'+iconFont+'\x20'+_0x53425b+'\x22></div>',_0x4f3ba8['title']=i18n$2['t'](_0x58fca3['menuName']),_0x4f3ba8['innerHTML']+='<span>'+_0x4f3ba8['title']+'</span>',_0x4f3ba8;}['setActive'](_0x4654f2){this['active']=_0x4654f2,_0x4654f2?this['element']['classList']['add']('toolbar-menu-active'):this['element']['classList']['remove']('toolbar-menu-active'),this['eventBus']['emit']('activitychange',this['active']);}['isActive'](){return this['active'];}}

const markupPlugin$1=_0x5d2c7f=>{return _0x5d2c7f['findPlugin'](MarkupPlugin['DEFAULT_ID']);},activate=(_0x1bc15e,_0x486b23)=>{const _0x10251c=markupPlugin$1(_0x1bc15e);if(!_0x10251c)return;!_0x10251c['isActive']()&&_0x10251c['activate'](),_0x10251c['setDrawType'](_0x486b23);},deactivate=_0x18dc29=>{const _0x2dc619=markupPlugin$1(_0x18dc29);_0x2dc619===null||_0x2dc619===void 0x0?void 0x0:_0x2dc619['deactivate']();};const DefaultMarkupToolbarConfig={[ToolbarMenuId['MarkupArrow']]:{'menuName':'markupArrow','icon':{'default':'icon-arrow'},'type':MenuTypeEnums['Switch'],'onActive':_0xc4b577=>{activate(_0xc4b577,MarkupType['Arrow']);},'onDeactive'(_0x4f21d8){deactivate(_0x4f21d8);},'mutexIds':[ToolbarMenuId['MarkupRect'],ToolbarMenuId['MarkupCloudRect'],ToolbarMenuId['MarkupPolyLine'],ToolbarMenuId['MarkupCloudLine'],ToolbarMenuId['MarkupEllipse'],ToolbarMenuId['MarkupCircle'],ToolbarMenuId['MarkupDot'],ToolbarMenuId['MarkupText'],ToolbarMenuId['MarkupX']]},[ToolbarMenuId['MarkupRect']]:{'defaultActive':![],'menuName':'markupRect','icon':{'default':'icon-rectangle'},'type':MenuTypeEnums['Switch'],'onActive':_0x15266a=>{activate(_0x15266a,MarkupType['Rectangle']);},'onDeactive'(_0x47f0cd){deactivate(_0x47f0cd);},'mutexIds':[ToolbarMenuId['MarkupArrow'],ToolbarMenuId['MarkupCloudRect'],ToolbarMenuId['MarkupPolyLine'],ToolbarMenuId['MarkupCloudLine'],ToolbarMenuId['MarkupEllipse'],ToolbarMenuId['MarkupCircle'],ToolbarMenuId['MarkupDot'],ToolbarMenuId['MarkupText'],ToolbarMenuId['MarkupX']]},[ToolbarMenuId['MarkupCloudRect']]:{'defaultActive':!![],'menuName':'markupCloudRect','icon':{'default':'icon-cloud'},'type':MenuTypeEnums['Switch'],'onActive':_0x1c9214=>{activate(_0x1c9214,MarkupType['CloudRectWithText']);},'onDeactive'(_0x26ebc9){deactivate(_0x26ebc9);},'mutexIds':[ToolbarMenuId['MarkupRect'],ToolbarMenuId['MarkupArrow'],ToolbarMenuId['MarkupPolyLine'],ToolbarMenuId['MarkupCloudLine'],ToolbarMenuId['MarkupEllipse'],ToolbarMenuId['MarkupCircle'],ToolbarMenuId['MarkupDot'],ToolbarMenuId['MarkupText'],ToolbarMenuId['MarkupX']]},[ToolbarMenuId['MarkupPolyLine']]:{'menuName':'markupPolyLine','icon':{'default':'icon-polyline'},'type':MenuTypeEnums['Switch'],'onActive':_0x2fa57f=>{activate(_0x2fa57f,MarkupType['PolyLine']);},'onDeactive'(_0x1e3bb5){deactivate(_0x1e3bb5);},'mutexIds':[ToolbarMenuId['MarkupRect'],ToolbarMenuId['MarkupArrow'],ToolbarMenuId['MarkupCloudRect'],ToolbarMenuId['MarkupCloudLine'],ToolbarMenuId['MarkupEllipse'],ToolbarMenuId['MarkupCircle'],ToolbarMenuId['MarkupDot'],ToolbarMenuId['MarkupText'],ToolbarMenuId['MarkupX']]},[ToolbarMenuId['MarkupCloudLine']]:{'menuName':'markupCloudLine','icon':{'default':'icon-cloud-segment'},'type':MenuTypeEnums['Switch'],'onActive':_0x2f3213=>{activate(_0x2f3213,MarkupType['CloudLine']);},'onDeactive'(_0xc42c04){deactivate(_0xc42c04);},'mutexIds':[ToolbarMenuId['MarkupRect'],ToolbarMenuId['MarkupCloudRect'],ToolbarMenuId['MarkupPolyLine'],ToolbarMenuId['MarkupArrow'],ToolbarMenuId['MarkupEllipse'],ToolbarMenuId['MarkupCircle'],ToolbarMenuId['MarkupDot'],ToolbarMenuId['MarkupText'],ToolbarMenuId['MarkupX']]},[ToolbarMenuId['MarkupEllipse']]:{'menuName':'markupEllipse','icon':{'default':'icon-oval'},'type':MenuTypeEnums['Switch'],'onActive':_0x3c62be=>{activate(_0x3c62be,MarkupType['Ellipse']);},'onDeactive'(_0x31f99a){deactivate(_0x31f99a);},'mutexIds':[ToolbarMenuId['MarkupRect'],ToolbarMenuId['MarkupCloudRect'],ToolbarMenuId['MarkupPolyLine'],ToolbarMenuId['MarkupCloudLine'],ToolbarMenuId['MarkupArrow'],ToolbarMenuId['MarkupCircle'],ToolbarMenuId['MarkupDot'],ToolbarMenuId['MarkupText'],ToolbarMenuId['MarkupX']]},[ToolbarMenuId['MarkupCircle']]:{'menuName':'markupCircle','icon':{'default':'icon-round'},'type':MenuTypeEnums['Switch'],'onActive':_0x490d3b=>{activate(_0x490d3b,MarkupType['Circle']);},'onDeactive'(_0x261d4d){deactivate(_0x261d4d);},'mutexIds':[ToolbarMenuId['MarkupRect'],ToolbarMenuId['MarkupCloudRect'],ToolbarMenuId['MarkupPolyLine'],ToolbarMenuId['MarkupCloudLine'],ToolbarMenuId['MarkupEllipse'],ToolbarMenuId['MarkupArrow'],ToolbarMenuId['MarkupDot'],ToolbarMenuId['MarkupText'],ToolbarMenuId['MarkupX']]},[ToolbarMenuId['MarkupDot']]:{'menuName':'markupDot','icon':{'default':'icon-round'},'type':MenuTypeEnums['Switch'],'onActive':_0x4a7e29=>{activate(_0x4a7e29,MarkupType['Dot']);},'onDeactive'(_0x155681){deactivate(_0x155681);},'mutexIds':[ToolbarMenuId['MarkupRect'],ToolbarMenuId['MarkupCloudRect'],ToolbarMenuId['MarkupPolyLine'],ToolbarMenuId['MarkupCloudLine'],ToolbarMenuId['MarkupEllipse'],ToolbarMenuId['MarkupArrow'],ToolbarMenuId['MarkupCircle'],ToolbarMenuId['MarkupText'],ToolbarMenuId['MarkupX']]},[ToolbarMenuId['MarkupX']]:{'menuName':'markupX','icon':{'default':'icon-cross'},'type':MenuTypeEnums['Switch'],'onActive':_0x30b107=>{activate(_0x30b107,MarkupType['X']);},'onDeactive'(_0x182a3b){deactivate(_0x182a3b);},'mutexIds':[ToolbarMenuId['MarkupRect'],ToolbarMenuId['MarkupCloudRect'],ToolbarMenuId['MarkupPolyLine'],ToolbarMenuId['MarkupCloudLine'],ToolbarMenuId['MarkupEllipse'],ToolbarMenuId['MarkupCircle'],ToolbarMenuId['MarkupDot'],ToolbarMenuId['MarkupArrow'],ToolbarMenuId['MarkupText']]},[ToolbarMenuId['MarkupText']]:{'menuName':'markupText','icon':{'default':'icon-text'},'type':MenuTypeEnums['Switch'],'onActive':_0x4782c7=>{activate(_0x4782c7,MarkupType['Text']);},'onDeactive'(_0x38dee3){deactivate(_0x38dee3);},'mutexIds':[ToolbarMenuId['MarkupRect'],ToolbarMenuId['MarkupCloudRect'],ToolbarMenuId['MarkupPolyLine'],ToolbarMenuId['MarkupCloudLine'],ToolbarMenuId['MarkupEllipse'],ToolbarMenuId['MarkupCircle'],ToolbarMenuId['MarkupDot'],ToolbarMenuId['MarkupArrow'],ToolbarMenuId['MarkupX']]},[ToolbarMenuId['MarkupStrokeStyle']]:{'menuName':'markupStroke','icon':{'default':'icon-color-red'},'type':MenuTypeEnums['ClickEvent'],'onClick':(_0x490886,_0x109452,_0x117439)=>{const _0x14f52f=markupPlugin$1(_0x490886),_0x404845=_0x117439['target']['parentElement'],_0x350034=_0x404845===null||_0x404845===void 0x0?void 0x0:_0x404845['firstElementChild'],_0x4e2a20=document['createElement']('input');_0x4e2a20['setAttribute']('type','color'),_0x4e2a20['value']=ColorUtils['floatArray2CssColor'](_0x14f52f===null||_0x14f52f===void 0x0?void 0x0:_0x14f52f['getLineColor']()),_0x4e2a20['click'](),_0x4e2a20['oninput']=_0x33e224=>{const _0x4f83c2=_0x33e224['target']['value'];_0x14f52f===null||_0x14f52f===void 0x0?void 0x0:_0x14f52f['setLineColor'](ColorUtils['color2rgba'](_0x4f83c2)),_0x350034['style']['color']=_0x4f83c2;};}},[ToolbarMenuId['MarkupLineWidth']]:{'menuName':'markupLineWidth','icon':{'default':'icon-line'},'customElement'(_0x505d1d,_0x225973,_0xfe9f9e){const _0x4de2dc=document['createElement']('div');return _0x4de2dc['id']=_0x225973,_0x4de2dc['classList']['add']('toolbar-menu'),_0xfe9f9e['children']&&_0x4de2dc['classList']['add']('toolbar-parent-menu'),_0x4de2dc['title']=i18n$2['t'](_0xfe9f9e['menuName']),_0x4de2dc['innerHTML']+='<span>'+_0x4de2dc['title']+'</span>',_0x4de2dc;},'type':MenuTypeEnums['SubMenu'],'children':{[ToolbarMenuId['MarkupLineWidth2']]:{'defaultActive':!![],'icon':{'default':'icon-line-2'},'onClick':_0x531e3c=>{const _0x51bea7=markupPlugin$1(_0x531e3c);_0x51bea7===null||_0x51bea7===void 0x0?void 0x0:_0x51bea7['setLineWidth'](0x2);},'type':MenuTypeEnums['Switch'],'menuName':'markupLineWidth2','mutexIds':[ToolbarMenuId['MarkupLineWidth5'],ToolbarMenuId['MarkupLineWidth10']]},[ToolbarMenuId['MarkupLineWidth5']]:{'icon':{'default':'icon-line-3'},'onClick':_0x46021c=>{const _0x5afed2=markupPlugin$1(_0x46021c);_0x5afed2===null||_0x5afed2===void 0x0?void 0x0:_0x5afed2['setLineWidth'](0x3);},'type':MenuTypeEnums['Switch'],'menuName':'markupLineWidth5','mutexIds':[ToolbarMenuId['MarkupLineWidth2'],ToolbarMenuId['MarkupLineWidth10']]},[ToolbarMenuId['MarkupLineWidth10']]:{'icon':{'default':'icon-line-4'},'onClick':_0x115763=>{const _0x389aee=markupPlugin$1(_0x115763);_0x389aee===null||_0x389aee===void 0x0?void 0x0:_0x389aee['setLineWidth'](0x4);},'type':MenuTypeEnums['Switch'],'menuName':'markupLineWidth10','mutexIds':[ToolbarMenuId['MarkupLineWidth2'],ToolbarMenuId['MarkupLineWidth5']]}}},[ToolbarMenuId['MarkupFontSize']]:{'menuName':'markupFontSize','icon':{'default':'icon-font'},'customElement'(_0x1f4050,_0x2d8fdd,_0x55f203){const _0x1a1751=document['createElement']('div');return _0x1a1751['id']=_0x2d8fdd,_0x1a1751['classList']['add']('toolbar-menu'),_0x55f203['children']&&_0x1a1751['classList']['add']('toolbar-parent-menu'),_0x1a1751['title']=i18n$2['t'](_0x55f203['menuName']),_0x1a1751['innerHTML']+='<span>'+_0x1a1751['title']+'</span>',_0x1a1751;},'type':MenuTypeEnums['SubMenu'],'children':{[ToolbarMenuId['MarkupFontSize14']]:{'icon':{'default':'icon-font14'},'onClick':_0x23e5d2=>{const _0x5eda66=markupPlugin$1(_0x23e5d2);_0x5eda66===null||_0x5eda66===void 0x0?void 0x0:_0x5eda66['setFontSize'](0xe);},'type':MenuTypeEnums['Switch'],'menuName':'','mutexIds':[ToolbarMenuId['MarkupFontSize18'],ToolbarMenuId['MarkupFontSize24']]},[ToolbarMenuId['MarkupFontSize18']]:{'defaultActive':!![],'icon':{'default':'icon-font18'},'onClick':_0x56e832=>{const _0x22ddf3=markupPlugin$1(_0x56e832);_0x22ddf3===null||_0x22ddf3===void 0x0?void 0x0:_0x22ddf3['setFontSize'](0x12);},'type':MenuTypeEnums['Switch'],'menuName':'','mutexIds':[ToolbarMenuId['MarkupFontSize14'],ToolbarMenuId['MarkupFontSize24']]},[ToolbarMenuId['MarkupFontSize24']]:{'icon':{'default':'icon-font24'},'onClick':_0x32a77e=>{const _0x4e18db=markupPlugin$1(_0x32a77e);_0x4e18db===null||_0x4e18db===void 0x0?void 0x0:_0x4e18db['setFontSize'](0x18);},'type':MenuTypeEnums['Switch'],'menuName':'','mutexIds':[ToolbarMenuId['MarkupFontSize14'],ToolbarMenuId['MarkupFontSize18']]}}},[ToolbarMenuId['MarkupClear']]:{'icon':{'default':'icon-eraser'},'onClick':_0x170b4d=>{log['info']('[Toolbar]','Clear\x20Markup',_0x170b4d);const _0x1d0e87=markupPlugin$1(_0x170b4d);_0x1d0e87===null||_0x1d0e87===void 0x0?void 0x0:_0x1d0e87['clear']();},'type':MenuTypeEnums['ClickEvent'],'menuName':'clearMarkup'},[ToolbarMenuId['MarkupQuit']]:{'icon':{'default':''},'customElement'(_0xf2d1f5,_0x31ddb7,_0x16a7b5){const _0x50be67=document['createElement']('div');return _0x50be67['id']=_0x31ddb7,_0x50be67['classList']['add']('toolbar-menu'),_0x16a7b5['children']&&_0x50be67['classList']['add']('toolbar-parent-menu'),_0x50be67['title']=i18n$2['t'](_0x16a7b5['menuName']),_0x50be67['innerHTML']+='<span>'+_0x50be67['title']+'</span>',_0x50be67;},'onClick':_0x582b7c=>{const _0x368fd6=markupPlugin$1(_0x582b7c);_0x368fd6===null||_0x368fd6===void 0x0?void 0x0:_0x368fd6['deactivate'](),_0x582b7c['dispatchEvent'](ViewerEvent['MarkupDeactivate']);},'type':MenuTypeEnums['ClickEvent'],'menuName':'quitMarkup'}};const MarkupGroupConfig=[[ToolbarMenuId['MarkupArrow'],ToolbarMenuId['MarkupRect'],ToolbarMenuId['MarkupCloudRect'],ToolbarMenuId['MarkupPolyLine'],ToolbarMenuId['MarkupEllipse'],ToolbarMenuId['MarkupCircle'],ToolbarMenuId['MarkupText'],ToolbarMenuId['MarkupStrokeStyle'],ToolbarMenuId['MarkupFontSize'],ToolbarMenuId['MarkupClear'],ToolbarMenuId['MarkupQuit']]];class MarkupToolbar extends Toolbar{constructor(_0x5b3960,_0x30d4e0,_0x2be0d4=[]){super(_0x5b3960,_0x30d4e0,_0x2be0d4),this['keydown']=()=>{};}}

class AxisSectionPopPanel extends PopPanel{constructor(_0xe3486b){const _0x15342c=i18n$7['t']('axisSection');super('axis-section-pop-panel',_0x15342c,_0xe3486b['widgetContainer']),this['axis']='x',this['isVisible']=!![],this['keydown']=_0x4b49ae=>{_0x4b49ae['code']==='Escape'&&this['destroy']();};const _0x6299ce=_0xe3486b['findPlugin'](SectionPlugin['DEFAULT_ID']);this['section']=_0x6299ce['getActiveSection'](),this['createGroupSelectLayout'](),this['addGroupSelectItems'](),this['createActiveSelectLayout'](),this['addActiveItems'](),window['addEventListener']('keydown',this['keydown']);}['destroy'](){super['destroy'](),window['removeEventListener']('keydown',this['keydown']);}['createGroupSelectLayout'](){const _0x5f11f5=document['createElement']('div');_0x5f11f5['classList']['add']('pop-panel-group-select'),this['body']['appendChild'](_0x5f11f5),this['groupSelectNode']=_0x5f11f5;}['addGroupSelectItems'](){const _0x3adf72=(_0x58441a,_0x128237,_0x8ecdff=![])=>{const _0x3df111=document['createElement']('div');return _0x3df111['classList']['add']('pop-panel-item'),_0x3df111['setAttribute']('itemName',_0x58441a),_0x3df111['append'](_0x128237),_0x8ecdff&&_0x3df111['classList']['add']('active'),this['groupSelectNode']&&this['groupSelectNode']['appendChild'](_0x3df111),_0x3df111;},_0x2d9e79=()=>{_0x2e2f9a['classList']['remove']('active'),_0xb6d245['classList']['remove']('active'),_0x2bed6b['classList']['remove']('active');},_0x25a693=(_0x2346e8,_0x1dc30a)=>{return _0x59892c=>{_0x59892c['stopPropagation']();if(this['activeItem']===_0x2346e8)return;_0x2d9e79(),this['activeItem']=_0x2346e8,_0x1dc30a['classList']['add']('active'),this['section']['setActiveAxis'](_0x2346e8);};},_0x2e2f9a=_0x3adf72(AxisType['X'],'X',!![]);_0x2e2f9a['onclick']=_0x25a693(AxisType['X'],_0x2e2f9a);const _0xb6d245=_0x3adf72(AxisType['Y'],'Y');_0xb6d245['onclick']=_0x25a693(AxisType['Y'],_0xb6d245);const _0x2bed6b=_0x3adf72(AxisType['Z'],'Z');_0x2bed6b['onclick']=_0x25a693(AxisType['Z'],_0x2bed6b);}['createActiveSelectLayout'](){const _0x314a16=document['createElement']('div');_0x314a16['classList']['add']('pop-panel-active-select'),this['body']['appendChild'](_0x314a16),this['activeSelectNode']=_0x314a16;}['addActiveItems'](){const _0x1f1ab4=(_0x2b5b9c,_0x2fb30e)=>{const _0x499e4b=document['createElement']('i');_0x499e4b['classList']['add'](IconfontClass2),_0x499e4b['classList']['add'](_0x2fb30e),_0x2b5b9c['innerHTML']='',_0x2b5b9c['appendChild'](_0x499e4b);},_0x3c6552=(_0x4cf8f2,_0x86c542,_0x1c0c05='')=>{const _0x1ae649=document['createElement']('div');return _0x1ae649['classList']['add']('pop-panel-item'),_0x86c542&&_0x1ae649['setAttribute']('title',_0x86c542),_0x1ae649['setAttribute']('itemName',_0x4cf8f2),_0x1ae649['setAttribute']('isActive','false'),_0x1f1ab4(_0x1ae649,_0x1c0c05),_0x1ae649;},_0x1c0537=i18n$7['t']('hideSectionPlane'),_0x5e4597=i18n$7['t']('showSectionPlane'),_0x438535=_0x3c6552('visible',_0x1c0537,'icon-hidesectionplane');_0x438535['onclick']=()=>{this['isVisible']=!this['isVisible'],this['isVisible']?(_0x1f1ab4(_0x438535,'icon-hidesectionplane'),_0x438535['setAttribute']('title',_0x1c0537)):(_0x1f1ab4(_0x438535,'icon-showsectionplane'),_0x438535['setAttribute']('title',_0x5e4597)),this['section']['setSectionPlaneVisible'](this['isVisible']);},this['activeSelectNode']&&this['activeSelectNode']['appendChild'](_0x438535);}}

class PickSectionPopPanel extends PopPanel{constructor(_0x3d5c1c){super('pick-section-pop-panel','拾取面剖切',_0x3d5c1c['widgetContainer']),this['isVisible']=!![],this['enabled']=!![],this['keydown']=_0x41cc7f=>{_0x41cc7f['code']==='Escape'&&this['destroy']();};const _0x55b73d=_0x3d5c1c['findPlugin'](SectionPlugin['DEFAULT_ID']);this['section']=_0x55b73d['getActiveSection'](),this['createActiveSelectLayout'](),this['addActiveItems'](),window['addEventListener']('keydown',this['keydown']);}['destroy'](){super['destroy'](),window['removeEventListener']('keydown',this['keydown']);}['createActiveSelectLayout'](){const _0x280275=document['createElement']('div');_0x280275['classList']['add']('pop-panel-active-select'),this['body']['appendChild'](_0x280275),this['activeSelectNode']=_0x280275;}['addActiveItems'](){const _0x38660b=(_0x760ef,_0x308cb1)=>{const _0x45ec4c=document['createElement']('i');_0x45ec4c['classList']['add'](IconfontClass2),_0x45ec4c['classList']['add'](_0x308cb1),_0x760ef['innerHTML']='',_0x760ef['appendChild'](_0x45ec4c);},_0x5c36fb=(_0x4d5bde,_0x50e294,_0x4d06ec='')=>{const _0x17fb1f=document['createElement']('div');return _0x17fb1f['classList']['add']('pop-panel-item'),_0x50e294&&_0x17fb1f['setAttribute']('title',_0x50e294),_0x17fb1f['setAttribute']('itemName',_0x4d5bde),_0x17fb1f['setAttribute']('isActive','false'),_0x38660b(_0x17fb1f,_0x4d06ec),_0x17fb1f;},_0x453769=i18n$7['t']('hideSectionPlane'),_0x4b6fbc=i18n$7['t']('showSectionPlane'),_0x8ae8b4=i18n$7['t']('reset'),_0x382771=_0x5c36fb('visible',_0x453769,'icon-hidesectionplane');_0x382771['onclick']=()=>{if(!this['enabled'])return;this['isVisible']=!this['isVisible'],this['isVisible']?(_0x38660b(_0x382771,'icon-hidesectionplane'),_0x382771['setAttribute']('title',_0x453769)):(_0x38660b(_0x382771,'icon-showsectionplane'),_0x382771['setAttribute']('title',_0x4b6fbc)),this['section']['setSectionPlaneVisible'](this['isVisible']);};this['activeSelectNode']&&this['activeSelectNode']['appendChild'](_0x382771);this['visibleNode']=_0x382771;const _0x10ec9d=_0x5c36fb('reset',_0x8ae8b4,'icon-reset');_0x10ec9d['onclick']=_0xdf9992=>{_0xdf9992['stopPropagation']();if(!this['enabled'])return;this['isVisible']=!![],_0x38660b(_0x382771,'icon-hidesectionplane'),_0x382771['setAttribute']('title',_0x453769),this['section']['reset']();},this['activeSelectNode']&&this['activeSelectNode']['appendChild'](_0x10ec9d),this['resetNode']=_0x10ec9d;}['enable'](){this['enabled']=!![],this['visibleNode']&&this['visibleNode']['classList']['remove']('disable');}['disable'](){this['enabled']=![],this['visibleNode']&&this['visibleNode']['classList']['add']('disable');}}

var css_248z$1 = ".tree-view .content .tree-node{border-top:1px solid hsla(0,0%,100%,.533)}.tree-view .content .tree-node .tree-node-item{text-wrap-mode:nowrap;display:flex;height:24px;line-height:24px}.tree-view .content .tree-node .tree-node-item:hover{background:rgba(0,0,0,.067)}.tree-view .content .tree-node .tree-node-item.selected{background:rgba(0,0,0,.2)}.tree-view .content .tree-node .tree-node-item span{display:inline-block;margin-right:3px;vertical-align:middle}.tree-view .content .tree-node .tree-node-item .expander{cursor:pointer;display:inline-block;margin-left:6px;margin-right:5px;transform:rotate(0deg);-webkit-transform:rotate(0deg);transition:transform .25s ease;-moz-transition:transform .25s ease;-webkit-transition:transform .25s ease}.tree-view .content .tree-node .tree-node-item .expander:before{content:\">\";cursor:pointer;font-family:cursive;font-size:16px;opacity:.6;vertical-align:middle}.tree-view .content .tree-node .tree-node-item .expander:hover:before{opacity:1}.tree-view .content .tree-node .tree-node-item .expander-expanded{transform:rotate(90deg);-webkit-transform:rotate(90deg)}.tree-view .content .tree-node .tree-node-item .visibility-checkbox{margin:0 3px}.tree-view .content .tree-node .tree-node-item .node-name{text-wrap-mode:nowrap;cursor:pointer;flex:content;min-width:20px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tree-view .content .tree-node .tree-node-item .node-type{color:#000;content:\"?\";font-size:12px;opacity:.6}.tree-view .content .tree-node .tree-node-item .node-type:hover{opacity:1}.tree-view .content .tree-node .tree-node-item .node-type-group:before{content:\"G\"}.tree-view .content .tree-node .tree-node-item .node-type-mesh:before{content:\"M\"}.tree-view .content .tree-node .tree-node-item .node-type-line:before{content:\"L\"}.tree-view .content .tree-node .tree-node-item .node-type-object3d:before{content:\"O\"}.tree-view .content .tree-node .tree-node-item .node-type-unknown:before{content:\"?\"}.tree-view .content .tree-node .tree-node-item .child-count{color:#000;font-size:12px;opacity:.6}.tree-view .content .tree-node .tree-node-item .child-count:hover{opacity:1}.tree-view .content .tree-node .tree-node-item .ellipse-btn{color:#000;cursor:pointer;opacity:.6;padding:0 6px}.tree-view .content .tree-node .tree-node-item .ellipse-btn:hover{opacity:1}.tree-view .content .tree-node .tree-node-item .visibility{cursor:pointer;opacity:.6}.tree-view .content .tree-node .tree-node-item .visibility:hover{opacity:.9}.tree-view .content .tree-node .tree-node-item .hidden{opacity:.3}.tree-view .tree-pop-menu{background:#fff;border:1px solid #ccc;border-radius:4px;box-shadow:0 2px 8px rgba(0,0,0,.15);font-size:14px;min-width:120px;padding:4px 0;position:fixed;user-select:none;z-index:9999}.tree-view .tree-pop-menu div{transition:background .2s}.tree-view .tree-pop-menu .item{cursor:pointer;padding:6px 16px}.tree-view .tree-pop-menu .item:hover{background-color:#f5f5f5}.tree-view .tree-pop-menu .last-item-in-section{border-bottom:1px solid rgba(0,0,0,.2)}";
styleInject(css_248z$1);

const en$1={'treeView':'Tree\x20View'};const cn$1={'treeView':'模型树'};const i18n$1=i18next['createInstance']();const lng$1='en';i18n$1['init']({'lng':lng$1,'debug':![],'resources':{'en':{'translation':en$1},'cn':{'translation':cn$1}}});

class TreeViewPlugin extends Plugin{constructor(_0x8e942d,_0x2cff3d){const _0x16cad9=(_0x2cff3d===null||_0x2cff3d===void 0x0?void 0x0:_0x2cff3d['id'])||TreeViewPlugin['DEFAULT_ID'];super(_0x8e942d,{'id':_0x16cad9}),this['onModelLoadOrRemove']=()=>{var _0x50a366;((_0x50a366=this['basePanel'])===null||_0x50a366===void 0x0?void 0x0:_0x50a366['isVisible']())&&(this['updateContent'](),this['viewer']['enableRender']());},this['onObjectSelected']=_0x2c0472=>{var _0xfd6e92;if(_0x2c0472==this['lastHighlightedObject'])return;this['lastHighlightedObject']=_0x2c0472,(_0xfd6e92=this['content'])===null||_0xfd6e92===void 0x0?void 0x0:_0xfd6e92['querySelectorAll']('.tree-node-item.selected')['forEach'](_0x2a779b=>_0x2a779b['classList']['remove']('selected')),this['highlightTreeNodeBySceneObject'](_0x2c0472);},this['onObjectDeselected']=_0x3d2466=>{var _0x2e5684;if(this['lastHighlightedObject']!==_0x3d2466)return;this['lastHighlightedObject']=undefined,(_0x2e5684=this['content'])===null||_0x2e5684===void 0x0?void 0x0:_0x2e5684['querySelectorAll']('.tree-node-item.selected')['forEach'](_0x1d251a=>_0x1d251a['classList']['remove']('selected'));},this['handleSingleClick']=_0xc39cf7=>{_0xc39cf7['stopPropagation'](),this['handleClick'](_0xc39cf7);},this['handleDoubleClick']=_0x5217ad=>{_0x5217ad['stopPropagation'](),this['handleClick'](_0x5217ad,!![]);},this['handleClick']=(_0x534bf2,_0x17e289=![])=>{var _0x441ac0;const _0x308e10=_0x534bf2['target'],_0x56aa01=_0x308e10['closest']('.tree-node');if(!_0x56aa01)return;const _0x21f107=_0x308e10['closest']('.tree-node-item');if(!_0x21f107)return;const _0x213cb6=_0x21f107['querySelector']('.expander'),_0x5d9a94=_0x21f107['querySelector']('.visibility-checkbox'),_0x374374=_0x56aa01['querySelector']('.children');let _0x261dd8;const _0x5e5155=_0x56aa01['dataset']['uuid'];_0x5e5155&&(_0x261dd8=this['findObjectByUuid'](_0x5e5155));if(!_0x261dd8)return;if(_0x308e10===_0x213cb6){if(_0x17e289)return;_0x374374['style']['display']==='none'?(_0x374374['style']['display']='',_0x213cb6['classList']['add']('expander-expanded')):(_0x374374['style']['display']='none',_0x213cb6['classList']['remove']('expander-expanded'));}else {if(_0x308e10===_0x5d9a94){if(_0x17e289)return;_0x261dd8['visible']=_0x5d9a94['checked'];_0x374374&&this['updateChildrenVisibility'](_0x374374,_0x5d9a94['checked']);const _0xe1bff4=this['getClosestParentTreeNode'](_0x56aa01['parentElement']);this['updateParentVisibility'](_0xe1bff4,_0x5d9a94['checked']),this['viewer']['enableRender']();}else {if(_0x308e10['classList']['contains']('ellipse-btn')){if(_0x17e289)return;this['showPopMenu'](_0x534bf2);}else {if(!_0x17e289){const _0x3a399b=_0x21f107['classList']['contains']('selected');(_0x441ac0=this['content'])===null||_0x441ac0===void 0x0?void 0x0:_0x441ac0['querySelectorAll']('.tree-node-item.selected')['forEach'](_0x66f503=>_0x66f503['classList']['remove']('selected')),this['viewer']['clearHighlight'](),!_0x3a399b&&this['selectTreeNodeAndHighlightSceneObject'](_0x56aa01,_0x261dd8);}else this['focusSceneObject'](_0x261dd8),this['selectTreeNodeAndHighlightSceneObject'](_0x56aa01,_0x261dd8);}}}},this['cfg']=_0x2cff3d||{},this['initLocalization'](),this['lastHighlightedObject']=undefined,this['cfg']['visible']!==![]&&this['updateContent'](),this['viewer']['addEventListener'](ViewerEvent['ModelLoad'],this['onModelLoadOrRemove']),this['viewer']['addEventListener'](ViewerEvent['ModelRemove'],this['onModelLoadOrRemove']),this['viewer']['addEventListener'](ViewerEvent['ObjectSelected'],this['onObjectSelected']),this['viewer']['addEventListener'](ViewerEvent['ObjectDeselected'],this['onObjectDeselected']);}['updateContent'](){var _0x231ba6;const _0x1dba1b=this['viewer'];this['cfg']['containerId']&&(this['container']=document['getElementById'](this['cfg']['containerId'])),!this['container']&&(this['container']=_0x1dba1b['widgetContainer']),!this['basePanel']&&(this['basePanel']=new BasePanel({'container':this['container'],'title':i18n$1['t']('treeView'),'cssClass':'tree-view','onClose':()=>this['onClose'](),'viewportContainer':this['viewer']['viewerContainer']}),this['content']=(_0x231ba6=this['basePanel'])===null||_0x231ba6===void 0x0?void 0x0:_0x231ba6['content']),this['addContent']();}['initLocalization'](){const _0x871110=this['cfg']['language']||DefaultLanguage;i18n$1['changeLanguage'](_0x871110);}['setVisible'](_0x36e9e3){_0x36e9e3&&this['updateContent'](),this['basePanel']&&(this['basePanel']['setVisible'](_0x36e9e3),this['dispatchEvent']('visibilitychange',_0x36e9e3));}['isVisible'](){var _0x7afaa2;return !!((_0x7afaa2=this['basePanel'])===null||_0x7afaa2===void 0x0?void 0x0:_0x7afaa2['isVisible']());}['onClose'](){this['dispatchEvent']('visibilitychange',![]);}['destroy'](){var _0x3e0512,_0x2ae503,_0x1aa6fe;super['destroy'](),this['viewer']['removeEventListener'](ViewerEvent['ModelLoad'],this['onModelLoadOrRemove']),this['viewer']['removeEventListener'](ViewerEvent['ModelRemove'],this['onModelLoadOrRemove']),this['viewer']['removeEventListener'](ViewerEvent['ObjectSelected'],this['onObjectSelected']),this['viewer']['removeEventListener'](ViewerEvent['ObjectDeselected'],this['onObjectDeselected']),(_0x3e0512=this['content'])===null||_0x3e0512===void 0x0?void 0x0:_0x3e0512['removeEventListener']('click',this['handleSingleClick']),(_0x2ae503=this['content'])===null||_0x2ae503===void 0x0?void 0x0:_0x2ae503['removeEventListener']('dblclick',this['handleDoubleClick']),(_0x1aa6fe=this['basePanel'])===null||_0x1aa6fe===void 0x0?void 0x0:_0x1aa6fe['destroy'](),this['lastHighlightedObject']=undefined;}['addContent'](){if(!this['content'])return;this['content']['removeEventListener']('click',this['handleSingleClick']),this['content']['removeEventListener']('dblclick',this['handleDoubleClick']),this['content']['innerHTML']='';const _0x116a75=this['viewer']['loadedModels']||[];if(_0x116a75['length']===0x0){this['content']['innerHTML']='<p>No\x20models\x20loaded.</p>';return;}for(const _0x5516d5 of _0x116a75){if(_0x5516d5 instanceof BimTilesModel){log['warn']('TreeViewPlugin:\x20BimTilesModel\x20is\x20not\x20supported\x20yet.');continue;}this['buildTreeForNodeRecursive'](_0x5516d5['rootObject'],this['content']);}this['content']['addEventListener']('click',this['handleSingleClick']),this['content']['addEventListener']('dblclick',this['handleDoubleClick']);}['buildTreeForNodeRecursive'](_0x4bd2f4,_0x17ef27,_0x3ebe46=0x0){const _0x1147df=document['createElement']('div');_0x1147df['classList']['add']('tree-node'),_0x1147df['dataset']['uuid']=_0x4bd2f4['uuid'];const _0x2345a7=document['createElement']('div');_0x2345a7['classList']['add']('tree-node-item'),_0x2345a7['style']['paddingLeft']=_0x3ebe46*0x12+'px',_0x1147df['appendChild'](_0x2345a7);const _0x5f0719=document['createElement']('input');_0x5f0719['type']='checkbox',_0x5f0719['classList']['add']('visibility-checkbox'),_0x5f0719['checked']=_0x4bd2f4['visible'],_0x5f0719['indeterminate']=![];const _0x479758=document['createElement']('span');_0x479758['classList']['add']('node-type');if(_0x4bd2f4 instanceof THREE['Group'])_0x479758['classList']['add']('node-type-group');else {if(_0x4bd2f4 instanceof THREE['Mesh'])_0x479758['classList']['add']('node-type-mesh');else {if(_0x4bd2f4 instanceof THREE['Line'])_0x479758['classList']['add']('node-type-line');else _0x4bd2f4 instanceof THREE['Object3D']?_0x479758['classList']['add']('node-type-object3d'):_0x479758['classList']['add']('node-type-unknown');}}_0x479758['title']=_0x4bd2f4['type'];const _0x5b5248=document['createElement']('span');_0x5b5248['classList']['add']('node-name'),_0x5b5248['innerHTML']=_0x4bd2f4['name']||'Unnamed\x20Node',_0x5b5248['title']=_0x5b5248['innerHTML'];let _0x13eaf0=0x0,_0x3b0365=null;_0x4bd2f4['children']&&_0x4bd2f4['children']['length']>0x0&&(_0x3b0365=document['createElement']('span'),_0x3b0365['classList']['add']('child-count'));const _0x2a72cd=document['createElement']('span');_0x2a72cd['classList']['add']('ellipse-btn'),_0x2a72cd['innerHTML']='&#8942;',_0x2a72cd['title']='More\x20options';let _0x4ea505=null;if(_0x4bd2f4['children']&&_0x4bd2f4['children']['length']>0x0){_0x4ea505=document['createElement']('div'),_0x4ea505['classList']['add']('children'),_0x4ea505['style']['display']='none',_0x1147df['appendChild'](_0x4ea505);for(const _0x1760cb of _0x4bd2f4['children']){!_0x1760cb['name']['startsWith']('highlighUsage-')&&!_0x1760cb['name']['startsWith']('transparentUsage-')&&!_0x1760cb['userData']['isOutline']&&(this['buildTreeForNodeRecursive'](_0x1760cb,_0x4ea505,_0x3ebe46+0x1),_0x13eaf0++);}}_0x3b0365&&(_0x3b0365['innerHTML']='('+_0x13eaf0+')');let _0x538cba=null;_0x13eaf0>0x0&&(_0x538cba=document['createElement']('span'),_0x538cba['classList']['add']('expander'),_0x2345a7['appendChild'](_0x538cba)),_0x2345a7['appendChild'](_0x5f0719),_0x2345a7['appendChild'](_0x479758),_0x2345a7['appendChild'](_0x5b5248),_0x3b0365&&_0x2345a7['appendChild'](_0x3b0365),_0x2345a7['appendChild'](_0x2a72cd),_0x17ef27['appendChild'](_0x1147df);}['selectTreeNodeAndHighlightSceneObject'](_0xac22a0,_0x57c65c,_0x5c0798=!![]){var _0x479fe5,_0x4eeda8;const _0x13f1f6=_0xac22a0['querySelector']('.tree-node-item');_0x13f1f6===null||_0x13f1f6===void 0x0?void 0x0:_0x13f1f6['classList']['add']('selected');_0x5c0798&&this['highlightSceneObject'](_0x57c65c);let _0x4538af=(_0x479fe5=_0xac22a0['parentElement'])===null||_0x479fe5===void 0x0?void 0x0:_0x479fe5['closest']('.tree-node');while(_0x4538af){const _0x3f48ee=_0x4538af['querySelector']('.tree-node-item');_0x3f48ee&&_0x3f48ee['classList']['add']('selected'),_0x4538af=(_0x4eeda8=_0x4538af['parentElement'])===null||_0x4eeda8===void 0x0?void 0x0:_0x4eeda8['closest']('.tree-node');}}['highlightTreeNodeBySceneObject'](_0x23fea0){var _0x5ad539;const _0x1aa947=_0x23fea0['uuid'],_0x5dae89=(_0x5ad539=this['content'])===null||_0x5ad539===void 0x0?void 0x0:_0x5ad539['querySelector']('[data-uuid=\x22'+_0x1aa947+'\x22]');_0x5dae89&&this['selectTreeNodeAndHighlightSceneObject'](_0x5dae89,_0x23fea0,![]);}['highlightSceneObject'](_0x2bdc62){const _0x5b7884=this['viewer'];this['lastHighlightedObject']=_0x2bdc62,_0x5b7884['clearHighlight'](),_0x5b7884['setObjectHighlight'](_0x2bdc62);}['focusSceneObject'](_0x48bd92){const _0x322de8=this['viewer'];_0x322de8['flyToObject'](_0x48bd92);}['updateChildrenVisibility'](_0x52602f,_0x3e4e42){const _0x1de2f1=_0x52602f['querySelectorAll']('.tree-node')||[];_0x1de2f1['forEach'](_0x4ee00a=>{const _0x2aa917=_0x4ee00a['querySelector']('.visibility-checkbox');_0x2aa917&&(_0x2aa917['checked']=_0x3e4e42,_0x2aa917['indeterminate']=![]);const _0x370789=_0x4ee00a['dataset']['uuid'];if(_0x370789){const _0x4d4fd0=this['findObjectByUuid'](_0x370789);_0x4d4fd0&&(_0x4d4fd0['visible']=_0x3e4e42);}const _0x77bdd4=_0x4ee00a['querySelector']('.children');_0x77bdd4&&this['updateChildrenVisibility'](_0x77bdd4,_0x3e4e42);});}['updateParentVisibility'](_0x17019a,_0x1653c8){if(!_0x17019a)return;const _0x28542a=_0x17019a['querySelector'](':scope\x20>\x20.children');if(!_0x28542a)return;const _0x4ba614=Array['from'](_0x28542a['querySelectorAll']('.visibility-checkbox'));if(_0x4ba614['length']===0x0)return;const _0x5510ff=_0x4ba614['every'](_0x51a206=>_0x51a206['checked']&&!_0x51a206['indeterminate']),_0x58811e=_0x4ba614['every'](_0x4224c7=>!_0x4224c7['checked']&&!_0x4224c7['indeterminate']),_0x471c3e=_0x17019a['querySelector']('.visibility-checkbox');if(_0x471c3e){if(_0x5510ff)_0x471c3e['checked']=!![],_0x471c3e['indeterminate']=![];else _0x58811e?(_0x471c3e['checked']=![],_0x471c3e['indeterminate']=![]):(_0x471c3e['checked']=![],_0x471c3e['indeterminate']=!![]);}const _0x114f16=_0x17019a['dataset']['uuid'];if(_0x114f16){const _0x276243=this['findObjectByUuid'](_0x114f16);_0x276243&&(_0x276243['visible']=_0x1653c8||!_0x58811e);}this['updateParentVisibility'](this['getClosestParentTreeNode'](_0x17019a['parentElement']),_0x1653c8);}['IsModelNode'](_0x4ff669){if(!_0x4ff669)return ![];if(_0x4ff669['userData']&&_0x4ff669['userData']['modelId']!==undefined)return !![];return ![];}['showPopMenu'](_0x4e9287){var _0x4a100d;document['querySelectorAll']('.tree-pop-menu')['forEach'](_0x285601=>_0x285601['remove']());const _0x10e4b4=_0x4e9287['target'],_0x5d45c2=_0x10e4b4['closest']('.tree-node'),_0x2e12b5=_0x10e4b4['closest']('.tree-node-item'),_0x2ba1a4=_0x2e12b5['querySelector']('.visibility-checkbox');let _0x335ada;const _0xc51ef2=_0x5d45c2['dataset']['uuid'];_0xc51ef2&&(_0x335ada=this['findObjectByUuid'](_0xc51ef2));const _0x898d29=_0x2e12b5['classList']['contains']('selected'),_0x101368=_0x335ada?_0x335ada['visible']:![],_0x4929c6=document['createElement']('div');_0x4929c6['classList']['add']('tree-pop-menu'),_0x4929c6['style']['left']=_0x4e9287['clientX']+0x8+'px',_0x4929c6['style']['top']=_0x4e9287['clientY']+0x8+'px';function _0x549ffd(_0x34c842,_0x489174=![],_0x5dc0b5){const _0xe5ccb9=document['createElement']('div');_0xe5ccb9['textContent']=_0x34c842,_0xe5ccb9['classList']['add']('item'),_0x489174&&_0xe5ccb9['classList']['add']('last-item-in-section'),_0xe5ccb9['addEventListener']('click',_0x323bc2=>{_0x323bc2['stopPropagation'](),_0x4929c6['remove'](),_0x5dc0b5();}),_0x4929c6['appendChild'](_0xe5ccb9);}_0x549ffd('Focus',![],()=>{_0x335ada&&this['focusSceneObject'](_0x335ada);}),_0x549ffd(_0x898d29?'Deselect':'Select',!![],()=>{var _0x42ea2f;_0x335ada&&((_0x42ea2f=this['content'])===null||_0x42ea2f===void 0x0?void 0x0:_0x42ea2f['querySelectorAll']('.tree-node-item.selected')['forEach'](_0x87175f=>_0x87175f['classList']['remove']('selected')),_0x898d29?(_0x2e12b5['classList']['remove']('selected'),this['viewer']['clearHighlight']()):(_0x2e12b5['classList']['add']('selected'),this['selectTreeNodeAndHighlightSceneObject'](_0x5d45c2,_0x335ada)));}),_0x549ffd(_0x101368?'Hide':'Show',![],()=>{if(_0x335ada){_0x335ada['visible']=!_0x101368,_0x2ba1a4['checked']=!_0x101368;const _0x27d3eb=_0x5d45c2['querySelector']('.children');_0x27d3eb&&this['updateChildrenVisibility'](_0x27d3eb,!_0x101368);const _0x3e2d8f=this['getClosestParentTreeNode'](_0x5d45c2['parentElement']);this['updateParentVisibility'](_0x3e2d8f,!_0x101368),this['viewer']['enableRender']();}}),_0x549ffd('Delete',!![],()=>{var _0x3eab0d;if(_0x335ada){_0x898d29&&((_0x3eab0d=this['content'])===null||_0x3eab0d===void 0x0?void 0x0:_0x3eab0d['querySelectorAll']('.tree-node-item.selected')['forEach'](_0x967861=>_0x967861['classList']['remove']('selected')),this['viewer']['clearHighlight']());if(this['IsModelNode'](_0x335ada)){this['viewer']['removeModelById'](_0x335ada['userData']['modelId']),_0x5d45c2['remove']();return;}const _0x23f099=this['getClosestParentTreeNode'](_0x5d45c2['parentElement']);_0x335ada['removeFromParent'](),_0x5d45c2['remove'](),this['updateParentVisibility'](_0x23f099,!_0x101368);if(_0x23f099){const _0x823809=_0x23f099['querySelector']('.child-count'),_0x2508c3=parseInt(_0x823809['innerHTML']['replace'](/[()]/g,''),0xa);_0x823809['innerHTML']='('+(_0x2508c3-0x1)+')';}this['viewer']['enableRender']();}});_0x335ada&&!(this['IsModelNode'](_0x335ada)||this['IsModelNode'](_0x335ada['parent']))&&_0x549ffd('Duplicate',!![],()=>{var _0x6bfc22;if(_0x335ada&&_0x335ada['parent']){(_0x6bfc22=this['content'])===null||_0x6bfc22===void 0x0?void 0x0:_0x6bfc22['querySelectorAll']('.tree-node-item.selected')['forEach'](_0x4a92b6=>_0x4a92b6['classList']['remove']('selected')),this['viewer']['clearHighlight']();const _0x5496b1=_0x335ada['clone'](!![]);_0x5496b1['name']=_0x335ada['name']+'_copy',_0x335ada['parent']['add'](_0x5496b1);let _0x43d4d4=0x0,_0x3c0d41=_0x335ada;while(_0x3c0d41){if(_0x3c0d41['userData']['modelId']!==undefined)break;_0x43d4d4++,_0x3c0d41=_0x3c0d41['parent'];}this['buildTreeForNodeRecursive'](_0x5496b1,_0x5d45c2['parentElement'],_0x43d4d4);const _0x150cb1=this['getClosestParentTreeNode'](_0x5d45c2['parentElement']);if(_0x150cb1){const _0x22fb2d=_0x150cb1['querySelector']('.child-count'),_0xea73ae=parseInt(_0x22fb2d['innerHTML']['replace'](/[()]/g,''),0xa);_0x22fb2d['innerHTML']='('+(_0xea73ae+0x1)+')';}this['selectTreeNodeAndHighlightSceneObject'](_0x5d45c2['parentElement']['lastElementChild'],_0x5496b1);}});_0x549ffd('Export',![],()=>{if(_0x335ada){const _0x3d645c=this['viewer']['findPlugin']('ExportPlugin');if(!_0x3d645c){log['warn']('[Toolbar]\x20ExportPlugin\x20is\x20not\x20installed!');return;}_0x3d645c['showExportPanel']('glb',_0x335ada['name'],_0x335ada);}}),_0x549ffd('Generate\x20Smart\x20UV1',![],()=>{_0x335ada&&this['viewer']['generateSmartUv1'](_0x335ada);}),(_0x4a100d=this['basePanel'])===null||_0x4a100d===void 0x0?void 0x0:_0x4a100d['root']['appendChild'](_0x4929c6);const _0xa8c389=this['viewer']['viewerContainer'];if(_0xa8c389){const _0x58458c=_0xa8c389['getBoundingClientRect'](),_0x447633=_0x4929c6['getBoundingClientRect']();if(_0x447633['right']>_0x58458c['right']){let _0x360e98=_0x4e9287['clientX']-_0x447633['width']-0x8;_0x360e98<_0x58458c['left']+0x4&&(_0x360e98=_0x58458c['left']+0x4),_0x4929c6['style']['left']=_0x360e98+'px';}}setTimeout(()=>{document['addEventListener']('mousedown',_0x7f370d=>{!_0x4929c6['contains'](_0x7f370d['target'])&&_0x4929c6['remove']();},{'once':!![]});},0x0);}['getClosestParentTreeNode'](_0x27aabe){while(_0x27aabe&&!_0x27aabe['classList']['contains']('tree-node')){_0x27aabe=_0x27aabe['parentElement'];}return _0x27aabe;}['findObjectByUuid'](_0x47f317){const _0x32c7e2=this['viewer']['loadedModels']||[];for(const _0x515446 of _0x32c7e2){const _0x42b16f=_0x515446['getModelObject']()['getObjectByProperty']('uuid',_0x47f317);if(_0x42b16f)return _0x42b16f;}return undefined;}}TreeViewPlugin['DEFAULT_ID']='TreeViewPlugin';

let sectionPanel;const markupPlugin=_0x42a2a3=>{return _0x42a2a3['findPlugin'](MarkupPlugin['DEFAULT_ID']);},measurementPlugin=_0x18e685=>{return _0x18e685['findPlugin'](MeasurementPlugin['DEFAULT_ID']);},sectionPlugin=_0xc1979a=>{return _0xc1979a['findPlugin'](SectionPlugin['DEFAULT_ID']);},screenshotPlugin=_0x1c443e=>{return _0x1c443e['findPlugin'](ScreenshotPlugin['DEFAULT_ID']);},treeViewPlugin=_0x59e165=>{return _0x59e165['findPlugin'](TreeViewPlugin['DEFAULT_ID']);},setting3dPlugin=_0x13b4ae=>{return _0x13b4ae['findPlugin'](Settings3dPlugin['DEFAULT_ID']);},setting2dPlugin=_0x16e5da=>{return _0x16e5da['findPlugin'](Settings2dPlugin['DEFAULT_ID']);},activateMeasurement=_0x288900=>{return _0x3d0fe1=>{const _0x1f63f1=measurementPlugin(_0x3d0fe1),_0x137b52=sectionPlugin(_0x3d0fe1);_0x137b52===null||_0x137b52===void 0x0?void 0x0:_0x137b52['deactivate'](),_0x1f63f1===null||_0x1f63f1===void 0x0?void 0x0:_0x1f63f1['activate'](_0x288900);};},deactivateMeasurement=_0x12124c=>{const _0x49d149=measurementPlugin(_0x12124c);_0x49d149===null||_0x49d149===void 0x0?void 0x0:_0x49d149['deactivate']();},hideMeasurementData=_0x18a206=>{const _0x49053e=measurementPlugin(_0x18a206);if(_0x49053e){_0x49053e['deactivate']();const _0x113e99=_0x49053e['getData']();_0x113e99['forEach'](_0x146587=>_0x49053e['setVisibleById'](_0x146587['id'],![]));}},deactivateSection=_0x33b404=>{const _0x3d9c68=measurementPlugin(_0x33b404);if(_0x3d9c68){_0x3d9c68['deactivate']();const _0x4a1a30=_0x3d9c68['getData']();_0x4a1a30['forEach'](_0x1b8946=>_0x3d9c68['setVisibleById'](_0x1b8946['id'],!![]));}const _0x3dff94=sectionPlugin(_0x33b404),_0x508001=![];_0x3dff94===null||_0x3dff94===void 0x0?void 0x0:_0x3dff94['deactivate'](_0x508001),sectionPanel===null||sectionPanel===void 0x0?void 0x0:sectionPanel['destroy'](),sectionPanel=undefined,_0x33b404['enableRender']();};const DefaultViewer3dToolbarConfig={[ToolbarMenuId['HomeView']]:{'icon':{'default':'icon-home','active':'icon-home-filled','iconFont':IconfontClass2},'menuName':'homeView','type':MenuTypeEnums['ClickEvent'],'onClick':_0x532f17=>{const _0x17f42c=_0x532f17;_0x17f42c['goToHomeView']();}},[ToolbarMenuId['OrthoMode']]:{'icon':{'default':'icon-orthomode','active':'icon-orthomode-filled','iconFont':IconfontClass2},'menuName':'orthoView','type':MenuTypeEnums['Switch'],'onActive':_0x572d61=>{log['info']('[Toolbar]','Enter\x20OrthoMode');const _0x530d43=_0x572d61;_0x530d43['setCameraProjection'](CameraProjection['Orthographic']);},'onDeactive':_0x4f07ae=>{log['info']('[Toolbar]','Exit\x20OrthoMode');const _0x4b6171=_0x4f07ae;_0x4b6171['setCameraProjection'](CameraProjection['Perspective']);}},[ToolbarMenuId['Measure']]:{'icon':{'default':'icon-measure','active':'icon-measure-filled','iconFont':IconfontClass2},'menuName':'measurement','type':MenuTypeEnums['SubMenu'],'children':{[ToolbarMenuId['MeasureDistance']]:{'icon':{'default':'icon-measure-distance'},'menuName':'distanceMeasurement','onActive':activateMeasurement(MeasurementType['Distance']),'onDeactive':deactivateMeasurement,'type':MenuTypeEnums['Switch'],'mutexIds':[ToolbarMenuId['MeasureArea'],ToolbarMenuId['MeasureAngle'],ToolbarMenuId['MeasureCoordinate']]},[ToolbarMenuId['MeasureArea']]:{'icon':{'default':'icon-measure-area-color'},'onActive':activateMeasurement(MeasurementType['Area']),'onDeactive':deactivateMeasurement,'type':MenuTypeEnums['Switch'],'menuName':'areaMeasurement','mutexIds':[ToolbarMenuId['MeasureDistance'],ToolbarMenuId['MeasureAngle'],ToolbarMenuId['MeasureCoordinate']]},[ToolbarMenuId['MeasureAngle']]:{'menuName':'angleMeasurement','icon':{'default':'icon-angle-measure'},'type':MenuTypeEnums['Switch'],'onActive':activateMeasurement(MeasurementType['Angle']),'onDeactive':deactivateMeasurement,'mutexIds':[ToolbarMenuId['MeasureDistance'],ToolbarMenuId['MeasureArea'],ToolbarMenuId['MeasureCoordinate']]},[ToolbarMenuId['MeasureCoordinate']]:{'menuName':'coordinateMeasurement','icon':{'default':'icon-distancemeasure','iconFont':IconfontClass2},'type':MenuTypeEnums['Switch'],'onActive':activateMeasurement(MeasurementType['Coordinate']),'onDeactive':deactivateMeasurement,'mutexIds':[ToolbarMenuId['MeasureDistance'],ToolbarMenuId['MeasureArea'],ToolbarMenuId['MeasureAngle']]},[ToolbarMenuId['MeasureClear']]:{'icon':{'default':'icon-clear','active':'icon-clear-filled','iconFont':IconfontClass2},'onClick':_0x4069a0=>{const _0x5b570c=measurementPlugin(_0x4069a0);_0x5b570c===null||_0x5b570c===void 0x0?void 0x0:_0x5b570c['deactivate'](),_0x5b570c===null||_0x5b570c===void 0x0?void 0x0:_0x5b570c['clear']();},'type':MenuTypeEnums['ClickEvent'],'menuName':'clearMeasurement'}},'mutexIds':[ToolbarMenuId['Section'],ToolbarMenuId['SectionAxis'],ToolbarMenuId['SectionBox'],ToolbarMenuId['SectionPlane']]},[ToolbarMenuId['Section']]:{'icon':{'default':'icon-section','active':'icon-section-filled','iconFont':IconfontClass2},'menuName':'section','type':MenuTypeEnums['SubMenu'],'children':{[ToolbarMenuId['SectionAxis']]:{'icon':{'default':'icon-sectionplane','active':'icon-sectionplane-filled','iconFont':IconfontClass2},'menuName':'axisSection','type':MenuTypeEnums['Switch'],'onActive':_0x21e5ee=>{hideMeasurementData(_0x21e5ee);const _0x35e24c=sectionPlugin(_0x21e5ee);_0x35e24c===null||_0x35e24c===void 0x0?void 0x0:_0x35e24c['activate'](SectionType['AxisPlaneSection']),sectionPanel===null||sectionPanel===void 0x0?void 0x0:sectionPanel['destroy'](),sectionPanel=new AxisSectionPopPanel(_0x21e5ee);},'onDeactive':deactivateSection,'mutexIds':[ToolbarMenuId['SectionBox'],ToolbarMenuId['SectionPlane']]},[ToolbarMenuId['SectionPlane']]:{'icon':{'default':'icon-choosesectionplane','active':'icon-choosesectionplane-filled','iconFont':IconfontClass2},'menuName':'pickSectionPlane','type':MenuTypeEnums['Switch'],'onActive':_0x3af0ca=>{hideMeasurementData(_0x3af0ca);const _0x1c5843=sectionPlugin(_0x3af0ca);_0x1c5843===null||_0x1c5843===void 0x0?void 0x0:_0x1c5843['activate'](SectionType['PickPlaneSection']),sectionPanel===null||sectionPanel===void 0x0?void 0x0:sectionPanel['destroy'](),sectionPanel=new PickSectionPopPanel(_0x3af0ca);},'onDeactive':deactivateSection,'mutexIds':[ToolbarMenuId['SectionAxis'],ToolbarMenuId['SectionBox']]},[ToolbarMenuId['SectionBox']]:{'icon':{'default':'icon-sectionbox','active':'icon-sectionbox-filled','iconFont':IconfontClass2},'menuName':'sectionBox','type':MenuTypeEnums['Switch'],'onActive':_0x6b55d9=>{hideMeasurementData(_0x6b55d9);const _0x50cabf=sectionPlugin(_0x6b55d9);_0x50cabf===null||_0x50cabf===void 0x0?void 0x0:_0x50cabf['activate'](SectionType['ObjectsBoxSection']),sectionPanel===null||sectionPanel===void 0x0?void 0x0:sectionPanel['destroy']();},'onDeactive':deactivateSection,'mutexIds':[ToolbarMenuId['SectionAxis'],ToolbarMenuId['SectionPlane']]}},'mutexIds':[ToolbarMenuId['Measure'],ToolbarMenuId['MeasureDistance'],ToolbarMenuId['MeasureArea'],ToolbarMenuId['MeasureAngle'],ToolbarMenuId['MeasureCoordinate']]},[ToolbarMenuId['TreeView']]:{'icon':{'default':'icon-bimtree','active':'icon-bimtree-filled','iconFont':IconfontClass2},'menuName':'treeView','type':MenuTypeEnums['Switch'],'onActive':(_0x586ab7,_0x521d7f)=>{const _0x53df64=treeViewPlugin(_0x586ab7);if(!_0x53df64){log['warn']('[Toolbar]\x20TreeViewPlugin\x20is\x20not\x20installed!');return;}!_0x53df64['hasEventListener']('visibilitychange')&&_0x53df64['addEventListener']('visibilitychange',_0x56af78=>{if(_0x521d7f){const _0x193aa7=_0x521d7f['isActive'](ToolbarMenuId['TreeView']);_0x193aa7!==_0x56af78&&_0x521d7f['setActive'](ToolbarMenuId['TreeView'],_0x56af78);}}),_0x53df64['setVisible'](!![]);},'onDeactive':_0x40b562=>{const _0x77f952=treeViewPlugin(_0x40b562);_0x77f952===null||_0x77f952===void 0x0?void 0x0:_0x77f952['setVisible'](![]);},'visible':!![]},[ToolbarMenuId['Viewpoint']]:{'icon':{'default':'icon-viewpoint','active':'icon-viewpoint-filled','iconFont':IconfontClass2},'menuName':'viewpoint','type':MenuTypeEnums['Switch'],'onActive':()=>{log['info']('[Toolbar]','Activate\x20Viewpoint');},'onDeactive':()=>{log['info']('[Toolbar]','Deactivate\x20Viewpoint');},'visible':![]},[ToolbarMenuId['Annotation']]:{'icon':{'default':'icon-annotation','active':'icon-annotation-filled','iconFont':IconfontClass2},'menuName':'annotation','type':MenuTypeEnums['Switch'],'onActive':()=>{log['info']('[Toolbar]','Activate\x20Annotation');},'onDeactive':()=>{log['info']('[Toolbar]','Deactivate\x20Annotation');},'visible':![]},[ToolbarMenuId['Property']]:{'icon':{'default':'icon-property','active':'icon-property-filled','iconFont':IconfontClass2},'menuName':'property','type':MenuTypeEnums['Switch'],'onActive':()=>{log['info']('[Toolbar]','Activate\x20Property');},'onDeactive':()=>{log['info']('[Toolbar]','Deactivate\x20Property');},'visible':![]},[ToolbarMenuId['Screenshot']]:{'icon':{'default':'icon-frame-clipping','active':'icon-frame-clipping'},'menuName':'screenshot','type':MenuTypeEnums['ClickEvent'],'onClick':(_0x558609,_0x3e07f8)=>{const _0x42f7aa=screenshotPlugin(_0x558609),_0x437d6c=(_0x3e07f8===null||_0x3e07f8===void 0x0?void 0x0:_0x3e07f8['getScreenshotDownloadFileName']())||'';if(!_0x42f7aa){log['warn']('[Toolbar]\x20ScreenshotPlugin\x20is\x20not\x20installed!');return;}_0x42f7aa['getScreenshotAsync'](ScreenshotMode['Default'])['then'](_0x4fd7ad=>{log['info']('[Toolbar]\x20getScreenshot()\x20returns:',_0x4fd7ad===null||_0x4fd7ad===void 0x0?void 0x0:_0x4fd7ad['base64Image']);if(!(_0x4fd7ad===null||_0x4fd7ad===void 0x0?void 0x0:_0x4fd7ad['base64Image']))throw '[Toolbar]\x20Image\x20data\x20is\x20empty!';const _0x23c9a7=document['createElement']('a');_0x23c9a7['href']=_0x4fd7ad===null||_0x4fd7ad===void 0x0?void 0x0:_0x4fd7ad['base64Image'],_0x23c9a7['download']=_0x437d6c,_0x23c9a7['click']();})['catch'](_0x1b976b=>{log['error']('[Toolbar]\x20Failed\x20to\x20get\x20screenshot,\x20reason:',_0x1b976b),_0x3e07f8===null||_0x3e07f8===void 0x0?void 0x0:_0x3e07f8['setActive'](ToolbarMenuId['Screenshot'],![]);});}},[ToolbarMenuId['Settings']]:{'icon':{'default':'icon-settings','active':'icon-settings-filled','iconFont':IconfontClass2},'menuName':'settings','type':MenuTypeEnums['Switch'],'onActive':(_0x2a3972,_0x404ecb)=>{const _0xb4bdec=setting3dPlugin(_0x2a3972);if(!_0xb4bdec){log['warn']('[Toolbar]\x20Settings3dPlugin\x20is\x20not\x20installed!');return;}!_0xb4bdec['hasEventListener']('visibilitychange')&&_0xb4bdec['addEventListener']('visibilitychange',_0x4dd59f=>{if(_0x404ecb){const _0x1eae44=_0x404ecb['isActive'](ToolbarMenuId['Settings']);_0x1eae44!==_0x4dd59f&&_0x404ecb['setActive'](ToolbarMenuId['Settings'],_0x4dd59f);}}),_0xb4bdec['setVisible'](!![]);},'onDeactive':_0x4e0d87=>{const _0x561409=setting3dPlugin(_0x4e0d87);_0x561409===null||_0x561409===void 0x0?void 0x0:_0x561409['setVisible'](![]);},'visible':!![]},[ToolbarMenuId['Fullscreen']]:{'icon':{'default':'icon-fullscreen','active':'icon-fullscreen-filled','iconFont':IconfontClass2},'menuName':'fullscreen','type':MenuTypeEnums['Switch'],'onClick':(_0x33c84d,_0x54d351)=>{var _0x47caae;const _0x5e4cd1=()=>{const _0x377827=_0x54d351===null||_0x54d351===void 0x0?void 0x0:_0x54d351['menuList']['get'](ToolbarMenuId['Fullscreen']);_0x377827&&_0x377827['setActive'](CommonUtils['isFullScreen']());};CommonUtils['isFullScreen']()?(CommonUtils['exitFullscreen'](),window['removeEventListener']('resize',_0x5e4cd1)):CommonUtils['fullScreen']((_0x47caae=_0x33c84d['viewerContainer'])===null||_0x47caae===void 0x0?void 0x0:_0x47caae['parentElement']),window['addEventListener']('resize',_0x5e4cd1);}}};const DefaultViewer2dToolbarConfig={[ToolbarMenuId['HomeView']]:{'icon':{'default':'icon-zhushitu','active':'icon-zhushitu'},'menuName':'homeView','type':MenuTypeEnums['ClickEvent'],'onClick':_0x2ca3c0=>{_0x2ca3c0['goToHomeView']();}},[ToolbarMenuId['ZoomToRectangle']]:{'icon':{'default':'icon-kuangxuanfangda','active':'icon-kuangxuanfangda'},'menuName':'zoomToRectangle','type':MenuTypeEnums['Switch'],'onClick':(_0x425d8c,_0x58ab62)=>{const _0x147570=_0x425d8c;_0x147570['removeEventListener'](ViewerEvent['BoxSelectDeactivate']),_0x147570['addEventListener'](ViewerEvent['BoxSelectDeactivate'],()=>{_0x58ab62===null||_0x58ab62===void 0x0?void 0x0:_0x58ab62['setActive'](ToolbarMenuId['ZoomToRectangle'],![]);}),_0x147570['zoomToRect']();},'mutexIds':[ToolbarMenuId['Screenshot']]},[ToolbarMenuId['Screenshot']]:{'icon':{'default':'icon-frame-clipping','active':'icon-frame-clipping'},'menuName':'screenshot','type':MenuTypeEnums['Switch'],'onClick':(_0x58952d,_0x4cfcd2)=>{const _0xfee6ec=_0x58952d;_0xfee6ec['removeEventListener'](ViewerEvent['BoxSelectDeactivate']),_0xfee6ec['addEventListener'](ViewerEvent['BoxSelectDeactivate'],()=>{_0x4cfcd2===null||_0x4cfcd2===void 0x0?void 0x0:_0x4cfcd2['setActive'](ToolbarMenuId['Screenshot'],![]);});const _0x14e0bd=screenshotPlugin(_0x58952d);if(!_0x14e0bd){log['warn']('[Toolbar]\x20ScreenshotPlugin\x20is\x20not\x20installed!');return;}_0x14e0bd['getScreenshotAsync'](ScreenshotMode['Default'])['then'](_0xeda5ec=>{log['info']('[Toolbar]\x20getScreenshot()\x20returns:',_0xeda5ec===null||_0xeda5ec===void 0x0?void 0x0:_0xeda5ec['base64Image']);if(!(_0xeda5ec===null||_0xeda5ec===void 0x0?void 0x0:_0xeda5ec['base64Image']))throw '[Toolbar]\x20Image\x20data\x20is\x20empty!';const _0x50e290=document['createElement']('a');_0x50e290['href']=_0xeda5ec===null||_0xeda5ec===void 0x0?void 0x0:_0xeda5ec['base64Image'],_0x50e290['download']='',_0x50e290['click']();})['catch'](_0x543370=>{log['error']('[Toolbar]\x20Failed\x20to\x20get\x20screenshot,\x20reason:',_0x543370),_0x4cfcd2===null||_0x4cfcd2===void 0x0?void 0x0:_0x4cfcd2['setActive'](ToolbarMenuId['Screenshot'],![]);});},'mutexIds':[ToolbarMenuId['ZoomToRectangle']]},[ToolbarMenuId['Measure']]:{'icon':{'default':'icon-celiang1','active':'icon-celiang1'},'menuName':'measurement','type':MenuTypeEnums['SubMenu'],'children':{[ToolbarMenuId['MeasureDistance']]:{'icon':{'default':'icon-measure-distance'},'menuName':'distanceMeasurement','onActive':_0x24ff84=>{const _0x3fc87b=measurementPlugin(_0x24ff84);_0x3fc87b===null||_0x3fc87b===void 0x0?void 0x0:_0x3fc87b['activate'](MeasurementType['Distance']);},'onDeactive':_0x35590b=>{const _0x16eb7f=measurementPlugin(_0x35590b);_0x16eb7f===null||_0x16eb7f===void 0x0?void 0x0:_0x16eb7f['deactivate']();},'type':MenuTypeEnums['Switch'],'mutexIds':[ToolbarMenuId['MeasureArea'],ToolbarMenuId['MeasureAngle'],ToolbarMenuId['MeasureCoordinate'],ToolbarMenuId['ZoomToRectangle'],ToolbarMenuId['Screenshot']]},[ToolbarMenuId['MeasureArea']]:{'icon':{'default':'icon-measure-area-color'},'onActive':_0x3404a3=>{const _0x33c18d=measurementPlugin(_0x3404a3);_0x33c18d===null||_0x33c18d===void 0x0?void 0x0:_0x33c18d['activate'](MeasurementType['Area']);},'onDeactive':_0x21fe23=>{const _0x4d1875=measurementPlugin(_0x21fe23);_0x4d1875===null||_0x4d1875===void 0x0?void 0x0:_0x4d1875['deactivate']();},'type':MenuTypeEnums['Switch'],'menuName':'areaMeasurement','mutexIds':[ToolbarMenuId['MeasureDistance'],ToolbarMenuId['MeasureAngle'],ToolbarMenuId['MeasureCoordinate'],ToolbarMenuId['ZoomToRectangle'],ToolbarMenuId['Screenshot']]},[ToolbarMenuId['MeasureAngle']]:{'menuName':'angleMeasurement','icon':{'default':'icon-angle-measure'},'type':MenuTypeEnums['Switch'],'onActive':_0x2c55ad=>{const _0x57659c=measurementPlugin(_0x2c55ad);_0x57659c===null||_0x57659c===void 0x0?void 0x0:_0x57659c['activate'](MeasurementType['Angle']);},'onDeactive':_0x47914f=>{const _0x4b8d7f=measurementPlugin(_0x47914f);_0x4b8d7f===null||_0x4b8d7f===void 0x0?void 0x0:_0x4b8d7f['deactivate']();},'mutexIds':[ToolbarMenuId['MeasureDistance'],ToolbarMenuId['MeasureArea'],ToolbarMenuId['MeasureCoordinate'],ToolbarMenuId['ZoomToRectangle'],ToolbarMenuId['Screenshot']]},[ToolbarMenuId['MeasureCoordinate']]:{'menuName':'coordinateMeasurement','icon':{'default':'icon-distancemeasure','iconFont':IconfontClass2},'type':MenuTypeEnums['Switch'],'onActive':_0x47180a=>{const _0x7e45c5=measurementPlugin(_0x47180a);_0x7e45c5===null||_0x7e45c5===void 0x0?void 0x0:_0x7e45c5['activate'](MeasurementType['Coordinate']);},'onDeactive':_0x57baa4=>{const _0x1cbd50=measurementPlugin(_0x57baa4);_0x1cbd50===null||_0x1cbd50===void 0x0?void 0x0:_0x1cbd50['deactivate']();},'visible':![],'mutexIds':[ToolbarMenuId['MeasureDistance'],ToolbarMenuId['MeasureArea'],ToolbarMenuId['MeasureAngle'],ToolbarMenuId['ZoomToRectangle'],ToolbarMenuId['Screenshot']]},[ToolbarMenuId['MeasureClear']]:{'icon':{'default':'icon-clear','active':'icon-clear-filled','iconFont':IconfontClass2},'onClick':_0x29c094=>{const _0x215ee7=measurementPlugin(_0x29c094);_0x215ee7===null||_0x215ee7===void 0x0?void 0x0:_0x215ee7['clear']();},'type':MenuTypeEnums['ClickEvent'],'menuName':'clearMeasurement'}}},[ToolbarMenuId['Markup']]:{'icon':{'default':'icon-annotation'},'menuName':'markup','type':MenuTypeEnums['ClickEvent'],'onClick':(_0x1accca,_0x4907dc)=>{deactivateMeasurement(_0x1accca),_0x4907dc===null||_0x4907dc===void 0x0?void 0x0:_0x4907dc['updateMenu'](ToolbarMenuId['Measure'],{'defaultActive':![]}),_0x4907dc===null||_0x4907dc===void 0x0?void 0x0:_0x4907dc['setActive'](ToolbarMenuId['ZoomToRectangle'],![]);const _0x181ecd=markupPlugin(_0x1accca);if(!_0x181ecd){log['warn']('[Toolbar]\x20MarkupPlugin\x20is\x20not\x20installed!');return;}const _0x49f632=_0x181ecd['getData']();_0x49f632['forEach'](_0x102707=>_0x181ecd['setMarkupVisibility'](_0x102707['id'],!![])),_0x4907dc===null||_0x4907dc===void 0x0?void 0x0:_0x4907dc['setActive'](ToolbarMenuId['MarkupVisibility'],![]),_0x181ecd['activate'](),_0x181ecd['setDrawType'](MarkupType['CloudRectWithText']),_0x1accca['dispatchEvent'](ViewerEvent['MarkupActivate']);}},[ToolbarMenuId['MarkupVisibility']]:{'icon':{'default':'icon-annotation-show','active':'icon-annotation-hide'},'menuName':'markupVisibility','type':MenuTypeEnums['Switch'],'onActive':_0x5121a4=>{const _0x815ebb=markupPlugin(_0x5121a4);if(!_0x815ebb){log['warn']('[Toolbar]\x20MarkupPlugin\x20is\x20not\x20installed!');return;}const _0x40a985=_0x815ebb['getData']();_0x40a985['forEach'](_0x4c796e=>_0x815ebb['setMarkupVisibility'](_0x4c796e['id'],![]));},'onDeactive':_0x4c1175=>{const _0x48327b=markupPlugin(_0x4c1175);if(!_0x48327b){log['warn']('[Toolbar]\x20MarkupPlugin\x20is\x20not\x20installed!');return;}const _0x5e579d=_0x48327b['getData']();_0x5e579d['forEach'](_0x1c2472=>_0x48327b['setMarkupVisibility'](_0x1c2472['id'],!![]));},'visible':!![]},[ToolbarMenuId['Settings']]:{'icon':{'default':'icon-settings','active':'icon-settings-filled','iconFont':IconfontClass2},'menuName':'settings','type':MenuTypeEnums['Switch'],'onActive':(_0x5388eb,_0x2ba194)=>{const _0x530357=setting2dPlugin(_0x5388eb);if(!_0x530357){log['warn']('[Toolbar]\x20Settings2dPlugin\x20is\x20not\x20installed!');return;}!_0x530357['hasEventListener']('visibilitychange')&&_0x530357['addEventListener']('visibilitychange',_0x585c28=>{if(_0x2ba194){const _0x393cdd=_0x2ba194['isActive'](ToolbarMenuId['Settings']);_0x393cdd!==_0x585c28&&_0x2ba194['setActive'](ToolbarMenuId['Settings'],_0x585c28);}}),_0x530357['setVisible'](!![]);},'onDeactive':_0x382577=>{const _0x47d3f6=setting2dPlugin(_0x382577);_0x47d3f6===null||_0x47d3f6===void 0x0?void 0x0:_0x47d3f6['setVisible'](![]);},'visible':!![]},[ToolbarMenuId['Compared']]:{'icon':{'default':'icon-compared'},'menuName':'compared','type':MenuTypeEnums['Switch'],'onActive':()=>{log['info']('[Toolbar]','Activate\x20Compare');},'onDeactive':()=>{log['info']('[Toolbar]','Deactivate\x20Compare');},'visible':![]},[ToolbarMenuId['QuitCompare']]:{'icon':{'default':'icon-compared'},'menuName':'quitCompare','type':MenuTypeEnums['Switch'],'onActive':()=>{log['info']('[Toolbar]','Activate\x20Compare');},'onDeactive':()=>{log['info']('[Toolbar]','Deactivate\x20Compare');},'visible':![]},[ToolbarMenuId['Layers']]:{'icon':{'default':'icon-tucengkongzhi','active':'icon-tucengkongzhi'},'menuName':'layers','type':MenuTypeEnums['Switch'],'onClick':()=>{}},[ToolbarMenuId['Fullscreen']]:{'icon':{'default':'icon-quanping','active':'icon-quanping'},'menuName':'fullscreen','type':MenuTypeEnums['Switch'],'onClick':(_0x1367ff,_0x1220d0)=>{var _0x3d053b;const _0x12b5e4=()=>{const _0x534162=_0x1220d0===null||_0x1220d0===void 0x0?void 0x0:_0x1220d0['menuList']['get'](ToolbarMenuId['Fullscreen']);_0x534162&&_0x534162['setActive'](CommonUtils['isFullScreen']());};CommonUtils['isFullScreen']()?(CommonUtils['exitFullscreen'](),window['removeEventListener']('resize',_0x12b5e4)):CommonUtils['fullScreen']((_0x3d053b=_0x1367ff['viewerContainer'])===null||_0x3d053b===void 0x0?void 0x0:_0x3d053b['parentElement']),window['addEventListener']('resize',_0x12b5e4);}}};

class Viewer2dToolbarPlugin extends Plugin{constructor(_0x21c3b3,_0x374cae){const _0x23e884=(_0x374cae===null||_0x374cae===void 0x0?void 0x0:_0x374cae['id'])||Viewer2dToolbarPlugin['DEFAULT_ID'];super(_0x21c3b3,{'id':_0x23e884}),this['onMarkupActivated']=()=>{if(!this['markupToolbar']){const _0x1c8a8a=merge(this['cfg']['markupMenuCfg']||[],DefaultMarkupToolbarConfig),_0x2b5172=merge(this['cfg']['markupGroupCfg']||[],MarkupGroupConfig);this['markupToolbar']=new MarkupToolbar(this['viewer'],_0x1c8a8a,_0x2b5172),this['markupToolbar']['hide']();}this['toolbar']['hide'](),this['markupToolbar']['show']();},this['onMarkupDeactivated']=()=>{var _0x1d8544;(_0x1d8544=this['markupToolbar'])===null||_0x1d8544===void 0x0?void 0x0:_0x1d8544['hide'](),this['toolbar']['show']();},this['cfg']=_0x374cae||{},this['initLocalization']();const _0xeb9abd=merge({},DefaultViewer2dToolbarConfig,this['cfg']['menuConfig']),_0x34b769=merge(this['cfg']['groupConfig']||[],GroupConfig);this['toolbar']=new Toolbar(_0x21c3b3,_0xeb9abd,_0x34b769),this['viewer']['addEventListener'](ViewerEvent['MarkupActivate'],this['onMarkupActivated']),this['viewer']['addEventListener'](ViewerEvent['MarkupDeactivate'],this['onMarkupDeactivated']);}['initLocalization'](){const _0x12f845=this['cfg']['language']||DefaultLanguage;i18n$2['changeLanguage'](_0x12f845);}['getToolbar'](){return this['toolbar'];}['getMarkupToolbar'](){return this['markupToolbar'];}['setActive'](_0x2d9180,_0x145a28){this['toolbar']['setActive'](_0x2d9180,_0x145a28);}['isActive'](_0x57d228){return this['toolbar']['isActive'](_0x57d228);}['destroy'](){var _0x47fd42;super['destroy'](),(_0x47fd42=this['markupToolbar'])===null||_0x47fd42===void 0x0?void 0x0:_0x47fd42['destroy'](),this['toolbar']['destroy']();}}Viewer2dToolbarPlugin['DEFAULT_ID']='Viewer2dToolbarPlugin';

class Viewer3dToolbarPlugin extends Plugin{constructor(_0x8f2ce9,_0x513ebd){const _0x2d675b=(_0x513ebd===null||_0x513ebd===void 0x0?void 0x0:_0x513ebd['id'])||Viewer3dToolbarPlugin['DEFAULT_ID'];super(_0x8f2ce9,{'id':_0x2d675b}),this['cfg']=_0x513ebd||{},this['initLocalization']();const _0x9734ad=merge({},DefaultViewer3dToolbarConfig,this['cfg']['menuConfig']),_0x2207cf=merge(this['cfg']['groupConfig']||[],GroupConfig);this['toolbar']=new Toolbar(_0x8f2ce9,_0x9734ad,_0x2207cf);}['initLocalization'](){const _0xea5a2=this['cfg']['language']||DefaultLanguage;i18n$2['changeLanguage'](_0xea5a2);}['getToolbar'](){return this['toolbar'];}['setActive'](_0x259215,_0x9d7dbc){this['toolbar']['setActive'](_0x259215,_0x9d7dbc);}['isActive'](_0x4fd3e7){return this['toolbar']['isActive'](_0x4fd3e7);}['setScreenshotDownloadFileName'](_0x2f59c4){this['toolbar']['setScreenshotDownloadFileName'](_0x2f59c4);}['destroy'](){super['destroy'](),this['toolbar']['destroy']();}}Viewer3dToolbarPlugin['DEFAULT_ID']='Viewer3dToolbarPlugin';

var css_248z = "#x-viewer-viewCube{bottom:10px;height:150px;position:absolute;right:10px;width:150px;z-index:1}";
styleInject(css_248z);

const en={'front':'Front','back':'Back','top':'Top','bottom':'Bottom','left':'Left','right':'Right'};const cn={'front':'前','back':'后','top':'上','bottom':'下','left':'左','right':'右'};const i18n=i18next['createInstance']();const lng='en';i18n['init']({'lng':lng,'debug':![],'resources':{'en':{'translation':en},'cn':{'translation':cn}}});

const gradient=(_0x268d85,_0x1ce6eb,_0x5238ef)=>{const _0xe72a86=new THREE['Color'](_0x268d85),_0x5f5f67=new THREE['Color'](_0x1ce6eb);return _0xe72a86['lerp'](_0x5f5f67,_0x5238ef)['getHex']();};var ViewCubeElement;(function(_0x1750bf){_0x1750bf['TopFace']='TopFace',_0x1750bf['FrontFace']='FrontFace',_0x1750bf['RightFace']='RightFace',_0x1750bf['BackFace']='BackFace',_0x1750bf['LeftFace']='LeftFace',_0x1750bf['BottomFace']='BottomFace',_0x1750bf['TopFrontEdge']='TopFrontEdge',_0x1750bf['TopRightEdge']='TopRightEdge',_0x1750bf['TopBackEdge']='TopBackEdge',_0x1750bf['TopLeftEdge']='TopLeftEdge',_0x1750bf['FrontRightEdge']='FrontRightEdge',_0x1750bf['BackRightEdge']='BackRightEdge',_0x1750bf['BackLeftEdge']='BackLeftEdge',_0x1750bf['FrontLeftEdge']='FrontLeftEdge',_0x1750bf['BottomFrontEdge']='BottomFrontEdge',_0x1750bf['BottomRightEdge']='BottomRightEdge',_0x1750bf['BottomBackEdge']='BottomBackEdge',_0x1750bf['BottomLeftEdge']='BottomLeftEdge',_0x1750bf['TopFrontRightCorner']='TopFrontRightCorner',_0x1750bf['TopBackRightCorner']='TopBackRightCorner',_0x1750bf['TopBackLeftCorner']='TopBackLeftCorner',_0x1750bf['TopFrontLeftCorner']='TopFrontLeftCorner',_0x1750bf['BottomFrontRightCorner']='BottomFrontRightCorner',_0x1750bf['BottomBackRightCorner']='BottomBackRightCorner',_0x1750bf['BottomBackLeftCorner']='BottomBackLeftCorner',_0x1750bf['BottomFrontLeftCorner']='BottomFrontLeftCorner';}(ViewCubeElement||(ViewCubeElement={})));var Rotation;(function(_0x4f64c3){_0x4f64c3[_0x4f64c3['Rotate0']=0x0]='Rotate0',_0x4f64c3[_0x4f64c3['Rotate90']=Math['PI']/0x2]='Rotate90',_0x4f64c3[_0x4f64c3['Rotate180']=Math['PI']]='Rotate180',_0x4f64c3[_0x4f64c3['Rotate270']=Math['PI']*1.5]='Rotate270';}(Rotation||(Rotation={})));const AxisX=new THREE['Vector3'](0x1,0x0,0x0),AxisY=new THREE['Vector3'](0x0,0x1,0x0),AxisZ=new THREE['Vector3'](0x0,0x0,0x1),viewCubeFaces={'right':{'text':'right','name':ViewCubeElement['RightFace'],'position':new THREE['Vector3'](0x32,0x0,0x0),'rotation':{'axis':AxisY,'rad':Rotation['Rotate90']}},'left':{'text':'left','name':ViewCubeElement['LeftFace'],'position':new THREE['Vector3'](-0x32,0x0,0x0),'rotation':{'axis':AxisY,'rad':Rotation['Rotate270']}},'top':{'text':'top','name':ViewCubeElement['TopFace'],'position':new THREE['Vector3'](0x0,0x32,0x0),'rotation':{'axis':AxisX,'rad':Rotation['Rotate270']}},'bottom':{'text':'bottom','name':ViewCubeElement['BottomFace'],'position':new THREE['Vector3'](0x0,-0x32,0x0),'rotation':{'axis':AxisX,'rad':Rotation['Rotate90']}},'front':{'text':'front','name':ViewCubeElement['FrontFace'],'position':new THREE['Vector3'](0x0,0x0,0x32),'rotation':{'axis':AxisY,'rad':Rotation['Rotate0']}},'back':{'text':'back','name':ViewCubeElement['BackFace'],'position':new THREE['Vector3'](0x0,0x0,-0x32),'rotation':{'axis':AxisY,'rad':Rotation['Rotate180']}}};class ViewCube extends THREE['Object3D']{constructor(_0x55af78){super(),this['name']='ViewCube',this['AXIS_COLOR_X']=0xff0000,this['AXIS_COLOR_Y']=0xff00,this['AXIS_COLOR_Z']=0xff,this['FACE_BACKGROUND_COLOR']=0xffffff,this['FACE_HOVER_BACKGROUND_COLOR']=0x8080d0,this['INNER_CUBE_WIDTH']=0x50,this['OUTER_CUBE_WIDTH']=0x64,this['CORNER_WIDTH']=(this['OUTER_CUBE_WIDTH']-this['INNER_CUBE_WIDTH'])/0x2,this['AXIS_LENGTH']=this['OUTER_CUBE_WIDTH']*1.3,this['EDGE_COLOUR']=0xd0d0d0,this['EDGE_OPACITY']=0.2,this['EDGE_SIZE']=new THREE['Vector2'](this['INNER_CUBE_WIDTH'],this['CORNER_WIDTH']),this['CORNER_COLOR']=0xcacbd4,this['CORNER_OPACITY']=0x1,this['faces']=[],this['dirty']=![],this['showAxes']=(_0x55af78===null||_0x55af78===void 0x0?void 0x0:_0x55af78['showAxes'])||!![],this['lineColor']=(_0x55af78===null||_0x55af78===void 0x0?void 0x0:_0x55af78['lineColor'])||0x90a0a0,this['init']();}['init'](){this['showAxes']&&this['add'](this['createAxes']()),this['add'](this['createViewCubeFaces']()),this['add'](this['createViewCubeEdges']()),this['add'](this['createViewCubeCorners']());}['createAxes'](){const _0x676ad6=this['OUTER_CUBE_WIDTH']/0x2+0x1,_0x487bf6=new THREE['Object3D'](),_0x32ed55=new THREE['Vector3'](-_0x676ad6,-_0x676ad6,-_0x676ad6),_0x50abce=new THREE['Vector3'](0x1,0x0,0x0),_0x5630e1=new THREE['Vector3'](0x0,0x1,0x0),_0x52057e=new THREE['Vector3'](0x0,0x0,0x1),_0x26f8ce=this['AXIS_LENGTH']/0xf,_0x2d88c2=this['AXIS_LENGTH']/0x14,_0x31a7b4=new THREE['ArrowHelper'](_0x50abce,_0x32ed55,this['AXIS_LENGTH'],this['AXIS_COLOR_X'],_0x26f8ce,_0x2d88c2),_0xbecbb3=new THREE['ArrowHelper'](_0x5630e1,_0x32ed55,this['AXIS_LENGTH'],this['AXIS_COLOR_Y'],_0x26f8ce,_0x2d88c2),_0x5c545e=new THREE['ArrowHelper'](_0x52057e,_0x32ed55,this['AXIS_LENGTH'],this['AXIS_COLOR_Z'],_0x26f8ce,_0x2d88c2);return _0x487bf6['add'](_0x31a7b4,_0xbecbb3,_0x5c545e),_0x487bf6;}['createViewCubeFaces'](){const _0x3199a1=new THREE['Object3D'](),_0x3351ac=[],_0x7d0df2=new THREE['MeshStandardMaterial']({'color':this['FACE_BACKGROUND_COLOR'],'opacity':0x0,'transparent':!![]}),_0x350291=Object['keys'](viewCubeFaces);_0x350291['forEach'](_0x294781=>{const _0x12f1b4=viewCubeFaces[_0x294781],_0x247bf6=i18n['t'](''+_0x12f1b4['text'])||_0x12f1b4['text'],_0x5ceb25=new TextTexture({'text':_0x247bf6,'fontSize':0x12,'color':'#333333','backgroundColor':this['FACE_BACKGROUND_COLOR'],'padding':0.8,'fontWeight':'bold'});_0x5ceb25['redrew']();const _0x3bc7dd=new THREE['MeshStandardMaterial']({'color':this['FACE_BACKGROUND_COLOR'],'map':_0x5ceb25,'opacity':0x1,'transparent':!![]});_0x3351ac['push'](_0x3bc7dd);const _0x1f99ce=this['createViewCubeFace'](_0x12f1b4['name'],_0x7d0df2,_0x12f1b4['position'],_0x12f1b4['rotation']);_0x1f99ce['layers']['enableAll'](),_0x1f99ce['userData']={'material':_0x3bc7dd,'tick':0x0,'translateTick':0x0},this['faces']['push'](_0x1f99ce);}),_0x3199a1['add'](...this['faces']);const _0x29dbc7=new THREE['BoxGeometry'](this['INNER_CUBE_WIDTH'],this['INNER_CUBE_WIDTH'],this['INNER_CUBE_WIDTH']),_0x6c520=new THREE['Mesh'](_0x29dbc7,_0x3351ac);this['innerViewCubeMesh']=_0x6c520,_0x3199a1['add'](_0x6c520);const _0x30fc95=new THREE['EdgesGeometry'](new THREE['BoxGeometry'](this['OUTER_CUBE_WIDTH'],this['OUTER_CUBE_WIDTH'],this['OUTER_CUBE_WIDTH'])),_0x117fdd=new THREE['MeshBasicMaterial']({'color':this['lineColor']}),_0x3b94b2=new THREE['LineSegments'](_0x30fc95,_0x117fdd);return _0x3199a1['add'](_0x3b94b2),_0x3199a1['position']['set'](0x0,0x0,0x0),_0x3199a1;}['createViewCubeFace'](_0x744175,_0xdd2104,_0x39bf29,_0x1c7be7){const _0x39bc00=new THREE['PlaneGeometry'](this['INNER_CUBE_WIDTH'],this['INNER_CUBE_WIDTH']),_0x1b94f8=new THREE['Mesh'](_0x39bc00,_0xdd2104);return _0x1b94f8['name']=_0x744175,_0x1b94f8['rotateOnAxis'](_0x1c7be7['axis'],_0x1c7be7['rad']),_0x1b94f8['position']['copy'](_0x39bf29),_0x1b94f8;}['createViewCubeEdges'](){const _0xb2664f=new THREE['Object3D'](),_0x281a6d=this['OUTER_CUBE_WIDTH']/0x2+0x1,_0x54db3f=this['createEdge'](ViewCubeElement['TopFrontEdge'],new THREE['Vector3'](0x0,_0x281a6d,_0x281a6d),[{'axis':AxisZ,'rad':Rotation['Rotate180']}]),_0x10750b=this['createEdge'](ViewCubeElement['TopRightEdge'],new THREE['Vector3'](_0x281a6d,_0x281a6d,0x0),[{'axis':AxisX,'rad':Rotation['Rotate180']},{'axis':AxisY,'rad':Rotation['Rotate90']},{'axis':AxisZ,'rad':Rotation['Rotate0']}]),_0x4bb4ed=this['createEdge'](ViewCubeElement['TopBackEdge'],new THREE['Vector3'](0x0,_0x281a6d,-_0x281a6d),[{'axis':AxisZ,'rad':Rotation['Rotate180']},{'axis':AxisY,'rad':Rotation['Rotate180']}]),_0x154dfa=this['createEdge'](ViewCubeElement['TopLeftEdge'],new THREE['Vector3'](-_0x281a6d,_0x281a6d,0x0),[{'axis':AxisX,'rad':Rotation['Rotate90']},{'axis':AxisY,'rad':Rotation['Rotate180']},{'axis':AxisZ,'rad':Rotation['Rotate90']}]),_0x55e969=this['createEdge'](ViewCubeElement['BottomFrontEdge'],new THREE['Vector3'](0x0,-_0x281a6d,_0x281a6d),[{'axis':AxisZ,'rad':Rotation['Rotate0']}]),_0x57063c=this['createEdge'](ViewCubeElement['BottomRightEdge'],new THREE['Vector3'](_0x281a6d,-_0x281a6d,0x0),[{'axis':AxisX,'rad':Rotation['Rotate90']},{'axis':AxisY,'rad':Rotation['Rotate0']},{'axis':AxisZ,'rad':Rotation['Rotate90']}]),_0x3a7087=this['createEdge'](ViewCubeElement['BottomBackEdge'],new THREE['Vector3'](0x0,-_0x281a6d,-_0x281a6d),[{'axis':AxisZ,'rad':Rotation['Rotate0']},{'axis':AxisY,'rad':Rotation['Rotate180']}]),_0x39479f=this['createEdge'](ViewCubeElement['BottomLeftEdge'],new THREE['Vector3'](-_0x281a6d,-_0x281a6d,0x0),[{'axis':AxisX,'rad':Rotation['Rotate90']},{'axis':AxisY,'rad':Rotation['Rotate270']},{'axis':AxisZ,'rad':Rotation['Rotate90']}]),_0x1ccb7e=this['createEdge'](ViewCubeElement['FrontRightEdge'],new THREE['Vector3'](_0x281a6d,0x0,_0x281a6d),[{'axis':AxisZ,'rad':Rotation['Rotate90']}]),_0x3b575d=this['createEdge'](ViewCubeElement['BackRightEdge'],new THREE['Vector3'](_0x281a6d,0x0,-_0x281a6d),[{'axis':AxisZ,'rad':Rotation['Rotate90']},{'axis':AxisY,'rad':Rotation['Rotate180']}]),_0x7fd214=this['createEdge'](ViewCubeElement['BackLeftEdge'],new THREE['Vector3'](-_0x281a6d,0x0,-_0x281a6d),[{'axis':AxisZ,'rad':Rotation['Rotate270']},{'axis':AxisY,'rad':Rotation['Rotate180']}]),_0x2e8089=this['createEdge'](ViewCubeElement['FrontLeftEdge'],new THREE['Vector3'](-_0x281a6d,0x0,_0x281a6d),[{'axis':AxisZ,'rad':Rotation['Rotate270']}]);return _0xb2664f['add'](_0x54db3f),_0xb2664f['add'](_0x10750b),_0xb2664f['add'](_0x4bb4ed),_0xb2664f['add'](_0x154dfa),_0xb2664f['add'](_0x55e969),_0xb2664f['add'](_0x57063c),_0xb2664f['add'](_0x3a7087),_0xb2664f['add'](_0x39479f),_0xb2664f['add'](_0x1ccb7e),_0xb2664f['add'](_0x3b575d),_0xb2664f['add'](_0x7fd214),_0xb2664f['add'](_0x2e8089),_0xb2664f;}['createEdge'](_0x3502ea,_0x5f4f78,_0x57e2ab){const _0x416165=new THREE['Object3D'](),_0x528efe=new THREE['PlaneGeometry'](this['EDGE_SIZE']['x'],this['EDGE_SIZE']['y']),_0x2fc68e=new THREE['MeshStandardMaterial']({'color':this['EDGE_COLOUR'],'opacity':this['EDGE_OPACITY'],'transparent':!![]}),_0x39ed21={'tick':0x0},_0x2640f9=new THREE['Mesh'](_0x528efe,_0x2fc68e);_0x2640f9['name']=_0x3502ea,_0x2640f9['userData']=_0x39ed21,_0x2640f9['position']['setY'](this['EDGE_SIZE']['y']/0x2),_0x2640f9['layers']['enableAll']();const _0xcdb1c1=new THREE['Mesh'](_0x528efe,_0x2fc68e);return _0xcdb1c1['name']=_0x3502ea,_0xcdb1c1['userData']=_0x39ed21,_0xcdb1c1['position']['setZ'](-this['EDGE_SIZE']['y']/0x2),_0xcdb1c1['rotateOnAxis'](new THREE['Vector3'](0x1,0x0,0x0),Math['PI']/0x2),_0xcdb1c1['layers']['enableAll'](),_0x416165['add'](_0x2640f9),_0x416165['add'](_0xcdb1c1),_0x416165['position']['copy'](_0x5f4f78),_0x57e2ab['forEach'](_0x36afd8=>{_0x416165['rotateOnAxis'](_0x36afd8['axis'],_0x36afd8['rad']);}),_0x416165;}['createViewCubeCorners'](){const _0x11a0d2=new THREE['Object3D'](),_0x3db0b9=this['OUTER_CUBE_WIDTH']/0x2+0x1,_0x25e72a=this['createCorner'](ViewCubeElement['TopFrontLeftCorner'],new THREE['Vector3'](-_0x3db0b9,_0x3db0b9,_0x3db0b9),[{'axis':AxisZ,'rad':Rotation['Rotate270']}]),_0xec33ee=this['createCorner'](ViewCubeElement['TopFrontRightCorner'],new THREE['Vector3'](_0x3db0b9,_0x3db0b9,_0x3db0b9),[{'axis':AxisZ,'rad':Rotation['Rotate180']}]),_0x5669e5=this['createCorner'](ViewCubeElement['TopBackRightCorner'],new THREE['Vector3'](_0x3db0b9,_0x3db0b9,-_0x3db0b9),[{'axis':AxisX,'rad':Rotation['Rotate90']},{'axis':AxisY,'rad':Rotation['Rotate180']},{'axis':AxisZ,'rad':Rotation['Rotate0']}]),_0x24ea6d=this['createCorner'](ViewCubeElement['TopBackLeftCorner'],new THREE['Vector3'](-_0x3db0b9,_0x3db0b9,-_0x3db0b9),[{'axis':AxisX,'rad':Rotation['Rotate90']},{'axis':AxisY,'rad':Rotation['Rotate180']},{'axis':AxisZ,'rad':Rotation['Rotate90']}]),_0x4b4ee9=this['createCorner'](ViewCubeElement['BottomFrontLeftCorner'],new THREE['Vector3'](-_0x3db0b9,-_0x3db0b9,_0x3db0b9),[{'axis':AxisZ,'rad':Rotation['Rotate0']}]),_0x45cbc5=this['createCorner'](ViewCubeElement['BottomFrontRightCorner'],new THREE['Vector3'](_0x3db0b9,-_0x3db0b9,_0x3db0b9),[{'axis':AxisZ,'rad':Rotation['Rotate90']}]),_0x582971=this['createCorner'](ViewCubeElement['BottomBackRightCorner'],new THREE['Vector3'](_0x3db0b9,-_0x3db0b9,-_0x3db0b9),[{'axis':AxisX,'rad':Rotation['Rotate0']},{'axis':AxisY,'rad':Rotation['Rotate180']},{'axis':AxisZ,'rad':Rotation['Rotate0']}]),_0x2bd11a=this['createCorner'](ViewCubeElement['BottomBackLeftCorner'],new THREE['Vector3'](-_0x3db0b9,-_0x3db0b9,-_0x3db0b9),[{'axis':AxisX,'rad':Rotation['Rotate0']},{'axis':AxisY,'rad':Rotation['Rotate180']},{'axis':AxisZ,'rad':Rotation['Rotate90']}]);return _0x11a0d2['add'](_0x25e72a),_0x11a0d2['add'](_0xec33ee),_0x11a0d2['add'](_0x5669e5),_0x11a0d2['add'](_0x24ea6d),_0x11a0d2['add'](_0x4b4ee9),_0x11a0d2['add'](_0x45cbc5),_0x11a0d2['add'](_0x582971),_0x11a0d2['add'](_0x2bd11a),_0x11a0d2;}['createCorner'](_0x1dd9d0,_0x114cc0,_0x5b0198){const _0x5d08f4=new THREE['Object3D'](),_0x3a0981=new THREE['PlaneGeometry'](this['CORNER_WIDTH'],this['CORNER_WIDTH']),_0x4006e8=new THREE['MeshStandardMaterial']({'color':this['CORNER_COLOR'],'opacity':this['CORNER_OPACITY'],'transparent':!![]}),_0x1abef0={'tick':0x0},_0x308859=new THREE['Mesh'](_0x3a0981,_0x4006e8);_0x308859['name']=_0x1dd9d0,_0x308859['userData']=_0x1abef0,_0x308859['position']['set'](this['CORNER_WIDTH']/0x2,this['CORNER_WIDTH']/0x2,0x0),_0x308859['layers']['enableAll']();const _0xb8c839=new THREE['Mesh'](_0x3a0981,_0x4006e8);_0xb8c839['name']=_0x1dd9d0,_0xb8c839['userData']=_0x1abef0,_0xb8c839['position']['set'](this['CORNER_WIDTH']/0x2,0x0,-this['CORNER_WIDTH']/0x2),_0xb8c839['rotateOnAxis'](new THREE['Vector3'](0x1,0x0,0x0),Math['PI']/0x2),_0xb8c839['layers']['enableAll']();const _0x5a87cb=new THREE['Mesh'](_0x3a0981,_0x4006e8);return _0x5a87cb['name']=_0x1dd9d0,_0x5a87cb['userData']=_0x1abef0,_0x5a87cb['position']['set'](0x0,this['CORNER_WIDTH']/0x2,-this['CORNER_WIDTH']/0x2),_0x5a87cb['rotateOnAxis'](new THREE['Vector3'](0x0,0x1,0x0),-Math['PI']/0x2),_0x5a87cb['layers']['enableAll'](),_0x5d08f4['add'](_0x308859),_0x5d08f4['add'](_0xb8c839),_0x5d08f4['add'](_0x5a87cb),_0x5d08f4['position']['copy'](_0x114cc0),_0x5b0198['forEach'](_0x136a4f=>{_0x5d08f4['rotateOnAxis'](_0x136a4f['axis'],_0x136a4f['rad']);}),_0x5d08f4;}['getBBox'](){const _0x475c2d=new THREE['Box3']();return _0x475c2d['setFromObject'](this),_0x475c2d;}['getDirectionByElement'](_0x58200e){switch(_0x58200e){case ViewCubeElement['TopFace']:return new THREE['Vector3'](0x0,0x1,0x0);case ViewCubeElement['BottomFace']:return new THREE['Vector3'](0x0,-0x1,0x0);case ViewCubeElement['FrontFace']:return new THREE['Vector3'](0x0,0x0,0x1);case ViewCubeElement['BackFace']:return new THREE['Vector3'](0x0,0x0,-0x1);case ViewCubeElement['LeftFace']:return new THREE['Vector3'](-0x1,0x0,0x0);case ViewCubeElement['RightFace']:return new THREE['Vector3'](0x1,0x0,0x0);case ViewCubeElement['TopFrontEdge']:return new THREE['Vector3'](0x0,0x1,0x1);case ViewCubeElement['TopRightEdge']:return new THREE['Vector3'](0x1,0x1,0x0);case ViewCubeElement['TopBackEdge']:return new THREE['Vector3'](0x0,0x1,-0x1);case ViewCubeElement['TopLeftEdge']:return new THREE['Vector3'](-0x1,0x1,0x0);case ViewCubeElement['BottomFrontEdge']:return new THREE['Vector3'](0x0,-0x1,0x1);case ViewCubeElement['BottomRightEdge']:return new THREE['Vector3'](0x1,-0x1,0x0);case ViewCubeElement['BottomBackEdge']:return new THREE['Vector3'](0x0,-0x1,-0x1);case ViewCubeElement['BottomLeftEdge']:return new THREE['Vector3'](-0x1,-0x1,0x0);case ViewCubeElement['FrontLeftEdge']:return new THREE['Vector3'](-0x1,0x0,0x1);case ViewCubeElement['FrontRightEdge']:return new THREE['Vector3'](0x1,0x0,0x1);case ViewCubeElement['BackRightEdge']:return new THREE['Vector3'](0x1,0x0,-0x1);case ViewCubeElement['BackLeftEdge']:return new THREE['Vector3'](-0x1,0x0,-0x1);case ViewCubeElement['TopFrontLeftCorner']:return new THREE['Vector3'](-0x1,0x1,0x1);case ViewCubeElement['TopFrontRightCorner']:return new THREE['Vector3'](0x1,0x1,0x1);case ViewCubeElement['TopBackRightCorner']:return new THREE['Vector3'](0x1,0x1,-0x1);case ViewCubeElement['TopBackLeftCorner']:return new THREE['Vector3'](-0x1,0x1,-0x1);case ViewCubeElement['BottomFrontLeftCorner']:return new THREE['Vector3'](-0x1,-0x1,0x1);case ViewCubeElement['BottomFrontRightCorner']:return new THREE['Vector3'](0x1,-0x1,0x1);case ViewCubeElement['BottomBackRightCorner']:return new THREE['Vector3'](0x1,-0x1,-0x1);case ViewCubeElement['BottomBackLeftCorner']:return new THREE['Vector3'](-0x1,-0x1,-0x1);}return undefined;}['update'](){this['traverse'](_0x1078a4=>{_0x1078a4 instanceof THREE['Mesh']&&this['updateViewCube'](_0x1078a4);});}['updateViewCube'](_0x314391){this['updateMeshTick'](_0x314391);const _0x811dd3=_0x314391['userData']['tick'];if(_0x314391['name']['indexOf']('Face')>-0x1){const _0x263670=_0x314391['userData']['material'];if(_0x263670){const _0x595c2c=gradient(this['FACE_BACKGROUND_COLOR'],this['FACE_HOVER_BACKGROUND_COLOR'],_0x811dd3);_0x811dd3>0x0&&_0x263670['color']['set'](_0x595c2c);}if(this['innerViewCubeMesh']){this['updateMeshTick'](_0x314391,'translateTick',0x2);const _0x5f4683=_0x314391['position']['clone']()['normalize'](),_0x37ba5f=Math['max'](_0x314391['userData']['translateTick']*0x2-0x2,0x0);_0x5f4683['multiplyScalar'](_0x37ba5f*this['CORNER_WIDTH']/0x2),_0x37ba5f>0x0&&this['innerViewCubeMesh']['position']['copy'](_0x5f4683);}}else {if(_0x314391['name']['indexOf']('Edge')>-0x1){const _0x1a1439=_0x314391['material'],_0x3665c4=gradient(this['EDGE_COLOUR'],this['FACE_HOVER_BACKGROUND_COLOR'],_0x811dd3);_0x1a1439['color']['set'](_0x3665c4),_0x1a1439['opacity']=Math['max'](_0x811dd3,0.1);}else {if(_0x314391['name']['indexOf']('Corner')>-0x1){const _0x192aec=_0x314391['material'],_0x33166d=gradient(this['CORNER_COLOR'],this['FACE_HOVER_BACKGROUND_COLOR'],_0x811dd3);_0x192aec['color']['set'](_0x33166d);const _0x5d8411=0x1+_0x811dd3*0.3;if(_0x314391['parent']){const _0x309eca=_0x314391['parent'];_0x309eca['scale']['set'](_0x5d8411,_0x5d8411,_0x5d8411);}}}}}['updateMeshTick'](_0x1a9f33,_0xda3b7f='tick',_0x4c50cd=0x1){const _0x371e5c=_0x1a9f33['userData'],_0x32f29b=_0x371e5c[_0xda3b7f];if(_0x32f29b===undefined)return;if(_0x1a9f33['name']===this['activateMeshName']&&_0x32f29b<_0x4c50cd)_0x371e5c[_0xda3b7f]+=0.05;else _0x1a9f33['name']!==this['activateMeshName']&&_0x32f29b>0x0&&(_0x371e5c[_0xda3b7f]-=0.05);_0x371e5c[_0xda3b7f]>0x0&&_0x371e5c[_0xda3b7f]<_0x4c50cd&&(this['dirty']=!![]),_0x371e5c[_0xda3b7f]=Math['min'](Math['max'](_0x371e5c[_0xda3b7f],0x0),_0x4c50cd);}}

class ViewCubePlugin extends Plugin{constructor(_0x253435,_0x2104c3){var _0x3b5398;const _0x3e8b3f=(_0x2104c3===null||_0x2104c3===void 0x0?void 0x0:_0x2104c3['id'])||ViewCubePlugin['DEFAULT_ID'];super(_0x253435,{'id':_0x3e8b3f}),this['width']=0x0,this['height']=0x0,this['renderEnabled']=![],this['onPointerDown']=_0x3d1dc5=>{var _0xa382d3,_0x2471ce;(_0xa382d3=_0x3d1dc5['originalEvent'])===null||_0xa382d3===void 0x0?void 0x0:_0xa382d3['stopPropagation']();if(!this['viewCube'])return;const _0x16316a=new THREE['Vector2'](_0x3d1dc5['x'],_0x3d1dc5['y']),_0x17faf1=this['pickManager']['pickObject'](_0x16316a,[this['viewCube']]);if(!_0x17faf1)return;this['lastCoords']=_0x16316a;const _0xe0b3e9=_0x17faf1['object']['name'],_0x29a12c=(_0x2471ce=this['viewCube'])===null||_0x2471ce===void 0x0?void 0x0:_0x2471ce['getDirectionByElement'](_0xe0b3e9);_0x29a12c&&this['updateViewerCamera'](_0x29a12c);},this['onPointerMove']=_0x15dc3c=>{var _0x34d971;(_0x34d971=_0x15dc3c['originalEvent'])===null||_0x34d971===void 0x0?void 0x0:_0x34d971['stopPropagation']();const _0x420355=new THREE['Vector2'](_0x15dc3c['x'],_0x15dc3c['y']);this['updateActivateMeshName'](_0x420355),this['lastCoords']=_0x420355;},this['onPointerleave']=_0x13b471=>{var _0x59df9c,_0x106d3e;(_0x59df9c=_0x13b471['originalEvent'])===null||_0x59df9c===void 0x0?void 0x0:_0x59df9c['stopPropagation'](),this['lastCoords']=undefined,((_0x106d3e=this['viewCube'])===null||_0x106d3e===void 0x0?void 0x0:_0x106d3e['activateMeshName'])&&(this['viewCube']['activateMeshName']=undefined);},this['onClick']=_0x48c884=>{var _0x539aaf;(_0x539aaf=_0x48c884['originalEvent'])===null||_0x539aaf===void 0x0?void 0x0:_0x539aaf['stopPropagation']();},this['updateCameraAndMeshName']=()=>{var _0x564b87;if(!((_0x564b87=this['viewer'])===null||_0x564b87===void 0x0?void 0x0:_0x564b87['camera']))return;const _0x13c96a=this['viewer']['camera'],_0x27cecd=new THREE['Vector3']();_0x13c96a['getWorldDirection'](_0x27cecd);const _0x378638=_0x13c96a['up'];this['updateCameraDirection'](_0x27cecd,_0x378638),this['renderEnabled']=!![],this['lastCoords']&&this['updateActivateMeshName'](this['lastCoords']);},this['cfg']=_0x2104c3||{};let _0x562953=this['cfg']['containerId']?document['getElementById'](this['cfg']['containerId']):undefined;if(!_0x562953){const _0x34bbbf='x-viewer-viewCube';_0x562953=document['createElement']('div'),_0x562953['id']=_0x34bbbf,(_0x3b5398=this['viewer']['widgetContainer'])===null||_0x3b5398===void 0x0?void 0x0:_0x3b5398['appendChild'](_0x562953),this['cfg']['containerId']=_0x34bbbf;}this['width']=_0x562953['clientWidth'],this['height']=_0x562953['clientHeight'],this['container']=_0x562953,this['inputManager']=new InputManager(this['container']),this['pickManager']=new PickManager(this),this['init'](),this['animate']();}get['viewerContainer'](){return this['container'];}['init'](){this['initLocalization'](),this['initScene'](),this['initRenderer'](),this['initCamera'](),this['initLights'](),this['initViewCube'](),this['initEvents']();}['initLocalization'](){const _0x2e0d5d=this['cfg']['language']||DefaultLanguage;i18n['changeLanguage'](_0x2e0d5d);}['initScene'](){const _0x67f0a8=new THREE['Scene']();_0x67f0a8['matrixAutoUpdate']=MatrixAutoUpdate,this['scene']=_0x67f0a8;}['initCamera'](){if(!this['scene'])return;const _0x27b3fe=new THREE['OrthographicCamera'](-this['width']/0x2,this['width']/0x2,this['height']/0x2,-this['height']/0x2,0.1,0x186a0);_0x27b3fe['position']['set'](0x12c,0x12c,0x12c),_0x27b3fe['lookAt'](0x0,0x0,0x0),_0x27b3fe['zoom']=0xa,_0x27b3fe['updateProjectionMatrix'](),this['scene']['add'](_0x27b3fe),this['camera']=_0x27b3fe;}['initRenderer'](){this['renderer']=new THREE['WebGLRenderer']({'antialias':!![],'preserveDrawingBuffer':!![]}),this['renderer']['setPixelRatio'](window['devicePixelRatio']),this['renderer']['setSize'](this['width'],this['height']),this['renderer']['setClearColor'](0xa9a9a9,0x0),this['container']['appendChild'](this['renderer']['domElement']);}['initLights'](){if(!this['scene'])return;const _0x1f3d39=0xffffff,_0x5f0878=1.5,_0x1902ce=new THREE['DirectionalLight'](_0x1f3d39,_0x5f0878);_0x1902ce['position']['set'](-0x64,0x50,0x0),_0x1902ce['name']='sun',this['directionalLight']=_0x1902ce;const _0x3146d8=new THREE['AmbientLight'](_0x1f3d39),_0x56f4fc=new THREE['HemisphereLight'](_0x1f3d39,0xdddddd,0.5);this['scene']['add'](_0x3146d8),this['scene']['add'](_0x56f4fc),this['scene']['add'](_0x1902ce),this['scene']['add'](_0x1902ce['target']);}['initViewCube'](){if(!this['scene'])return;const _0x44ce08=new ViewCube(this['cfg']);this['viewCube']=_0x44ce08,this['scene']['add'](_0x44ce08),this['zoomToBBox'](_0x44ce08['getBBox']());}['initEvents'](){var _0xcd26f6,_0x8b776e,_0x594e74,_0x2b8468;(_0xcd26f6=this['inputManager'])===null||_0xcd26f6===void 0x0?void 0x0:_0xcd26f6['addEventListener']('pointerdown',this['onPointerDown']),(_0x8b776e=this['inputManager'])===null||_0x8b776e===void 0x0?void 0x0:_0x8b776e['addEventListener']('pointermove',this['onPointerMove']),(_0x594e74=this['inputManager'])===null||_0x594e74===void 0x0?void 0x0:_0x594e74['addEventListener']('pointerleave',this['onPointerleave']),(_0x2b8468=this['inputManager'])===null||_0x2b8468===void 0x0?void 0x0:_0x2b8468['addEventListener']('click',this['onClick']),this['viewer']['addEventListener'](ViewerEvent['AfterRender'],this['updateCameraAndMeshName']);}['setVisible'](_0x803bdd){this['container']['style']['display']=_0x803bdd?'block':'none';}['isVisible'](){return this['container']['style']['display']!=='none';}['updateViewerCamera'](_0x4c3e0e){_0x4c3e0e['normalize'](),this['viewer']['flyToDirection'](_0x4c3e0e);}['updateActivateMeshName'](_0x2ae950){if(!this['viewCube'])return;const _0x44b3f7=this['pickManager']['pickObject'](_0x2ae950,[this['viewCube']]);if(!_0x44b3f7)return;this['viewCube']['activateMeshName']&&(this['viewCube']['activateMeshName']=undefined);const _0x416436=_0x44b3f7['object'];this['viewCube']['activateMeshName']=_0x416436['name'];}['updateCameraDirection'](_0x230f5e,_0x3852a8){if(!this['camera']||!_0x230f5e)return;_0x230f5e['normalize']();const _0x38c545=0xc8,_0x5490b0=0x0;this['camera']['position']['set'](-_0x230f5e['x']*_0x38c545+_0x5490b0,-_0x230f5e['y']*_0x38c545+_0x5490b0,-_0x230f5e['z']*_0x38c545+_0x5490b0),this['camera']['lookAt'](_0x5490b0,_0x5490b0,_0x5490b0),this['camera']['up']=_0x3852a8,this['camera']['updateMatrixWorld']();}['animate'](){var _0x450005,_0x5e3413;this['requestAnimationFrameHandle']=requestAnimationFrame(this['animate']['bind'](this)),this['scene']&&this['camera']&&this['viewCube']&&((this['renderEnabled']||this['viewCube']['dirty'])&&((_0x450005=this['renderer'])===null||_0x450005===void 0x0?void 0x0:_0x450005['render'](this['scene'],this['camera']),this['renderEnabled']=![],this['viewCube']['dirty']=![])),(_0x5e3413=this['viewCube'])===null||_0x5e3413===void 0x0?void 0x0:_0x5e3413['update']();}['zoomToBBox'](_0x54fa46){if(!this['camera'])return;const _0x25c9c3=this['camera']['right']-this['camera']['left'],_0x14a710=this['camera']['top']-this['camera']['bottom'],_0x1058ca=new THREE['Vector3']();_0x54fa46['getSize'](_0x1058ca);const _0x175ac0=Math['sqrt'](Math['pow'](_0x1058ca['x'],0x2)+Math['pow'](_0x1058ca['y'],0x2)+Math['pow'](_0x1058ca['z'],0x2)),_0x145f40=Math['min'](_0x25c9c3/_0x175ac0,_0x14a710/_0x175ac0);this['camera']['position']['set'](_0x1058ca['x']/0x2,_0x1058ca['y']/0x2,_0x1058ca['z']/0x2),this['camera']['zoom']=_0x145f40,this['camera']['updateProjectionMatrix']();}['destroy'](){var _0x3fc769,_0x2003f8,_0x17e709,_0x4d0951,_0x56eea7,_0x448c33;super['destroy'](),this['requestAnimationFrameHandle']&&(cancelAnimationFrame(this['requestAnimationFrameHandle']),this['requestAnimationFrameHandle']=undefined),this['renderer']&&(this['renderer']['domElement']['remove'](),this['renderer']['clear'](),this['renderer']['dispose'](),this['renderer']['forceContextLoss'](),this['renderer']=undefined),this['container']['remove'](),(_0x3fc769=this['scene'])===null||_0x3fc769===void 0x0?void 0x0:_0x3fc769['clear'](),this['scene']=undefined,(_0x2003f8=this['directionalLight'])===null||_0x2003f8===void 0x0?void 0x0:_0x2003f8['dispose'](),this['directionalLight']=undefined,(_0x17e709=this['inputManager'])===null||_0x17e709===void 0x0?void 0x0:_0x17e709['removeEventListener']('pointerdown',this['onPointerDown']),(_0x4d0951=this['inputManager'])===null||_0x4d0951===void 0x0?void 0x0:_0x4d0951['removeEventListener']('pointermove',this['onPointerMove']),(_0x56eea7=this['inputManager'])===null||_0x56eea7===void 0x0?void 0x0:_0x56eea7['removeEventListener']('pointerleave',this['onPointerleave']),(_0x448c33=this['inputManager'])===null||_0x448c33===void 0x0?void 0x0:_0x448c33['removeEventListener']('click',this['onClick']),this['viewer']['removeEventListener'](ViewerEvent['AfterRender'],this['updateCameraAndMeshName']);}}ViewCubePlugin['DEFAULT_ID']='ViewCubePlugin';

class ImageDrawable extends Drawable{constructor(_0x4d0b77,_0x3e3401){super(_0x4d0b77),this['isHover']=![],this['rotation']=0x0,this['position']=new THREE['Vector3'](),this['x']=0x0,this['y']=0x0,this['width']=0x0,this['height']=0x0,this['imageConfig']=_0x3e3401;}['draw'](_0xa4ca57,_0x2bc67c){this['drawImage'](_0xa4ca57,_0x2bc67c,this['imageConfig']);}['drawSelect'](_0x8b5e3b){}['drawImage'](_0x219b8a,_0x1ddc39,_0x3bc28c){const {image:_0x17874b,hoverImage:_0x17d5b1,offset:_0x67e0b0,rotationPoint:_0x1d12b5,width:_0xbe423e,height:_0x4cc98a}=_0x3bc28c,_0x2769cc=_0xbe423e||_0x17874b['width'],_0x4b2613=_0x4cc98a||_0x17874b['height'];this['width']=_0x2769cc*this['tolerance'],this['height']=_0x4b2613*this['tolerance'];let {x:_0x45cb54,y:_0x1a1ff9}=this['transToScreenCoord'](this['position'],_0x1ddc39);_0x45cb54+=_0x67e0b0['x'],_0x1a1ff9+=_0x67e0b0['y'],_0x219b8a['save'](),_0x219b8a['translate'](_0x45cb54+_0x1d12b5['x']+_0x2769cc/0x2,_0x1a1ff9+_0x1d12b5['y']-_0x4b2613/0x2),_0x219b8a['rotate'](this['rotation']),_0x219b8a['translate'](-_0x45cb54-_0x1d12b5['x']-_0x2769cc/0x2,-_0x1a1ff9-_0x1d12b5['y']+_0x4b2613/0x2),_0x219b8a['translate'](_0x45cb54,_0x1a1ff9-_0x4b2613),_0x219b8a['drawImage'](this['isHover']?_0x17d5b1:_0x17874b,0x0,0x0,_0x2769cc,_0x4b2613),_0x219b8a['restore']();}['setRotation'](_0x2fd7fd){this['rotation']=_0x2fd7fd;}['setPosition'](_0x4e7771){this['position']=_0x4e7771,this['x']=_0x4e7771['x'],this['y']=_0x4e7771['z'];}['isPointInPath'](_0x342823,_0x182a1b){var _0x1514d0,_0x5f1566;if(!(_0x182a1b===null||_0x182a1b===void 0x0?void 0x0:_0x182a1b['camera'])||!this['ctx'])return ![];const _0x549aef=Math['max'](devicePixelRatio,0x1),{x:_0x1a53cc,y:_0x567615}=this['transToScreenCoord'](_0x342823,_0x182a1b['camera']),_0x3d2c3b=this['ctx'];_0x3d2c3b['clearRect'](0x0,0x0,(_0x1514d0=this['ctx'])===null||_0x1514d0===void 0x0?void 0x0:_0x1514d0['canvas']['width'],(_0x5f1566=this['ctx'])===null||_0x5f1566===void 0x0?void 0x0:_0x5f1566['canvas']['height']);const {image:_0x160597,hoverImage:_0x1f0a39,offset:_0x455300,rotationPoint:_0x19b9a9,width:_0x1895fd,height:_0x1417fb}=this['imageConfig'],_0x7aae0e=_0x1895fd||_0x160597['width'],_0xb049c6=_0x1417fb||_0x160597['height'];this['width']=_0x7aae0e*this['tolerance'],this['height']=_0xb049c6*this['tolerance'];let {x:_0x4cfc9c,y:_0x55ae92}=this['transToScreenCoord'](this['position'],_0x182a1b['camera']);_0x4cfc9c+=_0x455300['x'],_0x55ae92+=_0x455300['y'],_0x3d2c3b['save'](),_0x3d2c3b['translate'](_0x4cfc9c+_0x19b9a9['x']+_0x7aae0e/0x2,_0x55ae92+_0x19b9a9['y']-_0xb049c6/0x2),_0x3d2c3b['rotate'](this['rotation']),_0x3d2c3b['translate'](-_0x4cfc9c-_0x19b9a9['x']-_0x7aae0e/0x2,-_0x55ae92-_0x19b9a9['y']+_0xb049c6/0x2),_0x3d2c3b['translate'](_0x4cfc9c,_0x55ae92-_0xb049c6),_0x3d2c3b['drawImage'](this['isHover']?_0x1f0a39:_0x160597,0x0,0x0,_0x7aae0e,_0xb049c6);const _0x50c898=this['ctx']['getImageData'](_0x1a53cc*_0x549aef,_0x567615*_0x549aef,0x1,0x1);_0x3d2c3b['restore']();if(_0x50c898&&_0x50c898['data'][0x3]>0x0)return !![];return ![];}['getVertexes'](){const _0x20b06f=new THREE['Vector3'](this['x'],0x0,this['y']),_0x191b28=new THREE['Vector3'](this['x']+this['width'],0x0,this['y']),_0x2a00f9=new THREE['Vector3'](this['x']+this['width'],0x0,this['y']-this['height']),_0x20e3e4=new THREE['Vector3'](this['x'],0x0,this['y']-this['height']);return [_0x20b06f,_0x191b28,_0x2a00f9,_0x20e3e4];}['getClassType'](){return 'ImageDrawable';}}

var img$3 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABgCAMAAACuYkXGAAAAulBMVEUAAABJSV9pdntRWmdeaHZMW21ZYnJqcH9PV2dSWmtTXmtXX3Jka3tfZ3daY3NXYHBbZHNbZHJaYXNWX3D9/f5cZnT+/v6xs7zKzdKusbr6+vvs7e/Z29/s7e/09faPlaCVmaX6+vz6+vv5+fnw8fP3+Pjh4+Xu7/Da2+Dp6uz+/v719vjz9PX09PRfYXP///+vsLlpa3vDxMv19ffr6+7r6+2lprCHiJZ9fo1zdITNzdObnKeRkp9zdYQN9RLUAAAALnRSTlMAAwQICgYSBwsPDRUMDxcZHRsjH+Mg8TwvIMZ+UpGIMizVtqael3VrZ1zTuq2q+zBSvwAABtBJREFUaN7tmXlD00AQxSW7yeYsPaktKJcgeBRbbsHv/7V8b3ZjTOiRrfylTnoIpD+eb2dmD978j789dtzrjry8HrYWIL8u91Xx+HxgOYG88FHGK2gNbOxUb+7720It2BFNiAh4BXw66bjPMwlKA4gJTWiMUsrgUoZflrL9ra4sMCo0mlilldb4lxY6hQvbU7HDUipQiFjrPLYXvlKiXdAU7a03JCCWyNM8jfFM81znuRI0fmtovW7vr1ANpIGbpmmBSHglSZEiAIcr8JyOtLbDyoUarSGO2MnB/umn4RViOD3ZP0iKIi1yjQDY2EFsiUVwtHLITSaX072rWuydfIwgnG4rzWFsQxYsEkppcPGfn7wH9WUMT99Cth3HINysmQYzceECvU2IXRXv3yYp0YZFA3Abe0PYAG5xWWKvF3fPj/PZbPZ4f7e4KVV/TAr6oQwSb0PWkWsQzIVicuao3+5ntXgo2WcT2JHHSm3Q/Ct5NdI2efvJYam0GU8WPYQdcaxlBNc1DnIN0zcGd3jFAHZ5fHPkqKAbBK8mUzGqCeNWRJZ78zBbGT9unGaIps9rzEB5SmdIU8ddQO7qmH+v3IBm2ryKC3AIg4tiItxvFWSNHZ8mURLbQoGy5U6w3nRaJNGZ47Yin8HmnPnM/r3cYQMw8iz6yPu/z1rEgndeQnKs7AAuFwwfWMdi8M28DXh+Q5snEcbPlsnOipRQcV5E7ynjcdYqHqS6owRmhMsTQ+Y2ZAQyraXBlc17E9hMMwh+KTikExi5Uxoxaxvza5Ec5bDZvHRZ5mM6nBYZHX5qDXaSUSZQDEqzGUlXU2gRTAkK9pN8ic5PyS8Vsw2rGNzohCXnARbJ0wjj5yTXGzxTQhOcsQc/+IDv3fClOeoaAhsWg6vQfLIDPycY9OIgklxmw3jR4JWmE/ueTrjy288wnWhKRtSsMHboMlp85we+w0dOsyhx4GaHDy14irvu/cDP+MgxwbnSMvnVyxn9J0mizlDK2St+sF9kyAu2ZWj8XTPqmf0nirIrxMwv5vxMlqGsCa5lBZNCoeyiqOMLZpRgKnZeVE7I1BFlW4M7NFk18o1r0RDlUYLnW4B3Ac6RyBRcnz2M1N3WgwfFUcq5Lwga2YZZH2O3e4y7nv3ArOmpWKHZ7UVx1TSNyUXx1+0K5DPBhWazB7jeKix425ImmOlmalbYiTQnmE3o2g98yybkrDC1PHbpVhB8tOdb0w9sm71OmcdBo7sBzHTLelNOpb5OnAgYrb7RN6mYiYy06F3Qi7mnE+e9TOYQExqIrE9MRkki78ILL8lPzOIu6yPR0ukbM17AZTHBvXd+kin4C8GsD9PwGF64GSTr9Pwky7pw3KNigMEluV4hkm9Rp9el5KuHtuWMeNft2R7UXLKQLOCCXnSP2C9u2y0KacRwTCeK1K0461aUK0Ka3L24alt+sqg/7zonYhO8OHeBNdKRE3ox+OCz8P4w6O52skTWyA3BCPwq2X4kIvnouP1WYXjkBNvyaFj8a8mSsEZ6g/FQFvXrNzcL4Y4H4Eo962qD01wU0guRPLLk28c1LeLWcmkEBAOslu7WA9lDx1gCZB3aDPI6O+awwXEpmHs9dqA1WwWZ+KC578i3T0ux1/LD4/HICU4xQLUkbnY4DckkdwejQ+YG0YtGsdwTK/lwSL2Sw9wpALsCHMi+n82TZoz65xDt2Hf3j1T6+Hy3IFVsuOgPrF4Wh+aybcV+LJB2n8tEAnJ31B+julfE3rvD/qhLLo3gCtZW3XIwybG1mT4P+v3xl+FK7ACJ1ukIV8HgFVzaI6cKKpdZFT7TaLDPP+81qNMLwVZcdolVYGHLLh0tg/tpS4bTiIP9z1NRPjz+sn9wiO8MaK/4m3CRaeBwE9yskoAHFgBD9C7sABrsRozgbm/X+Ztq1Jw9ytpwOKboM8k0moMosivqgNiexRZJzoQwELzxEEt2qCQDDTbRZLsYIIC1XIDlWM9uzzeRgdaaI1iADD8QhDMGeBKKQetEkdgQIx/K7fkmdKioGXawCEs2ebwE6tSmItcm8MaTQueGNrKxLiy6YwNQJhipxNo0Y2W0PzWlaHEaqsXsKoSawIVcM89U24NvJzpkd1bidUG0C1KZClCLHyoFrPcBckgy0XGaJ0mBB4US6rxltTm5vkf0CkE20FCe5kVKKAtC8TIV1/OUHuMCWWTHuQZf57o8+scglNQd/7+DSLsj2GjrKJGa2NBiPeU6uKAlDM/5AeMbs8vIgUeD62kH4S4ok0IBbVC3RANUxU5FrcDbiy5pVMu3BnQ7dJl+AnZCeeHx5yE0C9us1R8uz//xD8RPQ80FqUsWMbIAAAAASUVORK5CYII=";

var img$2 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKoAAACqCAMAAAAKqCSwAAAAh1BMVEUAAABfTP9eTP9fTP9eTP9fTP9fTP9fTf9fTf9fTP9fTP9fTP9fTf9fTP9eTf9eTP9fTP9fTP9eTP9eTP9eTP9fTf9fTf9fTf9fTf9fTf9fTf9eTP9fTf9cSP9dS/9eTP9fTf9fTf9fTP9fTf9cSv9fTf9fTf9fTf9fTf9fTf9fTf9fTf9fTf/hY9QXAAAALXRSTlMARjRhS0HMZ1M5PVgva1wrTyYbFyJwlnx0gaATeAUPH4mmjYUKm5Gvv7m0q8X/SpWnAAAGcklEQVR42tXcCXriMAwFYEFhBsqeQIEGB2jTjc79zzdmFaDEjgmyhU/wf6+yvIUCxxhE8CBj3Kw9iHXZbNYew7p81tSHsEbPe2pDvDVuH6nSrVkdqcMlCB6q2z6jtgRb1aB+pGrpsCXYOq4jdZuqXGtcR2ptl2qrI9Oadi+oO2unMwZ5Q43OqY0DVaR11L2kDvfUfl+cNRl0SQHsqU/CrNmAUlsHqiyrGg+KU316GoGcEY+M1L9yrOnojNo8dQCkirGq5ciSqhhrMkYq6at7aq8nwqrGhEoKQFsHEH5EudThOVVLe5Pw1nSJ1PbFduUy1Ulwq4o01TStkDoLbE1s1P6ROpvNuhBiYKj51GFOqrNFkFwxVHuqSF2EyzWLojK1itRpMGsckVSbeLbKo4ayZoRqTXU6D2NN4tidGsSaxXGMtWrcA5xT3+vgfaTxRQF0Tc0KqSGsKjmnDooKgKb6vvJtzZBarq8i1bc10VRDX20ZUl29ebVmSeLQASZXVK/WVEtdlgCk7qyf/qxqR7Wn2iepznepfn62wdPIMNXRsQO0Cw4sdFqtNPXFk1WlJNWucVrRVF88WbMtNTF2ALK1XpxNK2194bcilU4rWgB92qxOqb58eLCqLDVMK3oMLKKyWpGaklSte4Apob4+A/PITqlGBiqdVpTKbVUHqvPWmlKJlY8a3URdnVHXfFakJnkLK1LNBYDUdRPOh+ACWK8Zc1VFBeCwsL6dqNr6i7kyUXEPYE8Vm9X8ulY1Fa081L0Vqe7NCqlfJ6uQApjmU381Fa1M1Pg+02pL3aCVmWpP9WpnRaibGofUdQnoFXYALIANi7UClRbAWg8t1dSfnxprqsvbDtdb6yFVpGorF1Vbb6PSDnCgftfCpkoP1/nTaqOp2spCNd4EUuqisFlhqt/fDa5U3W5XpjmbQKzVzY76r8GUqlMBWPrqz56KVg8FQKeVvQAwVbT6KABaqxNDB8BmdaD+abBQ3Y+Bc9qsrqlo5acW7AGmZQrgrlZSq873q6vcJQBTRWtVae4xsGvtAJZUkYpW/iWAvgXQZkX7KlLR6nsJ6BmpNFW08lC7tpvAhW21QipaWVarrjFVWqufhlTvZdVSMq0sBUCalbkDoNX/gcWxA9zNqhhOrISK1oAdYJ5XAGRaoZX1wEKpDqlSayWq6dLS7Wz1YWhWaPW6tZ5cXa+ZlwBi5aTSFxaknlarDwsVrR7PVo4LK7VyUOm3K/bV6pfUKrXemdq+U1+l1q+IoQNYD9e0AOiBhUoZa1VL899YaQd4JVQq5TxcD7FWXU8BxLqJgJPqXqs4raiUmdqq3qzwrx+0r+LCSvcARHo36qh6ql+kVomUcwlwfws4UkmdyplWhIqZ+r8Ictta/yNS1mlF+ursQLWfWFHq89KyU+EYiNLKVHwOrlYAtAOglDXVpuGTsPKpolTc4ZrsV4k0yGo1t6a6k0qgYqpFZyuUVh7GWjVRp+WWACKtmmpa4lvrjvuVxVYq5XsAPFznp/qLUuZmVfUiCKX8BYCrFVLJC0vhErCO4TCE9tVTqlr6INR1LOrTBcMS8EqljFtrOq3+kmn1XrCwotRjquQxyH62QilvB3B/Y6UF8IFSP99ZNfN/c23fWaGUi7q8z2MQkxSwAGK6Wu1jHTo2qxci9bSzajhuAtmkANW2KzTVT5QyUqu/W11IxVCneZtAVilStdXxLYDeWrNKARy/te4ZvrN6S4B1ZOV+GmansktBOfw0zNhXVwlwD4dNoGm1eueUIlVbb0sVO4APKSjrtGrZfhuIUuZhP7BYC2DuRwrZjT8MwYXVlxSU6YWlYf/KAqX8w+k5mL6wTP1JIavw20BmKY21wv3qwqsUspuvLHxLAW7+txvepZA5XQUjdZaC76HofpW+W1FqAClAesu0moSQgnL7zGaxpXqWYqzOtdoLJAXl2qxCSDFWSj1KabP6m0K4UXoTqKWzoFJIS/+DiNBSgPIXQaGlkJ2oXfPvrZ5SCD3icqkKkIJa7qgD00WQDClAWuI1sC9CChBZP7ORIgV1ubDSJaAjRQqQmKeVICnAspgqTApqVExtZSBqpIU3gdKkAFF+qgKlAKPcL9iHAqWgclKVKQXI6C8uGzKlAPHVw6VcKcDysgBqcqUAg7MCkC0F1UWqbKm21o8F0BQuBcjae6p8KUCqqY8hBYg19fkhpFvro0gBEhbpfwjbOY5gXmpMAAAAAElFTkSuQmCC";

var img$1 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABgCAMAAACuYkXGAAAAt1BMVEUAAABRUmRVYHFcZHBRWWZia3plb39aYnFeZnVYYXNZYnJPWGdZYnJRWWtZYnJZY3JWYG9eZnVcY3RXXnH+/v7+/v78/P2xs7zKzdKusbr6+vv4+frz9PXn6evs7e/09faPlaCVmaX6+vz09PX5+fns7fDa2+Dp6uzS1Nni4+X+/v7l5+rx8vL9/f1fTf////+vpv9pWP/DvP/19P9zY//r6f/r6P+lm/+Hef99bv/Nx/+bkP+RhP+tEDdkAAAALnRSTlMAAQMGCAsIDQ8UEgsXEB0gGhojJOLx5DwvIMa4m3CRiDIs1aymfWdcV03ShXjTY8FN1QAABtZJREFUaN7tmWlb2kAUhS1knSFAXFBArFtduoAgbtX//7t67gITEsCM+rFHwNZHXs9z5t6bybDzX376hi/5Bx5fxsSTeIBD8qPPUxUndP6f0+fITo0GngUs/ZEPMl0ADVAbKgf3J+siLaxWpOY1HV8yIQvQZlOeJeNedaJWHLhZlrJ94/imKkCjZhAEUYDXSMjCVtN14c4tM/GIAA3CILRhRPyo6HunJrhoVuwCGQIZxqF8t4TH3xK0rqEPmJiwZ4UXx7GN6ZX+AtwHTTYOMkf9DlkqV1MAFO9nZKLK8Iwh0C24hG7UQmv5arphBHcgJf3b35c/9yfQ/mD4+5bxFIx6hriZ6q0arVZsbZL1rwcHkxUdDEcZ0KFkzZ5JW/2qXc6B7fa/g1rV/uUR0FhGVCEHLdo6y5gb0YLFjN2k70dZHGNlIwl6KxdSbmCBTa4X2PvZ09t8Oh6P589Ps8eFawSCqB1586hecqPQIoVjpd49j1f0smAf9xEH6iMQ8nospaBlBm4cZ0c/FQunFb0Kev8oS6Q6dHBU2cAqOEC+KIYjlBek2KrulGyEvCVm4WoORrgPL+ONmj+qZ8QRcdWtn3WLhUOvLbkz2N2s6V8lI+dA04DWcRnM68bcOwfZEsefvkls4EbSGjD3G7oiM8fKrUU+NlR1FIakUSkJDSJOzGgC/R3X0GwCXWeJDXkgrUkCaOLS2JGCeJjWAU8fKea+iS1bXkvmimDD38nGfFxLL9zdJkPNsWWozG1C4KKCawbsYj7oI2Ys4DrLmjCCMJcUxLiupvdkOUXNWYArMS97LklSSvi1Nlgto02WA3SlKggcseGRGPazfG2SxFrpkp2y4ygirhlSy3mA2fLAGFh289MVW4OXDuCUZvCLD/hZlw9kBrsW4Qsdd12SpbeeSUCUxa0xMVfct6JjvoCKYfPDMwltvx8pli8ky4C5peMoaEyYlCJ+8gM/4S2Xqcli6mvFqnSuJYh4gN969gO/4S3nBI65rXcaxdEGLkfc2ud29tKc5kXL0CjSEVdYPFk7Y1oTaOyn6QRqpdzWAJf6GVw4VrCnFAzHq+NCRzFd6tJPgBGFXlRXJ0WEokgFPP0QOEVZVBZPGxqOex9dvJRaJGByybG1Bo7P8VtvHlTt6QE5FrBm7EZQzI4vPtYgw5Z0SECtt2pYo/hoSzvHxcVjMEYFGuSG9mt+YLqg3pBjrWOXBNzTdZQdnx349vQLjc2c6xjgJsAlyzyDWl0aFne+SQxzqmOOuNR6dC8TMviKsph6JjHqEjjWXYsrYwYHvHo5svCy/Ipf77UZHHKDAOjAHEVoMSta+Qlb9jJ80c6pPyw7Lu1X5MpEWfhY1n3hYQ5wRhu4BuSi0ClkefXyNlmevNRtZ+iEkjC8swC2UdmvhGy52z7r+W0Ke4ftnKdxZcuiyxdowbWvJnXbjzf1o3YuY94Cu7qvwFWvyWMoyQjc8dt4d6QmLDtGwkWw7oSk+fL22Xn9W4XeWbvbJcOxcNWwWz2qi8Dy8nXbhz3e1G+/uZkx9xB+5boUuYSd5M6cLbcQhpIf5ltGxKNwOQgj29gq190yUcoIowPytjimiMFxOeEI4DIZKWtbWw1jSX54XYu9n5DOwVXDga3eKrgmCSJYlvVrd06PJ4KelZrlGVjW8Sn8Sm9QETdk31YFO8uoOZA7I5hW9tPznJzO355moEoMV7sdCRhgWbl1jvGQlOXSx553D08mm3RwcrrLOWhv8Cnf+jMnhCyW44TJOci7hxe9TVji5i2pCHc2VKGS9OY/pphTJnc6u3uj4UGJOriCW2DbLeLKfSn8rgW7YzE6akuSTMjIY29vd+/m13DAznvnF79uTvEj4nYxIpZcvRXbdsKCyqA+UTK7hvacQAWWY0izLNFjIT30rapwhEUdyFWHpLk8CA4gqSNYVJnYxcKBSwkTY/OpMU+5gD0jjZTIXbINuqpNWOVyAUdR4eht8znh8tgtzhLDprtd2HbKc1AhYzgGq+eQ2w/tGYwGFNOJVAeUgw7lOR6gils5dVNuCbux6Li56QiSAhE4VXZLoIJN5CxIRwT0DlhLA2i4RhtCJmUByVAJwfIJtY40UY1TaTnpDijqhBJZSKkUQhDyialy3/9wwZ1383k5H54SHDgg8SpHpUrV02OttBrkRRNGajvGQxXGQo0W3KLbWqZ1EZWNpyX7eOGT/yVWPzurx5X+dlk3iQ4envRFlaBYpZa575aHsiMMPXoqdJmtygPr6oO19gMhNcxcL8NVdqMELcwzL8/uY4ay8DPH9ZW+UcQwkeAqHwT5w6va+aLPTPW1QJXTni+QYuW7gr9SHO5/eesfYdwFkua/O6kAAAAASUVORK5CYII=";

var img = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKoAAACqCAMAAAAKqCSwAAAB0VBMVEUAAAB5d55fTP9fTf9fTP9eTf9eTP9fTP9fTf5fTf9aYnFfTP9fTP9RV2hfTP9fTf9fTP9fTP9eTP9eTf9eTf9eTP9fTv5fTf9fTP9fTf9fTf9fTP9fTf9fTf9eTP9eTP9fTP9fTf9YX3BaYnRfTf9fTf9fTP9fTP9QVmZeTf9eTf9fTf9fTf9fTP9fTf9fTf9fTf9eTP9fTf9eTf9jantgTv1fTP9fTf9fTf9fTf9fTP9fTf9eTP9eTftfTf9fTf9eTf9fTP9fTf9fTf9gTvxfTf9aY3RaYnJfTf9fTf9fTf9eTf9aYnNZYXJeTP9fTf9eTuxbYnRfTv1cTuBfTvJfTf9eTP1fUPhfUuVcVsJbT91cT9tbWKtcWLFbXpNdVM5ZX3ReTvtcUsxbVMRcU8heUOb8/P5cWLlcVMheTPxZWZ79/v7+/v63ucpcXJvw8fSvs7r29vmVmarp6e7NztNWU7j7+/vR0eH7+/zh4uTy8/Tr7O2wsbr39/z3+Pj3+Pjl5+rKytSnptWpqsqKisD5+vro6PLs7PTa2ulfTf////9zY//r6P/19P9pWP/DvP+Hef+bkP/r6f+vpv/X0v+5sf/h3v/Nx/+lm/+RhP99bv89/FqOAAAAiXRSTlMABMw/RS9kbCdWB092BUIslzo8U180Ko9Zh5syI4RbNjh9DRBxaUd5CWdRrXNhXaNLSYpvCyBNgIGxjHtMG76UkqG6nh60JhnIqKbEExWqtyciFh4jwRkTIR0mGx0iISAdDycZFRjkKCQKGeLxOSeNP6ksby4QxVnUT5yAHsnJuF9HREI213iiZ4OOOrcAAA/ESURBVHja1NhPj5pAGAbwIYrr4gLVXf9lqavJFi3RZtHFblpJe/ATcIAzR7JNeuhemjTp3U/deWccRxjsSTLjYzTG0y9P3nkBURXpxehC4lj1EF1EAsuqX4Z1W6tZdde9AOu204FWfX+LFE/U7tQw1fX9jeLWrIupNdyq+7RpKW3V9DGlukD1AqRsNPuBUmFW1y3vVl2r02VU14dWvWtVrfF9l7f6BK1eK2pNdULlx6qFqQMVrVpTL7Ta8jB14CDl0tSPqO6BOvqknDWyCbW9p9IBINQ7xaxZj1L5rMKxuiXUhVJWzQFqYQBYq4tGE6mTuNmzbeFYsVYbClnTJqbqeeoG9iqjflTFqgWcyvfqGmaVUT8oYo2cIhVuAumsDvbUKyWsmiNQ6wfqiFGvekh+wgLVosdq7eWpK/nWNAjKWl23itRH2VYt5FTeqnu8Vxd76txGUpNsxVaBKrY6n99ItWrhNnDEDYCpa3YJuGuwVm+kWhNKFVsVNgChTnUkK1mMqUFJq/4GNkCx1en0qzRrFOap7fILK6dOJpKsWZRvtctaFQeAtTr5fI9kJGFUYa9SqnCsgPoiw5pFhHriwup5+3uARb7Vl/cSrGkUc6pd2KvlG2AC1IqtGrzJi/+URFF4guoL1Eeg0laHwy6qMsCEcG2WlA6AxfaqB9RR8VhBq8Mlt1ahNIGJvxw6TkQqf7Zie3VU2uryC7NWUadpsk+T9poxaumdFW2VD8Bqlaf2H1AFASIIDfIiZOCnSVRKtWir/OFaPFbD5bJfiZW2aRrG20/DMGmzCBkpH4CSVhl1dNzq9KjV/vfx+aEmxMB5/fGGrRCMT4EqbIDTDyz5AVhi6rfxuaEadc5mv3a7v7MZfAdt+r9WXfL/qjgAvFWgvmuf30qkf153u93v5+cZsWaEGpdT3dJba5H6j1Vz+00iCsJ4vDz4Um8x3qIxYdUYjalGaqJ4ibb1UkFbwQhCiwK1TcHUFrFatfEW4w5QWrHV+tc6c85ujzA7sCDzwusv337nm5lzQNYei0qgweAs/KjDa0RVrCWGymcApipDPdxbVg0aeAVQXq7AN2RF2GAp95hQ3SGQN1bKVSEBCPWyRkXWHgVqn/r6QSQNzEHNtjeg8D4QOBU8VSo9e5x7OImoQre6iA7gjTUUcsNKoSLr4N4eiYqkWtPAR6iWbdv+CbOWhbAlUpVQhxpQ93jNAGebDXDUGGBw8MbenoiqfEqklpWHuo21AoVXiBpA1Nwk1tWrA8LC0sarlzdRkbUHRaQIiqRF+GGrWoPXlqVIc48nUVU5AQiV71amW2mvDt7o79/WA1kJVZG+ysOqRl2uwlvLylFNEqqUAHKuEqo5Vqhq/8i2HpAqp1qWNQe/bKfqkA9bM0Sape8vtAC9BQiqGgPsVqqO3N3WC6cqo1JQ2W5V4F1kZmYml82RqkOCqsIW0JQAhx3U+zt7Ean4/cMUVLr0yZqfwcpOJpNJQdWmyeqERiVSMwMYAyDqmZ3/Q6qTKoikeKaMqBRYi0SazRLqkHysnNF6n6BqI6ph7fZUBUlUdaZMlQE+Sah8smpADXkcq36Nemnn/3x/R1Rs/obTCayURo1Gh3xNVuZYyahds24hqxIqBdWGwXQCayGVUqioasxzt8K+6qdbGQNcGh7e3jWrJrXoTDXVb3g+n0JSpWpMVLVVAhzgqg4/2N5tVOlOpYKqudZhNpVNtDCAeQ6WGytHvdmdrq5V30CdkarASiSS0WR0aCAWGxXerXyijjgGQNRuWGl7Uk21CNWVMq91mEslElFUNU4G2O+FeloMK1HVm9dOdmNVJWogD1ItJJLEGv/XAMfYDCCpyr06rFC7YHXOfzGv6rlHzSWUWQdadSt+FcznVST9F/XR+c7nP2KlBhC5/fTp2NjYLafGsJ5OTKTw+6eTJOpArAF1r2sAM6+ae4CQVlVIAI1671zn3x9RkTR8+zaxGlSqCWRNKK/G0QA7PEdrX8dqsMkAhHqvM111VhFqRKvawDqhUdPRNKLGRkfbvwbyIVBW9d6dc51d/ehNhb6/a4CvL1/Ob6Km0AHpdDoajcViXl41j+z7vK/XjKoc9c6VzkTto+9vRTTq/LulAlAtLS5o1nGSVanKDaA31u5VvbP1ov9DpRuAi7qwRJTVSqVKv/kikiLreFqjxvgLix6teViFzE2gV1g92ERlrHJX1VmlrTq/iJi11bKaVFZqFYDnL4mUDBAnVOZVWq5ZAvA18LpCRVKG2gErTYBoVYus+iIP1fqybWq1AoXvWtW4QkVSn+NKqH0L0KpiXfEpq5uqkcinAqw3zSvlGsDsOKFqVY/sN6iiAeRuNeKBylhlVHSq/v44rdaMpGZthaJinUZSMoD8xCajyqoqVp8e6NNZhah5vVZz1sKX8fHp6bg3aoOqZ8U7Kz1aC6oyXcVYRVH1skKa8qrBB0RF1iejox7HSj9biAnADWCO1SNC5azyAqBQww1zNVtaNCqy8ptAfr963MwA4hBowsqti+3XakJtvADgS8sHQn2iUXfxboVDIHtiI1U5qmQAzipvgOE8iSrL6qJSAnADiI9Bh5rWwLsc1T+rE1VvYd0Waw1mpzKOqgxVJwC/s/Kbq/5YTauyFmFNRl2BD1PTGUJFWduH1XF5ub7LjxVnlXcVGlXCr2FDRl2GwlQmk9Gouzz+ECIYwNe44p+VVEXUN/DHlqsKX6ccVO7V5o31gnC9JqByVpkUUfWpkqsCnxXqE6Oq2QLwhUXIVd5YDSozAGflBqBW1R41g4WkfAZgLyzcq/xYyagya5+zq7Q2AMCUqyrPVWe3OthqsrouG4CzSq//zq76t5oz/5EhCuJ4T4hr3UcciXMY1yJYZwhCTCJGXBnERGYdw65da9Z93yTNYtz8tar6Tc3r6W/XPNpMtpX1C798Ultdd72qX9NJf9FndVm0alCXLA61LP4is3Kj7tithYB6Wv2glbOq+Y8ElYeBOGSH1QXdVrEKQFK9BGTUe/6IjvrBfw2ocsIQGVyuwNWFFiGAWJFU/6wMav6u/xEQbe/6ua5VQZ2Hg0vMrLTA6ib1uLFmUIf8L7pSq5cJVUIAtte6lK41ahWdFZKqapVqdXjA/6ErVVBBq2QAzu6KAxVI9S4wOStWq5kCo9C4/Q2RXuHfv/WreMSEy0t6IwhQkRSFbFU6a1UeBKF89ysvL4e06t4IwhDgLliQFB1rowmYH74bw/r+i195ce0ao15BAzCoEq2c4+B9WhKIpCiCmuXOCrGOROz14zsmZdTz1lanYWptDQCc1U7HZ4WkurGaKpAbltxc+VQLgX7x/VdMyvUKpNaupiW2gvdpgRVJUSQISBvwRoVgP9RoJvCr9pX6QANDB68xap31ZAN1TthWuyJ+tVvRqqBCtHKTZpjVNFdZrWViZVgRAqXWZUAalIEnw1qd0XQcyqiLkjaCkFQfBBnXKi3rZw+ePK5UXj0ZunOQhEkF9SRWrDmpWPUqwJFaI6meBYpaiVUmAVaov8qopr92VJqWjrlVNwTWPWofAEgdxir+qhxhNQ12aa9RIwgKFj2wLv3TaIWkeieQm5YyCmBWS2pRSaBnNXMqNIJcVQB+VkDqrq+tWoX1WAO11GhaKmMLrK1WulBFq0iq+4AQqrCGx1YkJaPV2FZwzlYBLT2AZqtri3+5DMQW8PDmzUGW600yGEhjbAFazTVWF+bBCQOgYmB1k2LbgqfBqlQFVfEAYqvKhEX3AEeKyXYsbvNgBWXErwzawSUagCSBCfyqQuo01uy9+IT1nT9Ec0uaXKJW7asL2F2J3bNq7lkdAlKnVqVxVY2rWWp+pSRDVmV7LXQXsBpsVdWqQuqw1bpaHw5gKfj2nX9DULcog8uuuBDgHFxuKCZcCOoxu0vfYkpAnrGePasYgKQrjpYFFiwbjidaspB5AK2D/4AScJBQeXmFd1ccu9aOEBDOV/cRaWLWeuPifaSwqhrSs7wOoG0EMaq+ZwWfFaHu10jdxioF1m3/a+SbCpRqtHpasVVtxqr3V5ORZmTPKkivnzWPhOibOlcytkqs4WuLOTBi+4uu9QIHqXt2zZXA/bDD+uxXyv1MatYXTzt2AiEHUFAdpO702gyvh0MO6+2I/7RMrGdKsr0GBjBVdq1VZ4Wp9fSkpDJnk+z6Ac0vraPKl/sJtW6rFFhlywK6K4CqBtbkpOICBLVM63bWUeXzbAAXAls9razaKkuhSma1959ITbySQuAOOSwJ/mVC7S+ZVdtAq3FPGVjU2c7UWkiTokrZakpBcVjkqIbz+UI/CbEWT8C1haQreMaof1YJSbFoMYXAYPBlvSdHVTaoFwK1FpWlUO00LG5uNTcRKXYDpMI2XWE6CmDSw4cD0kvFS81anaPvBG5W/erOU225s2RUo1Z2WD/NN1UoHM5eZFb92iLnyletVhOTYoG1TFjJYVHwzwdKzd66GJww7FbPGNmvYisYndUmIE0YsEyB1fiy/IG6UpdlgyOWs0yK91birCBdwbHFfCBNHAWkxGa93qOVpUKBdZpd1sOkJKBVJbVW+qsLT7XzLtSwsg0Unlwl0EKWSXtuMSsfXOLJbWPE5spXgTS5mHu7VYaVd66eskYZla4DDWrLk1vX9tr2tpFmjF5XkbkaVgZllZJMmnTrFN2GFdmv6q8ugFabbFUhTewEmJXbLCQBJwufh07h1wGsreKQHSYs0XRlWxtIMRcUWCbtWUUq5TtxPg62L4SoBYt2GbS03aTm3ppIA9oeEjkPntLHatUOmR0b7G0ixQwrYxRLP/TXHF1nSPg6VD8N29pSqyuBtF32ynhMazQ6ie/uGw9EKI9EbW3lV9tEipkAsxKtEaKkH/vsBh4yu/dXJwNpu58ImGJISYwr65P3AVquhc8GrXb3eh2RDP8hMbyk4UDMf4EBwLK9bQVbZ9UBUnzPQlQq0otJoHsfYDmQtlOtQsuk8g8smegDETPw4jL6QgiRdliaEK1a40NADt9eEwMYD6SdACWRD0oko9iqbAXDazYdIkVelF5Exf6qrQJWdJYUYfGZOKwCcMTW3c2koyi9ylsWsGZDqKuJdDSlqLxlgQXLuFEm9fqU54y2hi/Z2VmtI9JRluNKdyViq7NHn9TLxNlqtL2WClL6stBWoWBZnwpSz9utPLthN4IWpYSU3rUVA1BCwLy0kHreqVa11ew0kXreAfAAoWg1MU2k9K49ttdEq7P6vFRJL+wDiK2mjZTia0wnkFHXpI7U8yZEcgBjAF0pJPUy02Ie4d+aRlLKW9Cv7konKZmroMr+6sa0knrelqY1m65cekk9bxqvL0ojaGyaSclcra2mm5RY54gBTE05KbEuMS2LMaknpQjLIeC/IKVSi7T6f5CSe5068z8hpUS7I6S/ARbzgdCIDH2vAAAAAElFTkSuQmCC";

var OverviewMapPluginEvent;(function(_0x3e6722){_0x3e6722['RotateCamera']='rotatecamera',_0x3e6722['TranslateCamera']='translatecamera';}(OverviewMapPluginEvent||(OverviewMapPluginEvent={})));class OverviewModel extends Model{constructor(_0x1463ff,_0x1c698b,_0x15fcdc){super(),this['modelId']=_0x1463ff,this['modelObject']=_0x1c698b,this['bbox']=_0x15fcdc;}['getModelObject'](){return this['modelObject'];}['getBBox'](){return this['bbox'];}}class OverviewMapViewer extends BaseViewer{constructor(_0x426819){super(_0x426819),this['drawableList']=new DrawableList('overviewMap'),this['cameraManager']['setProjection'](CameraProjection['Orthographic']),this['cameraManager']['setNavigationMode'](ControlsMode['Plan']);const _0x261b49=new THREE['Vector3'](0x0,0x64,0x0),_0xb3c087=new THREE['Vector3'](0x0,0x0,0x0),_0x2c311e=new THREE['Vector3'](0x0,0x1,0x0);this['cameraManager']['goToViewpoint']({'eye':_0x261b49,'look':_0xb3c087,'up':_0x2c311e}),this['resize'](),this['setupDefaultEvents'](),this['overlayRender']['addDrawableList'](this['drawableList']),this['createCameraDrawable'](),this['addEventListener'](ViewerEvent['BeforeRender'],()=>{this['updateRaycasterThreshold']();});}async['createCameraDrawable'](){const _0x35c20b=await this['getImageBySrc'](img$3),_0x5727ea=await this['getImageBySrc'](img$1),_0x3a423b=await this['getImageBySrc'](img$2),_0x46e0af=await this['getImageBySrc'](img),_0x112638=new ImageDrawable('camera',{'image':_0x35c20b,'hoverImage':_0x5727ea,'rotationPoint':new THREE['Vector2'](),'offset':new THREE['Vector2'](-0xa,0xa),'width':0x14,'height':0x14});this['cameraDrawable']=_0x112638;const _0x174258=new ImageDrawable('cameraDirection',{'image':_0x3a423b,'hoverImage':_0x46e0af,'rotationPoint':new THREE['Vector2'](0x15,0x0),'offset':new THREE['Vector2'](-0x2a,0x15),'width':0x2a,'height':0x2a});this['cameraDirectonDrawable']=_0x174258,this['drawableList']['addDrawable'](_0x174258),this['drawableList']['addDrawable'](_0x112638);}get['enableSelection'](){return this['_enableSelection'];}set['enableSelection'](_0x3677ab){this['_enableSelection']=_0x3677ab;}['setupDefaultEvents'](){let _0x184331,_0x1de069=![],_0x4cfb7e=![],_0x26c8f9=new THREE['Vector2']();this['inputManager']['addEventListener']('pointerdown',_0x393803=>{_0x184331&&_0x184331===this['cameraDirectonDrawable']&&(this['cameraManager']['enablePan'](![]),_0x1de069=!![],_0x26c8f9=new THREE['Vector2'](_0x393803['x'],_0x393803['y'])),_0x184331&&_0x184331===this['cameraDrawable']&&(this['cameraManager']['enablePan'](![]),_0x4cfb7e=!![],_0x26c8f9=new THREE['Vector2'](_0x393803['x'],_0x393803['y']));}),this['inputManager']['addEventListener']('pointermove',_0xf89f84=>{if(_0x1de069){const _0x40fc08=new THREE['Vector2'](_0xf89f84['x'],_0xf89f84['y']);this['handleRotateCamera'](_0x40fc08,_0x26c8f9),_0x26c8f9=_0x40fc08;return;}if(_0x4cfb7e){this['handleTranslateCamera'](_0xf89f84);return;}_0x184331&&(_0x184331['isHover']=![],_0x184331=undefined);const _0x1a7a18=this['pickPosition'](_0xf89f84);if(!_0x1a7a18)return;const _0x2b55cc=this['pickManager']['pickDrawable'](_0x1a7a18)[0x0];_0x2b55cc&&(_0x2b55cc['isHover']=!![],_0x184331=_0x2b55cc),this['getOverlayRender']()['render']();}),this['inputManager']['addEventListener']('pointerup',()=>{_0x1de069&&(this['cameraManager']['enablePan'](!![]),_0x1de069=![]),_0x4cfb7e&&(this['cameraManager']['enablePan'](!![]),_0x4cfb7e=![]);}),this['inputManager']['addEventListener']('dblclick',_0x405d0f=>{const _0x15e72f=this['pickPosition'](_0x405d0f);if(!_0x15e72f)return;this['dispatchEvent'](OverviewMapPluginEvent['TranslateCamera'],{'position':_0x15e72f});});}['handleRotateCamera'](_0x2f9336,_0x2bc135){if(!this['cameraDirectonDrawable'])return;const _0x39a321=this['cameraDirectonDrawable']['position'],_0x5cc9fd=CoordinateUtils['world2Screen'](_0x39a321,this['camera'],this['viewerContainer']),_0x5c1065=new THREE['Vector2']()['subVectors'](_0x2bc135,_0x5cc9fd),_0x16a07b=new THREE['Vector2']()['subVectors'](_0x2f9336,_0x5cc9fd),_0x2bee68=_0x16a07b['cross'](_0x5c1065),_0x3593e6=_0x2bee68<0x0?_0x16a07b['angleTo'](_0x5c1065):-_0x16a07b['angleTo'](_0x5c1065);this['cameraDirectonDrawable']['setRotation'](this['cameraDirectonDrawable']['rotation']+_0x3593e6),this['getOverlayRender']()['render'](),this['dispatchEvent'](OverviewMapPluginEvent['RotateCamera'],{'angle':_0x3593e6});}['handleTranslateCamera'](_0x327819){var _0x4f4c37,_0x306474;const _0x3d7db6=this['pickPosition'](_0x327819);if(!_0x3d7db6)return;(_0x4f4c37=this['cameraDrawable'])===null||_0x4f4c37===void 0x0?void 0x0:_0x4f4c37['setPosition'](_0x3d7db6),(_0x306474=this['cameraDirectonDrawable'])===null||_0x306474===void 0x0?void 0x0:_0x306474['setPosition'](_0x3d7db6),this['getOverlayRender']()['render'](),this['dispatchEvent'](OverviewMapPluginEvent['TranslateCamera'],{'position':_0x3d7db6});}async['loadModel'](_0x13cd13,_0x1ef430){const _0x1e9bf0=new THREE['TextureLoader']()['load'](_0x13cd13['src'],undefined,_0x1ef430),{x:_0x14e4f9,y:_0x86e7f9,z:_0x24e772}=_0x13cd13['min'],{x:_0x52dfca,y:_0x134d34,z:_0x4a5efe}=_0x13cd13['max'],_0x4a6179=new THREE['BufferGeometry']();_0x4a6179['setFromPoints']([_0x13cd13['min'],new THREE['Vector3'](_0x52dfca,_0x86e7f9,_0x24e772),_0x13cd13['max'],new THREE['Vector3'](_0x14e4f9,_0x134d34,_0x4a5efe)]),_0x4a6179['setIndex']([0x0,0x3,0x1,0x1,0x3,0x2]),_0x4a6179['setAttribute']('uv',new THREE['Float32BufferAttribute']([0x0,0x1,0x1,0x1,0x1,0x0,0x0,0x0],0x2));const _0x34ce60=new THREE['Mesh'](_0x4a6179,new THREE['MeshBasicMaterial']({'map':_0x1e9bf0})),_0x2abf56=new THREE['Box3'](_0x13cd13['min'],_0x13cd13['max']),_0x12fded=_0x13cd13['modelId']||_0x13cd13['src'],_0x39bf79=new OverviewModel(_0x12fded,_0x34ce60,_0x2abf56);this['addModel'](_0x39bf79),this['zoomToBBox'](_0x2abf56);const _0x2e7833=new THREE['BufferGeometry']();_0x2e7833['setFromPoints']([_0x13cd13['min'],new THREE['Vector3'](_0x52dfca,_0x86e7f9,_0x24e772),_0x13cd13['max'],new THREE['Vector3'](_0x14e4f9,_0x134d34,_0x4a5efe)]),_0x2e7833['scale'](0x186a0,0x1,0x186a0),_0x2e7833['setIndex']([0x0,0x3,0x2,0x0,0x2,0x1]);const _0x8d9654=new THREE['MeshBasicMaterial']({'color':'#888','side':THREE['DoubleSide']});this['groundPlane']=new THREE['Mesh'](_0x2e7833,_0x8d9654),this['groundPlane']['visible']=![],this['groundPlane']['name']='groundPlane',this['groundPlane']['renderOrder']=GroundPlaneRenderOrder,this['groundPlane']['layers']['enableAll'](),ObjectUtils['disableLayerChannels'](this['groundPlane'],[LayerForSelectableObjects]),this['scene']['add'](this['groundPlane']),this['enableRender'](0x0);}['asyncMainCameraToDrawable'](_0x273950,_0x25cf0c){var _0x1b7ae4,_0x424733,_0x40f30c;const _0x4a7eb2=new THREE['Vector3']()['subVectors'](_0x273950,_0x25cf0c)['projectOnPlane'](this['camera']['up']),_0x54f9f6=Math['atan2'](_0x4a7eb2['z'],_0x4a7eb2['x']);(_0x1b7ae4=this['cameraDrawable'])===null||_0x1b7ae4===void 0x0?void 0x0:_0x1b7ae4['setPosition'](_0x273950),(_0x424733=this['cameraDirectonDrawable'])===null||_0x424733===void 0x0?void 0x0:_0x424733['setRotation'](_0x54f9f6),(_0x40f30c=this['cameraDirectonDrawable'])===null||_0x40f30c===void 0x0?void 0x0:_0x40f30c['setPosition'](_0x273950),this['getOverlayRender']()['render']();}['getImageBySrc'](_0xef92b){const _0x133fff=new Image();return _0x133fff['src']=_0xef92b,new Promise((_0x20096f,_0x4e3f5c)=>{_0x133fff['onload']=()=>{_0x20096f(_0x133fff);},_0x133fff['onerror']=_0x520dae=>{_0x4e3f5c(_0x520dae);};});}['pickPosition'](_0x454735){var _0x13cac5;const _0x55b150=[];return this['groundPlane']&&_0x55b150['push'](this['groundPlane']),(_0x13cac5=this['pickManager']['pickObject'](new THREE['Vector2'](_0x454735['x'],_0x454735['y']),_0x55b150))===null||_0x13cac5===void 0x0?void 0x0:_0x13cac5['point'];}['is3d'](){return !![];}['setObjectHighlight'](_0x1e980d){throw new Error('Method\x20not\x20implemented.');}['clearHighlight'](){throw new Error('Method\x20not\x20implemented.');}['updateRaycasterThreshold'](){const _0x145655=this['getPixelSizeInWorldCoord']()*0x3,_0x96ccba=this['getRaycaster']()['params'];!_0x96ccba['Line']?_0x96ccba['Line']={'threshold':_0x145655}:_0x96ccba['Line']['threshold']=_0x145655,!_0x96ccba['Points']?_0x96ccba['Points']={'threshold':_0x145655}:_0x96ccba['Points']['threshold']=_0x145655;}}

class OverviewMapPlugin extends Plugin{constructor(_0xe3a133,_0x3fbe6d){const _0x2f41c8=(_0x3fbe6d===null||_0x3fbe6d===void 0x0?void 0x0:_0x3fbe6d['id'])||OverviewMapPlugin['DEFAULT_ID'];super(_0xe3a133,{'id':_0x2f41c8}),this['cfg']=_0x3fbe6d||{},this['mapViewer']=new OverviewMapViewer({'containerId':this['cfg']['containerId']}),this['mapViewer']['setBackgroundColor'](0x1,0x1,0x1),this['mapViewer']['loadModel']({'src':_0x3fbe6d['image'],'min':_0x3fbe6d['min'],'max':_0x3fbe6d['max']}),this['viewer']['addEventListener'](ViewerEvent['AfterRender'],()=>{const {position:_0x4163b9,target:_0x33ea36}=this['viewer']['getCameraInfo']();this['mapViewer']['asyncMainCameraToDrawable'](_0x4163b9,_0x33ea36);}),this['mapViewer']['addEventListener'](OverviewMapPluginEvent['RotateCamera'],({angle:_0x45ecff})=>{const {position:_0x62a85d,target:_0x294568}=this['viewer']['getCameraInfo'](),_0x597375=new THREE['Vector3']()['subVectors'](_0x62a85d,_0x294568)['applyAxisAngle'](this['viewer']['camera']['up'],-_0x45ecff),_0x42e5eb=_0x62a85d['clone']()['sub'](_0x597375);this['viewer']['flyTo'](_0x62a85d,_0x42e5eb,![]);}),this['mapViewer']['addEventListener'](OverviewMapPluginEvent['TranslateCamera'],({position:_0x28e297})=>{const _0xf54b1c=this['viewer']['getCameraInfo']();_0x28e297['setY'](_0xf54b1c['position']['y']);const _0x18e73b=_0x28e297['clone']()['sub'](_0xf54b1c['position']),_0x2dab1f=_0xf54b1c['target']['clone']()['add'](_0x18e73b);this['viewer']['flyTo'](_0x28e297,_0x2dab1f,![]);});}get['inputManager'](){return this['mapViewer']['getInputManager']();}['initEvents'](){}}OverviewMapPlugin['DEFAULT_ID']='OverviewMapPlugin';

export { ActionType, ArrowMarkup, AxisGizmoPlugin, AxisPlaneSection, AxisType, AxisX$1 as AxisX, AxisY$1 as AxisY, AxisZ$1 as AxisZ, BaseMarkup, BaseMeasureDrawable, BaseMeasurement, BaseSection, BottomBarPlugin, CircleMarkup, CloudLineMarkup, CloudRectMarkup, ContextMenuItems, ContextMenuPlugin, DefaultMarkupToolbarConfig, DefaultViewer2dToolbarConfig, DefaultViewer3dToolbarConfig, DotMarkup, EllipseMarkup, ExplodePlugin, ExportFormats, ExportPlugin, GroundGrassPlugin, GroundGridPlugin, GroundShadowPlugin, GroupConfig, HotpointPlugin, LayerManagerPlugin, LeaderLineMarkup, LocalDxfUploader, LocalModelUploader, MarkupGroupConfig, MarkupPlugin, MarkupPluginEvent, MarkupToolbar, MarkupType, MeasurementPlugin, MeasurementType, MenuTypeEnums, NavCubePlugin, ObjectsBoxSection, OverviewMapPlugin, PdfLoader, PdfLoaderPlugin, PickPlaneSection, PolylineMarkup, PropertyPlugin, RectMarkup, ScreenshotMode, ScreenshotPlugin, SectionPlugin, SectionType, Settings2dPlugin, Settings3dPlugin, SkyboxPlugin, StatsPlugin, TextMarkup, TextMarkupEvent, Toolbar, ToolbarMenu, ToolbarMenuId, TreeViewPlugin, ViewCubePlugin, Viewer2dToolbarPlugin, Viewer3dDatGuiPlugin, Viewer3dToolbarPlugin, XMarkup };
